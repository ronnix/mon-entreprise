(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory(require("classnames"), require("i18next"), require("moo"), require("nearley"), require("ramda"), require("react"), require("react-easy-emoji"), require("react-i18next"), require("react-markdown"), require("react-router-dom"), require("react-router-hash-link"), require("yaml"));
	else if(typeof define === 'function' && define.amd)
		define(["classnames", "i18next", "moo", "nearley", "ramda", "react", "react-easy-emoji", "react-i18next", "react-markdown", "react-router-dom", "react-router-hash-link", "yaml"], factory);
	else if(typeof exports === 'object')
		exports["publicodes"] = factory(require("classnames"), require("i18next"), require("moo"), require("nearley"), require("ramda"), require("react"), require("react-easy-emoji"), require("react-i18next"), require("react-markdown"), require("react-router-dom"), require("react-router-hash-link"), require("yaml"));
	else
		root["publicodes"] = factory(root["classnames"], root["i18next"], root["moo"], root["nearley"], root["ramda"], root["react"], root["react-easy-emoji"], root["react-i18next"], root["react-markdown"], root["react-router-dom"], root["react-router-hash-link"], root["yaml"]);
})(window, function(__WEBPACK_EXTERNAL_MODULE_classnames__, __WEBPACK_EXTERNAL_MODULE_i18next__, __WEBPACK_EXTERNAL_MODULE_moo__, __WEBPACK_EXTERNAL_MODULE_nearley__, __WEBPACK_EXTERNAL_MODULE_ramda__, __WEBPACK_EXTERNAL_MODULE_react__, __WEBPACK_EXTERNAL_MODULE_react_easy_emoji__, __WEBPACK_EXTERNAL_MODULE_react_i18next__, __WEBPACK_EXTERNAL_MODULE_react_markdown__, __WEBPACK_EXTERNAL_MODULE_react_router_dom__, __WEBPACK_EXTERNAL_MODULE_react_router_hash_link__, __WEBPACK_EXTERNAL_MODULE_yaml__) {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./source/index.ts");
/******/ })
/************************************************************************/
/******/ ({

/***/ "../node_modules/css-loader/index.js?!../node_modules/postcss-loader/lib/index.js!./source/components/mecanisms/Barème.css":
/*!*************************************************************************************************************************!*\
  !*** ../node_modules/css-loader??ref--11-1!../node_modules/postcss-loader/lib!./source/components/mecanisms/Barème.css ***!
  \*************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("exports = module.exports = __webpack_require__(/*! ../../../../node_modules/css-loader/lib/css-base.js */ \"../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.i, \".barème > .nodeHead .name {\\n\\tbackground: #1abc9c;\\n}\\n\\n.barème .key {\\n\\tcolor: #1abc9c;\\n}\\n.mecanism.barème {\\n\\tborder-color: #1abc9c;\\n}\\n\\n.barème table {\\n\\tmargin: 1em 0;\\n\\twidth: 100%;\\n\\ttext-align: left;\\n\\tfont-weight: 400;\\n}\\n.barème table td {\\n\\tpadding: 0.1em 0.4em;\\n}\\n.barème table th {\\n\\tfont-weight: 600;\\n}\\n.barème table th:first-letter {\\n\\ttext-transform: uppercase;\\n}\\n.barème .tranche:nth-child(2n) {\\n\\tbackground: #f1f1f1;\\n}\\n.barème .tranche.activated {\\n\\tbackground: yellow !important ;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"/home/johan/Projets/mon-entreprise/publicodes/source/components/mecanisms/Barème.css\"],\"names\":[],\"mappings\":\"AAAA;CACC,oBAAoB;CACpB;;AAED;CACC,eAAe;CACf;AACD;CACC,sBAAsB;CACtB;;AAED;CACC,cAAc;CACd,YAAY;CACZ,iBAAiB;CACjB,iBAAiB;CACjB;AACD;CACC,qBAAqB;CACrB;AACD;CACC,iBAAiB;CACjB;AACD;CACC,0BAA0B;CAC1B;AACD;CACC,oBAAoB;CACpB;AACD;CACC,+BAA+B;CAC/B\",\"file\":\"Barème.css\",\"sourcesContent\":[\".barème > .nodeHead .name {\\n\\tbackground: #1abc9c;\\n}\\n\\n.barème .key {\\n\\tcolor: #1abc9c;\\n}\\n.mecanism.barème {\\n\\tborder-color: #1abc9c;\\n}\\n\\n.barème table {\\n\\tmargin: 1em 0;\\n\\twidth: 100%;\\n\\ttext-align: left;\\n\\tfont-weight: 400;\\n}\\n.barème table td {\\n\\tpadding: 0.1em 0.4em;\\n}\\n.barème table th {\\n\\tfont-weight: 600;\\n}\\n.barème table th:first-letter {\\n\\ttext-transform: uppercase;\\n}\\n.barème .tranche:nth-child(2n) {\\n\\tbackground: #f1f1f1;\\n}\\n.barème .tranche.activated {\\n\\tbackground: yellow !important ;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n//# sourceURL=webpack://publicodes/./source/components/mecanisms/Bar%C3%A8me.css?../node_modules/css-loader??ref--11-1!../node_modules/postcss-loader/lib");

/***/ }),

/***/ "../node_modules/css-loader/index.js?!../node_modules/postcss-loader/lib/index.js!./source/components/mecanisms/Composantes.css":
/*!******************************************************************************************************************************!*\
  !*** ../node_modules/css-loader??ref--11-1!../node_modules/postcss-loader/lib!./source/components/mecanisms/Composantes.css ***!
  \******************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("exports = module.exports = __webpack_require__(/*! ../../../../node_modules/css-loader/lib/css-base.js */ \"../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.i, \".composantes > ol {\\n\\tlist-style: none;\\n\\tcounter-reset: li;\\n\\tpadding-left: 1em;\\n}\\n.composantes > ol > li > ul > li {\\n\\tlist-style-type: none;\\n}\\n\\n.composantes .composanteAttributes {\\n\\tdisplay: inline-block;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"/home/johan/Projets/mon-entreprise/publicodes/source/components/mecanisms/Composantes.css\"],\"names\":[],\"mappings\":\"AAAA;CACC,iBAAiB;CACjB,kBAAkB;CAClB,kBAAkB;CAClB;AACD;CACC,sBAAsB;CACtB;;AAED;CACC,sBAAsB;CACtB\",\"file\":\"Composantes.css\",\"sourcesContent\":[\".composantes > ol {\\n\\tlist-style: none;\\n\\tcounter-reset: li;\\n\\tpadding-left: 1em;\\n}\\n.composantes > ol > li > ul > li {\\n\\tlist-style-type: none;\\n}\\n\\n.composantes .composanteAttributes {\\n\\tdisplay: inline-block;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n//# sourceURL=webpack://publicodes/./source/components/mecanisms/Composantes.css?../node_modules/css-loader??ref--11-1!../node_modules/postcss-loader/lib");

/***/ }),

/***/ "../node_modules/css-loader/index.js?!../node_modules/postcss-loader/lib/index.js!./source/components/mecanisms/InversionNumérique.css":
/*!*************************************************************************************************************************************!*\
  !*** ../node_modules/css-loader??ref--11-1!../node_modules/postcss-loader/lib!./source/components/mecanisms/InversionNumérique.css ***!
  \*************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("exports = module.exports = __webpack_require__(/*! ../../../../node_modules/css-loader/lib/css-base.js */ \"../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.i, \".inversionNumérique #inversionsPossibles {\\n\\tlist-style-type: disc;\\n\\tmargin-left: 1rem;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"/home/johan/Projets/mon-entreprise/publicodes/source/components/mecanisms/InversionNumérique.css\"],\"names\":[],\"mappings\":\"AAAA;CACC,sBAAsB;CACtB,kBAAkB;CAClB\",\"file\":\"InversionNumérique.css\",\"sourcesContent\":[\".inversionNumérique #inversionsPossibles {\\n\\tlist-style-type: disc;\\n\\tmargin-left: 1rem;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n//# sourceURL=webpack://publicodes/./source/components/mecanisms/InversionNum%C3%A9rique.css?../node_modules/css-loader??ref--11-1!../node_modules/postcss-loader/lib");

/***/ }),

/***/ "../node_modules/css-loader/index.js?!../node_modules/postcss-loader/lib/index.js!./source/components/mecanisms/Somme.css":
/*!************************************************************************************************************************!*\
  !*** ../node_modules/css-loader??ref--11-1!../node_modules/postcss-loader/lib!./source/components/mecanisms/Somme.css ***!
  \************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("exports = module.exports = __webpack_require__(/*! ../../../../node_modules/css-loader/lib/css-base.js */ \"../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.i, \"/* mécanisme somme */\\n.somme table {\\n\\twidth: 100%;\\n\\tborder-collapse: collapse;\\n}\\n.somme td.blank {\\n\\tbackground: white;\\n\\tborder: 1px solid white;\\n\\tborder-right: 1px solid rgba(51, 51, 80, 0.15);\\n}\\n.somme tr {\\n\\tborder: 1px solid rgba(51, 51, 80, 0.15);\\n\\ttext-align: right;\\n}\\n.somme tr:hover {\\n\\tbackground: rgba(51, 51, 80, 0.02);\\n}\\n.somme tr .element {\\n\\ttext-align: left;\\n\\tpadding: 0.1em 0.6em;\\n}\\n.somme tr .value span {\\n\\ttext-align: right;\\n}\\n.somme .leaf .name {\\n\\tborder: none;\\n}\\n.somme .operator + .element {\\n\\tborder-left: none;\\n}\\n\\n.mecanism-somme__row > .element > * > .nodeContent + * {\\n\\tdisplay: none;\\n}\\n.mecanism-somme__row > .element > * > .nodeContent {\\n\\tdisplay: flex;\\n\\talign-items: center;\\n}\\n.mecanism-somme__row > .element > * > .nodeContent > .operator:first-child {\\n\\tmargin-left: 0;\\n}\\n\\n#rule-rules .somme table .leaf .situationValue {\\n\\tdisplay: none;\\n}\\n\\n#rule-rules .somme table .situationValue {\\n\\tpadding: 0 1em;\\n}\\n\\n.somme .nested {\\n\\tpadding: 0;\\n\\tborder: none;\\n}\\n.somme .nested tr:first-child {\\n\\tborder-top: none;\\n}\\n.somme .noNest {\\n\\tborder-bottom: none;\\n}\\n.somme > table {\\n\\tborder-bottom: 1px solid rgba(51, 51, 80, 0.15);\\n}\\n\\n#sommeBase {\\n\\ttext-align: center;\\n}\\n\\n.detailsRow {\\n\\tbackground: rgba(51, 51, 80, 0.02);\\n}\\n\\n.mecanism-somme__table {\\n\\tdisplay: flex;\\n\\tmax-width: 100%;\\n\\tflex-direction: column;\\n}\\n\\n.mecanism-somme__row {\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tflex-flow: row nowrap;\\n\\tborder-top: 1px solid rgba(51, 51, 80, 0.15);\\n}\\n.mecanism-somme__row:first-child {\\n\\tborder-top: none;\\n}\\n\\n.mecanism-somme__row .element {\\n\\tflex: 1;\\n\\tmax-width: 100%;\\n\\tdisplay: flex;\\n\\talign-items: baseline;\\n\\tpadding: 0.1em 0.4em;\\n\\tpadding-top: 0.2em;\\n\\toverflow: hidden;\\n}\\n.mecanism-somme__row .element .unfoldIndication {\\n\\ttext-transform: capitalize;\\n\\tflex: 1;\\n\\tmargin-left: 0.6rem;\\n\\ttext-align: left;\\n}\\n\\n.mecanism-somme__row .value {\\n\\tpadding: 0.1em 0.4em;\\n}\\n.mecanism-somme__row .operator {\\n\\talign-self: center;\\n}\\n\\n.mecanism-somme__row .element .variable,\\n.mecanism-somme__row .element .nodeHead {\\n\\toverflow: hidden;\\n\\ttext-overflow: ellipsis;\\n\\tmax-width: 100%;\\n}\\n\\n.mecanism-somme__row .element .situationValue {\\n\\tdisplay: none !important;\\n}\\n\\n/* Nested Mecanism */\\n.mecanism-somme__row + .nested {\\n\\tpadding-left: 2em;\\n\\tborder-top: 1px dashed rgba(51, 51, 80, 0.15);\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"/home/johan/Projets/mon-entreprise/publicodes/source/components/mecanisms/Somme.css\"],\"names\":[],\"mappings\":\"AAAA,qBAAqB;AACrB;CACC,YAAY;CACZ,0BAA0B;CAC1B;AACD;CACC,kBAAkB;CAClB,wBAAwB;CACxB,+CAA+C;CAC/C;AACD;CACC,yCAAyC;CACzC,kBAAkB;CAClB;AACD;CACC,mCAAmC;CACnC;AACD;CACC,iBAAiB;CACjB,qBAAqB;CACrB;AACD;CACC,kBAAkB;CAClB;AACD;CACC,aAAa;CACb;AACD;CACC,kBAAkB;CAClB;;AAED;CACC,cAAc;CACd;AACD;CACC,cAAc;CACd,oBAAoB;CACpB;AACD;CACC,eAAe;CACf;;AAED;CACC,cAAc;CACd;;AAED;CACC,eAAe;CACf;;AAED;CACC,WAAW;CACX,aAAa;CACb;AACD;CACC,iBAAiB;CACjB;AACD;CACC,oBAAoB;CACpB;AACD;CACC,gDAAgD;CAChD;;AAED;CACC,mBAAmB;CACnB;;AAED;CACC,mCAAmC;CACnC;;AAED;CACC,cAAc;CACd,gBAAgB;CAChB,uBAAuB;CACvB;;AAED;CACC,cAAc;CACd,oBAAoB;CACpB,sBAAsB;CACtB,6CAA6C;CAC7C;AACD;CACC,iBAAiB;CACjB;;AAED;CACC,QAAQ;CACR,gBAAgB;CAChB,cAAc;CACd,sBAAsB;CACtB,qBAAqB;CACrB,mBAAmB;CACnB,iBAAiB;CACjB;AACD;CACC,2BAA2B;CAC3B,QAAQ;CACR,oBAAoB;CACpB,iBAAiB;CACjB;;AAED;CACC,qBAAqB;CACrB;AACD;CACC,mBAAmB;CACnB;;AAED;;CAEC,iBAAiB;CACjB,wBAAwB;CACxB,gBAAgB;CAChB;;AAED;CACC,yBAAyB;CACzB;;AAED,qBAAqB;AACrB;CACC,kBAAkB;CAClB,8CAA8C;CAC9C\",\"file\":\"Somme.css\",\"sourcesContent\":[\"/* mécanisme somme */\\n.somme table {\\n\\twidth: 100%;\\n\\tborder-collapse: collapse;\\n}\\n.somme td.blank {\\n\\tbackground: white;\\n\\tborder: 1px solid white;\\n\\tborder-right: 1px solid rgba(51, 51, 80, 0.15);\\n}\\n.somme tr {\\n\\tborder: 1px solid rgba(51, 51, 80, 0.15);\\n\\ttext-align: right;\\n}\\n.somme tr:hover {\\n\\tbackground: rgba(51, 51, 80, 0.02);\\n}\\n.somme tr .element {\\n\\ttext-align: left;\\n\\tpadding: 0.1em 0.6em;\\n}\\n.somme tr .value span {\\n\\ttext-align: right;\\n}\\n.somme .leaf .name {\\n\\tborder: none;\\n}\\n.somme .operator + .element {\\n\\tborder-left: none;\\n}\\n\\n.mecanism-somme__row > .element > * > .nodeContent + * {\\n\\tdisplay: none;\\n}\\n.mecanism-somme__row > .element > * > .nodeContent {\\n\\tdisplay: flex;\\n\\talign-items: center;\\n}\\n.mecanism-somme__row > .element > * > .nodeContent > .operator:first-child {\\n\\tmargin-left: 0;\\n}\\n\\n#rule-rules .somme table .leaf .situationValue {\\n\\tdisplay: none;\\n}\\n\\n#rule-rules .somme table .situationValue {\\n\\tpadding: 0 1em;\\n}\\n\\n.somme .nested {\\n\\tpadding: 0;\\n\\tborder: none;\\n}\\n.somme .nested tr:first-child {\\n\\tborder-top: none;\\n}\\n.somme .noNest {\\n\\tborder-bottom: none;\\n}\\n.somme > table {\\n\\tborder-bottom: 1px solid rgba(51, 51, 80, 0.15);\\n}\\n\\n#sommeBase {\\n\\ttext-align: center;\\n}\\n\\n.detailsRow {\\n\\tbackground: rgba(51, 51, 80, 0.02);\\n}\\n\\n.mecanism-somme__table {\\n\\tdisplay: flex;\\n\\tmax-width: 100%;\\n\\tflex-direction: column;\\n}\\n\\n.mecanism-somme__row {\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tflex-flow: row nowrap;\\n\\tborder-top: 1px solid rgba(51, 51, 80, 0.15);\\n}\\n.mecanism-somme__row:first-child {\\n\\tborder-top: none;\\n}\\n\\n.mecanism-somme__row .element {\\n\\tflex: 1;\\n\\tmax-width: 100%;\\n\\tdisplay: flex;\\n\\talign-items: baseline;\\n\\tpadding: 0.1em 0.4em;\\n\\tpadding-top: 0.2em;\\n\\toverflow: hidden;\\n}\\n.mecanism-somme__row .element .unfoldIndication {\\n\\ttext-transform: capitalize;\\n\\tflex: 1;\\n\\tmargin-left: 0.6rem;\\n\\ttext-align: left;\\n}\\n\\n.mecanism-somme__row .value {\\n\\tpadding: 0.1em 0.4em;\\n}\\n.mecanism-somme__row .operator {\\n\\talign-self: center;\\n}\\n\\n.mecanism-somme__row .element .variable,\\n.mecanism-somme__row .element .nodeHead {\\n\\toverflow: hidden;\\n\\ttext-overflow: ellipsis;\\n\\tmax-width: 100%;\\n}\\n\\n.mecanism-somme__row .element .situationValue {\\n\\tdisplay: none !important;\\n}\\n\\n/* Nested Mecanism */\\n.mecanism-somme__row + .nested {\\n\\tpadding-left: 2em;\\n\\tborder-top: 1px dashed rgba(51, 51, 80, 0.15);\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n//# sourceURL=webpack://publicodes/./source/components/mecanisms/Somme.css?../node_modules/css-loader??ref--11-1!../node_modules/postcss-loader/lib");

/***/ }),

/***/ "../node_modules/css-loader/index.js?!../node_modules/postcss-loader/lib/index.js!./source/components/mecanisms/Variations.css":
/*!*****************************************************************************************************************************!*\
  !*** ../node_modules/css-loader??ref--11-1!../node_modules/postcss-loader/lib!./source/components/mecanisms/Variations.css ***!
  \*****************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("exports = module.exports = __webpack_require__(/*! ../../../../node_modules/css-loader/lib/css-base.js */ \"../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.i, \".mecanism.variations > ol {\\n\\tmargin-left: 1rem;\\n\\tmargin-top: 1rem;\\n}\\n.variations > ol > li {\\n\\tmargin-bottom: 0.3em;\\n}\\n.variations > ol > li span.consequenceType {\\n\\tmargin: 0 0.6em 0.6em 0;\\n}\\n\\n.variations > ol > li span.consequenceType.satisfied {\\n\\tbackground: yellow;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"/home/johan/Projets/mon-entreprise/publicodes/source/components/mecanisms/Variations.css\"],\"names\":[],\"mappings\":\"AAAA;CACC,kBAAkB;CAClB,iBAAiB;CACjB;AACD;CACC,qBAAqB;CACrB;AACD;CACC,wBAAwB;CACxB;;AAED;CACC,mBAAmB;CACnB\",\"file\":\"Variations.css\",\"sourcesContent\":[\".mecanism.variations > ol {\\n\\tmargin-left: 1rem;\\n\\tmargin-top: 1rem;\\n}\\n.variations > ol > li {\\n\\tmargin-bottom: 0.3em;\\n}\\n.variations > ol > li span.consequenceType {\\n\\tmargin: 0 0.6em 0.6em 0;\\n}\\n\\n.variations > ol > li span.consequenceType.satisfied {\\n\\tbackground: yellow;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n//# sourceURL=webpack://publicodes/./source/components/mecanisms/Variations.css?../node_modules/css-loader??ref--11-1!../node_modules/postcss-loader/lib");

/***/ }),

/***/ "../node_modules/css-loader/index.js?!../node_modules/postcss-loader/lib/index.js!./source/components/rule/Algorithm.css":
/*!***********************************************************************************************************************!*\
  !*** ../node_modules/css-loader??ref--11-1!../node_modules/postcss-loader/lib!./source/components/rule/Algorithm.css ***!
  \***********************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("exports = module.exports = __webpack_require__(/*! ../../../../node_modules/css-loader/lib/css-base.js */ \"../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.i, \"/*\\n\\tRègles CSS d'affichage des algorithmes\\n*/\\n\\n.situationValue {\\n\\t-webkit-text-decoration: underline white;\\n\\t        text-decoration: underline white;\\n\\tborder-bottom-left-radius: 3px;\\n\\tfont-weight: 400;\\n\\tcolor: black;\\n\\tfont-family: monospace;\\n}\\n.name {\\n\\tdisplay: flex;\\n\\talign-items: baseline;\\n}\\n\\n.node.inlineExpression:not(.comparison) {\\n\\tpadding-left: 0;\\n\\tdisplay: flex;\\n\\talign-items: baseline;\\n\\tflex-direction: row;\\n\\tflex-wrap: wrap;\\n\\tjustify-content: space-between;\\n}\\n.nodeContent {\\n\\tmargin-right: 0.3em;\\n}\\n#rule-rules .inlineExpression:not(.comparison) > .situationValue {\\n\\tmargin-left: 0.3em;\\n\\tmargin-bottom: 0.6em;\\n\\tmargin-top: 0.3em;\\n\\talign-items: flex-end;\\n\\ttext-align: right;\\n}\\n\\n#declenchement > ul {\\n\\tpadding: 0;\\n\\tlist-style-type: none;\\n}\\n#declenchement > ul > li {\\n\\tmargin-bottom: 1em;\\n}\\n\\n.mecanism > .nodeHead {\\n\\tborder-color: inherit;\\n\\tmargin-top: -1rem;\\n\\tmargin-left: -1rem;\\n\\tmargin-bottom: 0.4rem;\\n}\\n.inlineMecanism .name,\\n.mecanism > .nodeHead .name {\\n\\tpadding: 0.2em 0.8em;\\n\\tdisplay: inline-block;\\n\\tcolor: white !important;\\n\\tfont-weight: 600;\\n\\tborder-bottom-right-radius: 6px;\\n}\\n.inlineMecanism .name {\\n\\tmargin: 0 0.1em;\\n\\tpadding: 0.2em 0.4em;\\n\\tborder-radius: 6px;\\n}\\n.mecanism > .nodeHead .name::first-letter {\\n\\ttext-transform: capitalize;\\n}\\n.mecanism > .nodeHead > .situationValue {\\n\\tbottom: 0;\\n\\tright: 0;\\n\\tposition: absolute;\\n\\tpadding: 0.2rem 1rem;\\n\\tborder: 1px solid;\\n\\tborder-color: inherit;\\n\\tfont-weight: 600;\\n\\tborder-bottom: none;\\n\\tborder-right: none;\\n\\tborder-radius: 0;\\n\\tborder-top-left-radius: 3px;\\n}\\n[data-term-definition] {\\n\\tcursor: pointer;\\n}\\n[data-term-definition]:hover {\\n\\topacity: 0.8;\\n}\\n\\n.mecanism .properties .key {\\n\\tdisplay: inline-block;\\n\\tmargin-bottom: 0.6em;\\n\\tmargin-right: 0.8em;\\n}\\n\\n.mecanism.produit .key {\\n\\tcolor: #2ecc71;\\n}\\n\\n.produit li .key {\\n\\tmargin-right: 0.6em;\\n}\\n\\n.leaf .situationValue {\\n\\ttext-align: center;\\n}\\n\\n.variable a {\\n\\tdisplay: inline-block;\\n\\twhite-space: nowrap;\\n}\\n\\n.percentage .name {\\n\\tfont-weight: 600;\\n}\\n\\n.inlineExpression .operator {\\n\\tmargin: 0 0.6em;\\n\\tvertical-align: middle;\\n}\\n\\n.json {\\n\\tfont-size: 60%;\\n}\\n\\n.mecanism.inversion li {\\n\\tmargin-top: 0.6em;\\n}\\n\\n.mecanism {\\n\\tborder: 1px solid;\\n\\tmax-width: 100%;\\n\\tborder-radius: 3px;\\n\\tpadding: 1rem;\\n\\tposition: relative;\\n\\tflex: 1;\\n}\\n.mecanism-result {\\n\\tposition: relative;\\n\\tbottom: calc(-1rem + 2px);\\n\\ttext-align: right;\\n}\\n.mecanism .mecanism {\\n\\tflex: initial;\\n}\\n.mecanism + .mecanism {\\n\\tmargin-top: 1rem;\\n}\\n\\n.mecanism .key::first-letter {\\n\\ttext-transform: capitalize;\\n}\\n\\n.mecanism ul.properties > li {\\n\\tdisplay: flex;\\n\\talign-items: baseline;\\n\\tflex-wrap: wrap;\\n}\\n.mecanism ul > li > .value {\\n\\tflex: 1;\\n}\\n\\n.variable,\\n.operator {\\n\\tdisplay: inline-block;\\n}\\n\\n.nodeHead .name .situationValue:not(.boolean)::before {\\n\\tcontent: '(';\\n}\\n\\n.nodeHead .name .situationValue:not(.boolean)::after {\\n\\tcontent: ')';\\n}\\n\\n/* Remove style for conditions */\\n\\n.mecanism.cond *:not(.nodeContent) > .variable .name,\\n.mecanism.variations *:not(.nodeContent) > .variable .name,\\n.inlineExpression.comparison {\\n\\tdisplay: flex;\\n\\talign-items: baseline;\\n}\\n.mecanism.cond *:not(.nodeContent) > .variable .name .situationValue,\\n.mecanism.variations\\n\\t> condition\\n\\t> *:first-child\\n\\t*:not(.nodeContent)\\n\\t> .variable\\n\\t.name\\n\\t.situationValue,\\n.inlineExpression.comparison > .situationValue {\\n\\torder: -1;\\n}\\n\\n.mecanism.cond *:not(.nodeContent) > .variable .name > .situationValue,\\n.mecanism.variations\\n\\t> condition\\n\\t> *:first-child\\n\\t*:not(.nodeContent)\\n\\t> .variable\\n\\t.name\\n\\t> .situationValue {\\n\\tmargin-bottom: -5px;\\n\\tbackground-color: white;\\n\\tmargin-left: 0 !important;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"/home/johan/Projets/mon-entreprise/publicodes/source/components/rule/Algorithm.css\"],\"names\":[],\"mappings\":\"AAAA;;EAEE;;AAEF;CACC,yCAAyC;SACjC,iCAAiC;CACzC,+BAA+B;CAC/B,iBAAiB;CACjB,aAAa;CACb,uBAAuB;CACvB;AACD;CACC,cAAc;CACd,sBAAsB;CACtB;;AAED;CACC,gBAAgB;CAChB,cAAc;CACd,sBAAsB;CACtB,oBAAoB;CACpB,gBAAgB;CAChB,+BAA+B;CAC/B;AACD;CACC,oBAAoB;CACpB;AACD;CACC,mBAAmB;CACnB,qBAAqB;CACrB,kBAAkB;CAClB,sBAAsB;CACtB,kBAAkB;CAClB;;AAED;CACC,WAAW;CACX,sBAAsB;CACtB;AACD;CACC,mBAAmB;CACnB;;AAED;CACC,sBAAsB;CACtB,kBAAkB;CAClB,mBAAmB;CACnB,sBAAsB;CACtB;AACD;;CAEC,qBAAqB;CACrB,sBAAsB;CACtB,wBAAwB;CACxB,iBAAiB;CACjB,gCAAgC;CAChC;AACD;CACC,gBAAgB;CAChB,qBAAqB;CACrB,mBAAmB;CACnB;AACD;CACC,2BAA2B;CAC3B;AACD;CACC,UAAU;CACV,SAAS;CACT,mBAAmB;CACnB,qBAAqB;CACrB,kBAAkB;CAClB,sBAAsB;CACtB,iBAAiB;CACjB,oBAAoB;CACpB,mBAAmB;CACnB,iBAAiB;CACjB,4BAA4B;CAC5B;AACD;CACC,gBAAgB;CAChB;AACD;CACC,aAAa;CACb;;AAED;CACC,sBAAsB;CACtB,qBAAqB;CACrB,oBAAoB;CACpB;;AAED;CACC,eAAe;CACf;;AAED;CACC,oBAAoB;CACpB;;AAED;CACC,mBAAmB;CACnB;;AAED;CACC,sBAAsB;CACtB,oBAAoB;CACpB;;AAED;CACC,iBAAiB;CACjB;;AAED;CACC,gBAAgB;CAChB,uBAAuB;CACvB;;AAED;CACC,eAAe;CACf;;AAED;CACC,kBAAkB;CAClB;;AAED;CACC,kBAAkB;CAClB,gBAAgB;CAChB,mBAAmB;CACnB,cAAc;CACd,mBAAmB;CACnB,QAAQ;CACR;AACD;CACC,mBAAmB;CACnB,0BAA0B;CAC1B,kBAAkB;CAClB;AACD;CACC,cAAc;CACd;AACD;CACC,iBAAiB;CACjB;;AAED;CACC,2BAA2B;CAC3B;;AAED;CACC,cAAc;CACd,sBAAsB;CACtB,gBAAgB;CAChB;AACD;CACC,QAAQ;CACR;;AAED;;CAEC,sBAAsB;CACtB;;AAED;CACC,aAAa;CACb;;AAED;CACC,aAAa;CACb;;AAED,iCAAiC;;AAEjC;;;CAGC,cAAc;CACd,sBAAsB;CACtB;AACD;;;;;;;;;CASC,UAAU;CACV;;AAED;;;;;;;;CAQC,oBAAoB;CACpB,wBAAwB;CACxB,0BAA0B;CAC1B\",\"file\":\"Algorithm.css\",\"sourcesContent\":[\"/*\\n\\tRègles CSS d'affichage des algorithmes\\n*/\\n\\n.situationValue {\\n\\t-webkit-text-decoration: underline white;\\n\\t        text-decoration: underline white;\\n\\tborder-bottom-left-radius: 3px;\\n\\tfont-weight: 400;\\n\\tcolor: black;\\n\\tfont-family: monospace;\\n}\\n.name {\\n\\tdisplay: flex;\\n\\talign-items: baseline;\\n}\\n\\n.node.inlineExpression:not(.comparison) {\\n\\tpadding-left: 0;\\n\\tdisplay: flex;\\n\\talign-items: baseline;\\n\\tflex-direction: row;\\n\\tflex-wrap: wrap;\\n\\tjustify-content: space-between;\\n}\\n.nodeContent {\\n\\tmargin-right: 0.3em;\\n}\\n#rule-rules .inlineExpression:not(.comparison) > .situationValue {\\n\\tmargin-left: 0.3em;\\n\\tmargin-bottom: 0.6em;\\n\\tmargin-top: 0.3em;\\n\\talign-items: flex-end;\\n\\ttext-align: right;\\n}\\n\\n#declenchement > ul {\\n\\tpadding: 0;\\n\\tlist-style-type: none;\\n}\\n#declenchement > ul > li {\\n\\tmargin-bottom: 1em;\\n}\\n\\n.mecanism > .nodeHead {\\n\\tborder-color: inherit;\\n\\tmargin-top: -1rem;\\n\\tmargin-left: -1rem;\\n\\tmargin-bottom: 0.4rem;\\n}\\n.inlineMecanism .name,\\n.mecanism > .nodeHead .name {\\n\\tpadding: 0.2em 0.8em;\\n\\tdisplay: inline-block;\\n\\tcolor: white !important;\\n\\tfont-weight: 600;\\n\\tborder-bottom-right-radius: 6px;\\n}\\n.inlineMecanism .name {\\n\\tmargin: 0 0.1em;\\n\\tpadding: 0.2em 0.4em;\\n\\tborder-radius: 6px;\\n}\\n.mecanism > .nodeHead .name::first-letter {\\n\\ttext-transform: capitalize;\\n}\\n.mecanism > .nodeHead > .situationValue {\\n\\tbottom: 0;\\n\\tright: 0;\\n\\tposition: absolute;\\n\\tpadding: 0.2rem 1rem;\\n\\tborder: 1px solid;\\n\\tborder-color: inherit;\\n\\tfont-weight: 600;\\n\\tborder-bottom: none;\\n\\tborder-right: none;\\n\\tborder-radius: 0;\\n\\tborder-top-left-radius: 3px;\\n}\\n[data-term-definition] {\\n\\tcursor: pointer;\\n}\\n[data-term-definition]:hover {\\n\\topacity: 0.8;\\n}\\n\\n.mecanism .properties .key {\\n\\tdisplay: inline-block;\\n\\tmargin-bottom: 0.6em;\\n\\tmargin-right: 0.8em;\\n}\\n\\n.mecanism.produit .key {\\n\\tcolor: #2ecc71;\\n}\\n\\n.produit li .key {\\n\\tmargin-right: 0.6em;\\n}\\n\\n.leaf .situationValue {\\n\\ttext-align: center;\\n}\\n\\n.variable a {\\n\\tdisplay: inline-block;\\n\\twhite-space: nowrap;\\n}\\n\\n.percentage .name {\\n\\tfont-weight: 600;\\n}\\n\\n.inlineExpression .operator {\\n\\tmargin: 0 0.6em;\\n\\tvertical-align: middle;\\n}\\n\\n.json {\\n\\tfont-size: 60%;\\n}\\n\\n.mecanism.inversion li {\\n\\tmargin-top: 0.6em;\\n}\\n\\n.mecanism {\\n\\tborder: 1px solid;\\n\\tmax-width: 100%;\\n\\tborder-radius: 3px;\\n\\tpadding: 1rem;\\n\\tposition: relative;\\n\\tflex: 1;\\n}\\n.mecanism-result {\\n\\tposition: relative;\\n\\tbottom: calc(-1rem + 2px);\\n\\ttext-align: right;\\n}\\n.mecanism .mecanism {\\n\\tflex: initial;\\n}\\n.mecanism + .mecanism {\\n\\tmargin-top: 1rem;\\n}\\n\\n.mecanism .key::first-letter {\\n\\ttext-transform: capitalize;\\n}\\n\\n.mecanism ul.properties > li {\\n\\tdisplay: flex;\\n\\talign-items: baseline;\\n\\tflex-wrap: wrap;\\n}\\n.mecanism ul > li > .value {\\n\\tflex: 1;\\n}\\n\\n.variable,\\n.operator {\\n\\tdisplay: inline-block;\\n}\\n\\n.nodeHead .name .situationValue:not(.boolean)::before {\\n\\tcontent: '(';\\n}\\n\\n.nodeHead .name .situationValue:not(.boolean)::after {\\n\\tcontent: ')';\\n}\\n\\n/* Remove style for conditions */\\n\\n.mecanism.cond *:not(.nodeContent) > .variable .name,\\n.mecanism.variations *:not(.nodeContent) > .variable .name,\\n.inlineExpression.comparison {\\n\\tdisplay: flex;\\n\\talign-items: baseline;\\n}\\n.mecanism.cond *:not(.nodeContent) > .variable .name .situationValue,\\n.mecanism.variations\\n\\t> condition\\n\\t> *:first-child\\n\\t*:not(.nodeContent)\\n\\t> .variable\\n\\t.name\\n\\t.situationValue,\\n.inlineExpression.comparison > .situationValue {\\n\\torder: -1;\\n}\\n\\n.mecanism.cond *:not(.nodeContent) > .variable .name > .situationValue,\\n.mecanism.variations\\n\\t> condition\\n\\t> *:first-child\\n\\t*:not(.nodeContent)\\n\\t> .variable\\n\\t.name\\n\\t> .situationValue {\\n\\tmargin-bottom: -5px;\\n\\tbackground-color: white;\\n\\tmargin-left: 0 !important;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n//# sourceURL=webpack://publicodes/./source/components/rule/Algorithm.css?../node_modules/css-loader??ref--11-1!../node_modules/postcss-loader/lib");

/***/ }),

/***/ "../node_modules/css-loader/index.js?!../node_modules/postcss-loader/lib/index.js!./source/components/rule/Header.css":
/*!********************************************************************************************************************!*\
  !*** ../node_modules/css-loader??ref--11-1!../node_modules/postcss-loader/lib!./source/components/rule/Header.css ***!
  \********************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("exports = module.exports = __webpack_require__(/*! ../../../../node_modules/css-loader/lib/css-base.js */ \"../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.i, \".rule-header {\\n\\tpadding: 1rem;\\n}\\n.rule-header__breadcrumb {\\n\\tmargin: 0;\\n\\tpadding: 0;\\n}\\n\\n.rule-header__breadcrumb > li {\\n\\tdisplay: inline;\\n\\tpadding: 0;\\n}\\n\\n.rule-header__title {\\n\\tmargin: 0.6rem 0;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"/home/johan/Projets/mon-entreprise/publicodes/source/components/rule/Header.css\"],\"names\":[],\"mappings\":\"AAAA;CACC,cAAc;CACd;AACD;CACC,UAAU;CACV,WAAW;CACX;;AAED;CACC,gBAAgB;CAChB,WAAW;CACX;;AAED;CACC,iBAAiB;CACjB\",\"file\":\"Header.css\",\"sourcesContent\":[\".rule-header {\\n\\tpadding: 1rem;\\n}\\n.rule-header__breadcrumb {\\n\\tmargin: 0;\\n\\tpadding: 0;\\n}\\n\\n.rule-header__breadcrumb > li {\\n\\tdisplay: inline;\\n\\tpadding: 0;\\n}\\n\\n.rule-header__title {\\n\\tmargin: 0.6rem 0;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n//# sourceURL=webpack://publicodes/./source/components/rule/Header.css?../node_modules/css-loader??ref--11-1!../node_modules/postcss-loader/lib");

/***/ }),

/***/ "../node_modules/css-loader/index.js?!../node_modules/postcss-loader/lib/index.js!./source/components/rule/References.css":
/*!************************************************************************************************************************!*\
  !*** ../node_modules/css-loader??ref--11-1!../node_modules/postcss-loader/lib!./source/components/rule/References.css ***!
  \************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("exports = module.exports = __webpack_require__(/*! ../../../../node_modules/css-loader/lib/css-base.js */ \"../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.i, \".references {\\n\\tlist-style: none;\\n\\tpadding: 0;\\n}\\n.references a {\\n\\tflex: 1;\\n\\tmin-width: 45%;\\n\\ttext-decoration: underline;\\n}\\n\\n.references li {\\n\\tmargin-bottom: 0.6em;\\n\\twidth: 100%;\\n\\tdisplay: flex;\\n\\talign-items: center;\\n}\\n#noOfficialReferences {\\n\\ttext-align: left;\\n\\tfont-style: italic;\\n}\\n.references .imageWrapper {\\n\\twidth: 4.5rem;\\n\\theight: 3rem;\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tjustify-content: center;\\n\\tmargin-right: 1rem;\\n}\\n.references img {\\n\\tmax-height: 3rem;\\n\\tvertical-align: sub;\\n\\tmax-width: 100%;\\n\\tborder-radius: 0.3em;\\n}\\n\\nli#complementary {\\n\\tmargin-top: 1.2em;\\n}\\nli#complementary a {\\n\\tfont-style: italic;\\n\\ttext-decoration: none;\\n\\twidth: auto;\\n}\\n\\n#complementary i {\\n\\tmargin-right: 0.6em;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"/home/johan/Projets/mon-entreprise/publicodes/source/components/rule/References.css\"],\"names\":[],\"mappings\":\"AAAA;CACC,iBAAiB;CACjB,WAAW;CACX;AACD;CACC,QAAQ;CACR,eAAe;CACf,2BAA2B;CAC3B;;AAED;CACC,qBAAqB;CACrB,YAAY;CACZ,cAAc;CACd,oBAAoB;CACpB;AACD;CACC,iBAAiB;CACjB,mBAAmB;CACnB;AACD;CACC,cAAc;CACd,aAAa;CACb,cAAc;CACd,oBAAoB;CACpB,wBAAwB;CACxB,mBAAmB;CACnB;AACD;CACC,iBAAiB;CACjB,oBAAoB;CACpB,gBAAgB;CAChB,qBAAqB;CACrB;;AAED;CACC,kBAAkB;CAClB;AACD;CACC,mBAAmB;CACnB,sBAAsB;CACtB,YAAY;CACZ;;AAED;CACC,oBAAoB;CACpB\",\"file\":\"References.css\",\"sourcesContent\":[\".references {\\n\\tlist-style: none;\\n\\tpadding: 0;\\n}\\n.references a {\\n\\tflex: 1;\\n\\tmin-width: 45%;\\n\\ttext-decoration: underline;\\n}\\n\\n.references li {\\n\\tmargin-bottom: 0.6em;\\n\\twidth: 100%;\\n\\tdisplay: flex;\\n\\talign-items: center;\\n}\\n#noOfficialReferences {\\n\\ttext-align: left;\\n\\tfont-style: italic;\\n}\\n.references .imageWrapper {\\n\\twidth: 4.5rem;\\n\\theight: 3rem;\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tjustify-content: center;\\n\\tmargin-right: 1rem;\\n}\\n.references img {\\n\\tmax-height: 3rem;\\n\\tvertical-align: sub;\\n\\tmax-width: 100%;\\n\\tborder-radius: 0.3em;\\n}\\n\\nli#complementary {\\n\\tmargin-top: 1.2em;\\n}\\nli#complementary a {\\n\\tfont-style: italic;\\n\\ttext-decoration: none;\\n\\twidth: auto;\\n}\\n\\n#complementary i {\\n\\tmargin-right: 0.6em;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n//# sourceURL=webpack://publicodes/./source/components/rule/References.css?../node_modules/css-loader??ref--11-1!../node_modules/postcss-loader/lib");

/***/ }),

/***/ "../node_modules/css-loader/lib/css-base.js":
/*!**************************************************!*\
  !*** ../node_modules/css-loader/lib/css-base.js ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n\n\n//# sourceURL=webpack://publicodes/../node_modules/css-loader/lib/css-base.js?");

/***/ }),

/***/ "../node_modules/isomorphic-style-loader/insertCss.js":
/*!************************************************************!*\
  !*** ../node_modules/isomorphic-style-loader/insertCss.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/*! Isomorphic Style Loader | MIT License | https://github.com/kriasoft/isomorphic-style-loader */\n\n\n\nvar inserted = {};\n\nfunction b64EncodeUnicode(str) {\n  return btoa(encodeURIComponent(str).replace(/%([0-9A-F]{2})/g, function (match, p1) {\n    return String.fromCharCode(\"0x\" + p1);\n  }));\n}\n\nfunction removeCss(ids) {\n  ids.forEach(function (id) {\n    if (--inserted[id] <= 0) {\n      var elem = document.getElementById(id);\n\n      if (elem) {\n        elem.parentNode.removeChild(elem);\n      }\n    }\n  });\n}\n\nfunction insertCss(styles, _temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n      _ref$replace = _ref.replace,\n      replace = _ref$replace === void 0 ? false : _ref$replace,\n      _ref$prepend = _ref.prepend,\n      prepend = _ref$prepend === void 0 ? false : _ref$prepend,\n      _ref$prefix = _ref.prefix,\n      prefix = _ref$prefix === void 0 ? 's' : _ref$prefix;\n\n  var ids = [];\n\n  for (var i = 0; i < styles.length; i++) {\n    var _styles$i = styles[i],\n        moduleId = _styles$i[0],\n        css = _styles$i[1],\n        media = _styles$i[2],\n        sourceMap = _styles$i[3];\n    var id = \"\" + prefix + moduleId + \"-\" + i;\n    ids.push(id);\n\n    if (inserted[id]) {\n      if (!replace) {\n        inserted[id]++;\n        continue;\n      }\n    }\n\n    inserted[id] = 1;\n    var elem = document.getElementById(id);\n    var create = false;\n\n    if (!elem) {\n      create = true;\n      elem = document.createElement('style');\n      elem.setAttribute('type', 'text/css');\n      elem.id = id;\n\n      if (media) {\n        elem.setAttribute('media', media);\n      }\n    }\n\n    var cssText = css;\n\n    if (sourceMap && typeof btoa === 'function') {\n      cssText += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + b64EncodeUnicode(JSON.stringify(sourceMap)) + \"*/\";\n      cssText += \"\\n/*# sourceURL=\" + sourceMap.file + \"?\" + id + \"*/\";\n    }\n\n    if ('textContent' in elem) {\n      elem.textContent = cssText;\n    } else {\n      elem.styleSheet.cssText = cssText;\n    }\n\n    if (create) {\n      if (prepend) {\n        document.head.insertBefore(elem, document.head.childNodes[0]);\n      } else {\n        document.head.appendChild(elem);\n      }\n    }\n  }\n\n  return removeCss.bind(null, ids);\n}\n\nmodule.exports = insertCss;\n//# sourceMappingURL=insertCss.js.map\n\n\n//# sourceURL=webpack://publicodes/../node_modules/isomorphic-style-loader/insertCss.js?");

/***/ }),

/***/ "./source/components/Markdown.tsx":
/*!****************************************!*\
  !*** ./source/components/Markdown.tsx ***!
  \****************************************/
/*! exports provided: LinkRenderer, Markdown */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LinkRenderer\", function() { return LinkRenderer; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Markdown\", function() { return Markdown; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_easy_emoji__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-easy-emoji */ \"react-easy-emoji\");\n/* harmony import */ var react_easy_emoji__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_easy_emoji__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_markdown__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-markdown */ \"react-markdown\");\n/* harmony import */ var react_markdown__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_markdown__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react_router_hash_link__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-router-hash-link */ \"react-router-hash-link\");\n/* harmony import */ var react_router_hash_link__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_router_hash_link__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _contexts__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./contexts */ \"./source/components/contexts.tsx\");\n/* harmony import */ var _RuleLink__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./RuleLink */ \"./source/components/RuleLink.tsx\");\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n\n\n\n\n\n\nvar internalURLs = {\n  'mon-entreprise.fr': 'mon-entreprise',\n  'mycompanyinfrance.fr': 'infrance',\n  'publi.codes': 'publicodes'\n};\nfunction LinkRenderer(_ref) {\n  var {\n    href,\n    children\n  } = _ref,\n      otherProps = _objectWithoutProperties(_ref, [\"href\", \"children\"]);\n\n  var engine = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useContext\"])(_contexts__WEBPACK_IMPORTED_MODULE_4__[\"EngineContext\"]);\n\n  if (!engine) {\n    throw new Error('an engine should be provided in context');\n  }\n\n  var rules = engine.getParsedRules();\n\n  if (href && rules[href]) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_RuleLink__WEBPACK_IMPORTED_MODULE_5__[\"RuleLinkWithContext\"], _extends({\n      dottedName: href\n    }, otherProps), children);\n  }\n\n  if (href && !href.startsWith('http')) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_hash_link__WEBPACK_IMPORTED_MODULE_3__[\"HashLink\"], _extends({\n      to: href\n    }, otherProps), children);\n  }\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"a\", _extends({\n    target: \"_blank\",\n    href: href\n  }, otherProps), children);\n}\n\nvar TextRenderer = (_ref2) => {\n  var {\n    children\n  } = _ref2;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react_easy_emoji__WEBPACK_IMPORTED_MODULE_1___default()(children));\n};\n\nvar Markdown = (_ref3) => {\n  var {\n    source,\n    className = '',\n    renderers = {}\n  } = _ref3,\n      otherProps = _objectWithoutProperties(_ref3, [\"source\", \"className\", \"renderers\"]);\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_markdown__WEBPACK_IMPORTED_MODULE_2___default.a, _extends({\n    source: source,\n    className: \"markdown \".concat(className),\n    renderers: _objectSpread({\n      link: LinkRenderer,\n      text: TextRenderer\n    }, renderers)\n  }, otherProps));\n};\n\n//# sourceURL=webpack://publicodes/./source/components/Markdown.tsx?");

/***/ }),

/***/ "./source/components/RuleLink.tsx":
/*!****************************************!*\
  !*** ./source/components/RuleLink.tsx ***!
  \****************************************/
/*! exports provided: RuleLink, RuleLinkWithContext */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"RuleLink\", function() { return RuleLink; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"RuleLinkWithContext\", function() { return RuleLinkWithContext; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_easy_emoji__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-easy-emoji */ \"react-easy-emoji\");\n/* harmony import */ var react_easy_emoji__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_easy_emoji__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-router-dom */ \"react-router-dom\");\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_router_dom__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _ruleUtils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../ruleUtils */ \"./source/ruleUtils.ts\");\n/* harmony import */ var _contexts__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./contexts */ \"./source/components/contexts.tsx\");\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n\n\n\n\n\nfunction RuleLink(_ref) {\n  var {\n    dottedName,\n    engine,\n    documentationPath,\n    displayIcon = false,\n    useDefaultValues = false,\n    children\n  } = _ref,\n      props = _objectWithoutProperties(_ref, [\"dottedName\", \"engine\", \"documentationPath\", \"displayIcon\", \"useDefaultValues\", \"children\"]);\n\n  var rule = engine.getParsedRules()[dottedName];\n  var newPath = documentationPath + '/' + Object(_ruleUtils__WEBPACK_IMPORTED_MODULE_3__[\"encodeRuleName\"])(dottedName);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__[\"Link\"], _extends({\n    to: {\n      pathname: newPath,\n      state: {\n        useDefaultValues\n      }\n    }\n  }, props), children || rule.title, ' ', displayIcon && rule.icons && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", null, react_easy_emoji__WEBPACK_IMPORTED_MODULE_1___default()(rule.icons), \" \"));\n}\nfunction RuleLinkWithContext(props) {\n  var engine = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useContext\"])(_contexts__WEBPACK_IMPORTED_MODULE_4__[\"EngineContext\"]);\n\n  if (!engine) {\n    throw new Error('an engine should be provided in context');\n  }\n\n  var documentationPath = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useContext\"])(_contexts__WEBPACK_IMPORTED_MODULE_4__[\"BasepathContext\"]);\n  var useDefaultValues = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useContext\"])(_contexts__WEBPACK_IMPORTED_MODULE_4__[\"UseDefaultValuesContext\"]);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(RuleLink, _extends({\n    engine: engine,\n    documentationPath: documentationPath,\n    useDefaultValues: useDefaultValues\n  }, props));\n}\n\n//# sourceURL=webpack://publicodes/./source/components/RuleLink.tsx?");

/***/ }),

/***/ "./source/components/contexts.tsx":
/*!****************************************!*\
  !*** ./source/components/contexts.tsx ***!
  \****************************************/
/*! exports provided: UseDefaultValuesContext, BasepathContext, EngineContext */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UseDefaultValuesContext\", function() { return UseDefaultValuesContext; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BasepathContext\", function() { return BasepathContext; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EngineContext\", function() { return EngineContext; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\nvar UseDefaultValuesContext = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"createContext\"])(true);\nvar BasepathContext = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"createContext\"])('/documentation');\nvar EngineContext = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"createContext\"])(null);\n\n//# sourceURL=webpack://publicodes/./source/components/contexts.tsx?");

/***/ }),

/***/ "./source/components/index.tsx":
/*!*************************************!*\
  !*** ./source/components/index.tsx ***!
  \*************************************/
/*! exports provided: RuleLink, Documentation, getDocumentationSiteMap */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Documentation\", function() { return Documentation; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getDocumentationSiteMap\", function() { return getDocumentationSiteMap; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router-dom */ \"react-router-dom\");\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_router_dom__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _i18n__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../i18n */ \"./source/i18n.ts\");\n/* harmony import */ var _ruleUtils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../ruleUtils */ \"./source/ruleUtils.ts\");\n/* harmony import */ var _contexts__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./contexts */ \"./source/components/contexts.tsx\");\n/* harmony import */ var _rule_Rule__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./rule/Rule */ \"./source/components/rule/Rule.tsx\");\n/* harmony import */ var _RuleLink__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./RuleLink */ \"./source/components/RuleLink.tsx\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"RuleLink\", function() { return _RuleLink__WEBPACK_IMPORTED_MODULE_6__[\"RuleLink\"]; });\n\n\n\n\n\n\n\n\nfunction Documentation(_ref) {\n  var _useLocation$state;\n\n  var {\n    documentationPath,\n    engine,\n    language = 'fr'\n  } = _ref;\n  Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useEffect\"])(() => {\n    if (language !== _i18n__WEBPACK_IMPORTED_MODULE_2__[\"default\"].language) {\n      _i18n__WEBPACK_IMPORTED_MODULE_2__[\"default\"].changeLanguage(language);\n    }\n  }, [language]);\n  var state = (_useLocation$state = Object(react_router_dom__WEBPACK_IMPORTED_MODULE_1__[\"useLocation\"])().state) !== null && _useLocation$state !== void 0 ? _useLocation$state : {};\n  var useDefaultValues = 'useDefaultValues' in state && state.useDefaultValues || false;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_contexts__WEBPACK_IMPORTED_MODULE_4__[\"EngineContext\"].Provider, {\n    value: engine\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_contexts__WEBPACK_IMPORTED_MODULE_4__[\"BasepathContext\"].Provider, {\n    value: documentationPath\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_contexts__WEBPACK_IMPORTED_MODULE_4__[\"UseDefaultValuesContext\"].Provider, {\n    value: useDefaultValues\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__[\"Route\"], {\n    path: documentationPath + '/:name+',\n    render: (_ref2) => {\n      var {\n        match\n      } = _ref2;\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_rule_Rule__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n        dottedName: Object(_ruleUtils__WEBPACK_IMPORTED_MODULE_3__[\"decodeRuleName\"])(match.params.name),\n        engine: engine,\n        useDefaultValues: useDefaultValues,\n        language: 'fr'\n      });\n    }\n  }))));\n}\nfunction getDocumentationSiteMap(_ref3) {\n  var {\n    engine,\n    documentationPath\n  } = _ref3;\n  return Object.fromEntries(Object.keys(engine.getParsedRules()).map(dottedName => [documentationPath + '/' + Object(_ruleUtils__WEBPACK_IMPORTED_MODULE_3__[\"encodeRuleName\"])(dottedName), dottedName]));\n}\n\n//# sourceURL=webpack://publicodes/./source/components/index.tsx?");

/***/ }),

/***/ "./source/components/mecanisms/Allègement.js":
/*!***************************************************!*\
  !*** ./source/components/mecanisms/Allègement.js ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Allègement; });\n/* harmony import */ var ramda__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ramda */ \"ramda\");\n/* harmony import */ var ramda__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(ramda__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _evaluation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../evaluation */ \"./source/evaluation.tsx\");\n/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./common */ \"./source/components/mecanisms/common.tsx\");\n\n\n\n\nfunction Allègement(_ref) {\n  var {\n    nodeValue,\n    explanation: rawExplanation\n  } = _ref;\n  // Don't display attributes with default values\n  var explanation = Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"map\"])(k => k && !k.isDefault ? k : null, rawExplanation);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_common__WEBPACK_IMPORTED_MODULE_3__[\"Node\"], {\n    classes: \"mecanism all\\xE8gement\",\n    name: \"all\\xE8gement\",\n    value: nodeValue,\n    unit: explanation.unit\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"ul\", {\n    className: \"properties\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"li\", {\n    key: \"assiette\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"span\", {\n    className: \"key\"\n  }, \"assiette: \"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"span\", {\n    className: \"value\"\n  }, Object(_evaluation__WEBPACK_IMPORTED_MODULE_2__[\"makeJsx\"])(explanation.assiette))), explanation.franchise && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"li\", {\n    key: \"franchise\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"span\", {\n    className: \"key\"\n  }, \"franchise: \"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"span\", {\n    className: \"value\"\n  }, Object(_evaluation__WEBPACK_IMPORTED_MODULE_2__[\"makeJsx\"])(explanation.franchise))), explanation.décote && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"li\", {\n    key: \"d\\xE9cote\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"span\", {\n    className: \"key\"\n  }, \"d\\xE9cote: \"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"span\", {\n    className: \"value\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ObjectView, {\n    data: explanation.décote\n  }))), explanation.abattement && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"li\", {\n    key: \"abattement\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"span\", {\n    className: \"key\"\n  }, \"abattement: \"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"span\", {\n    className: \"value\"\n  }, Object(_evaluation__WEBPACK_IMPORTED_MODULE_2__[\"makeJsx\"])(explanation.abattement))), explanation.plafond && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"li\", {\n    key: \"plafond\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"span\", {\n    className: \"key\"\n  }, \"plafond: \"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"span\", {\n    className: \"value\"\n  }, Object(_evaluation__WEBPACK_IMPORTED_MODULE_2__[\"makeJsx\"])(explanation.plafond))))));\n}\n\nvar ObjectView = (_ref2) => {\n  var {\n    data\n  } = _ref2;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"ul\", {\n    className: \"properties\"\n  }, Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"values\"])(Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"mapObjIndexed\"])((v, k) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"li\", {\n    key: k\n  }, ' ', /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"span\", {\n    className: \"key\"\n  }, k, \": \"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"span\", {\n    className: \"value\"\n  }, Object(_evaluation__WEBPACK_IMPORTED_MODULE_2__[\"makeJsx\"])(v))), data)));\n};\n\n//# sourceURL=webpack://publicodes/./source/components/mecanisms/All%C3%A8gement.js?");

/***/ }),

/***/ "./source/components/mecanisms/Barème.css":
/*!************************************************!*\
  !*** ./source/components/mecanisms/Barème.css ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("\n    var refs = 0;\n    var css = __webpack_require__(/*! !../../../../node_modules/css-loader??ref--11-1!../../../../node_modules/postcss-loader/lib!./Barème.css */ \"../node_modules/css-loader/index.js?!../node_modules/postcss-loader/lib/index.js!./source/components/mecanisms/Barème.css\");\n    var insertCss = __webpack_require__(/*! ../../../../node_modules/isomorphic-style-loader/insertCss.js */ \"../node_modules/isomorphic-style-loader/insertCss.js\");\n    var content = typeof css === 'string' ? [[module.i, css, '']] : css;\n\n    exports = module.exports = css.locals || {};\n    exports._getContent = function() { return content; };\n    exports._getCss = function() { return '' + css; };\n    exports._insertCss = function(options) { return insertCss(content, options) };\n\n    // Hot Module Replacement\n    // https://webpack.github.io/docs/hot-module-replacement\n    // Only activated in browser context\n    if (false) { var removeCss; }\n  \n\n//# sourceURL=webpack://publicodes/./source/components/mecanisms/Bar%C3%A8me.css?");

/***/ }),

/***/ "./source/components/mecanisms/Barème.tsx":
/*!************************************************!*\
  !*** ./source/components/mecanisms/Barème.tsx ***!
  \************************************************/
/*! exports provided: default, BarèmeAttributes, TrancheTable */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Barème; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BarèmeAttributes\", function() { return BarèmeAttributes; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TrancheTable\", function() { return TrancheTable; });\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ \"classnames\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-i18next */ \"react-i18next\");\n/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_i18next__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _evaluation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../evaluation */ \"./source/evaluation.tsx\");\n/* harmony import */ var _Bar_me_css__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Barème.css */ \"./source/components/mecanisms/Barème.css\");\n/* harmony import */ var _Bar_me_css__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_Bar_me_css__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./common */ \"./source/components/mecanisms/common.tsx\");\n/* harmony import */ var _units__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../units */ \"./source/units.ts\");\n\n\n\n\n\n\n\nfunction Barème(_ref) {\n  var {\n    nodeValue,\n    explanation,\n    unit\n  } = _ref;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_common__WEBPACK_IMPORTED_MODULE_5__[\"Node\"], {\n    classes: \"mecanism bar\\xE8me\",\n    name: \"bar\\xE8me\",\n    value: nodeValue,\n    unit: unit\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"ul\", {\n    className: \"properties\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(BarèmeAttributes, {\n    explanation: explanation\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(TrancheTable, {\n    tranches: explanation.tranches,\n    multiplicateur: explanation.multiplicateur\n  }), nodeValue !== null && explanation.tranches.length > 2 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"b\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__[\"Trans\"], null, \"Taux moyen\"), \" :\", ' '), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_common__WEBPACK_IMPORTED_MODULE_5__[\"NodeValuePointer\"], {\n    data: 100 * nodeValue / explanation.assiette.nodeValue,\n    unit: Object(_units__WEBPACK_IMPORTED_MODULE_6__[\"parseUnit\"])('%')\n  }))));\n}\nvar BarèmeAttributes = (_ref2) => {\n  var {\n    explanation\n  } = _ref2;\n  var multiplicateur = explanation.multiplicateur;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"li\", {\n    key: \"assiette\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"span\", {\n    className: \"key\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__[\"Trans\"], null, \"assiette\"), \":\", ' '), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"span\", {\n    className: \"value\"\n  }, Object(_evaluation__WEBPACK_IMPORTED_MODULE_3__[\"makeJsx\"])(explanation.assiette))), multiplicateur && !multiplicateur.isDefault && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"li\", {\n    key: \"multiplicateur\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"span\", {\n    className: \"key\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__[\"Trans\"], null, \"multiplicateur\"), \":\", ' '), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"span\", {\n    className: \"value\"\n  }, Object(_evaluation__WEBPACK_IMPORTED_MODULE_3__[\"makeJsx\"])(multiplicateur))));\n};\nvar TrancheTable = (_ref3) => {\n  var {\n    tranches,\n    multiplicateur\n  } = _ref3;\n  var activeTranche = tranches.find((_ref4) => {\n    var {\n      isActive\n    } = _ref4;\n    return isActive;\n  });\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"table\", {\n    className: \"tranches\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"thead\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"tr\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"th\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__[\"Trans\"], null, \"Plafonds des tranches\")), tranches[0].taux && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"th\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__[\"Trans\"], null, \"Taux\")), (tranches[0].montant || (activeTranche === null || activeTranche === void 0 ? void 0 : activeTranche.nodeValue) != null) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"th\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__[\"Trans\"], null, \"Montant\")))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"tbody\", null, tranches.map((tranche, i) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Tranche, {\n    key: i,\n    tranche: tranche,\n    multiplicateur: multiplicateur\n  }))));\n};\n\nvar Tranche = (_ref5) => {\n  var {\n    tranche,\n    multiplicateur\n  } = _ref5;\n  var isHighlighted = tranche.isActive;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"tr\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_0___default()('tranche', {\n      activated: isHighlighted\n    })\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"td\", {\n    key: \"tranche\"\n  }, tranche.plafond.nodeValue === Infinity ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__[\"Trans\"], null, \"Au-del\\xE0 du dernier plafond\") : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment, null, Object(_evaluation__WEBPACK_IMPORTED_MODULE_3__[\"makeJsx\"])(tranche.plafond), multiplicateur && !multiplicateur.isDefault && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment, null, ' × ', Object(_evaluation__WEBPACK_IMPORTED_MODULE_3__[\"makeJsx\"])(multiplicateur)))), tranche.taux && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"td\", {\n    key: \"taux\"\n  }, Object(_evaluation__WEBPACK_IMPORTED_MODULE_3__[\"makeJsx\"])(tranche.taux)), (tranche.nodeValue != null || tranche.montant) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"td\", {\n    key: \"value\"\n  }, tranche.montant ? Object(_evaluation__WEBPACK_IMPORTED_MODULE_3__[\"makeJsx\"])(tranche.montant) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_common__WEBPACK_IMPORTED_MODULE_5__[\"NodeValuePointer\"], {\n    data: tranche.nodeValue,\n    unit: tranche.unit\n  })));\n};\n\n//# sourceURL=webpack://publicodes/./source/components/mecanisms/Bar%C3%A8me.tsx?");

/***/ }),

/***/ "./source/components/mecanisms/Composantes.css":
/*!*****************************************************!*\
  !*** ./source/components/mecanisms/Composantes.css ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("\n    var refs = 0;\n    var css = __webpack_require__(/*! !../../../../node_modules/css-loader??ref--11-1!../../../../node_modules/postcss-loader/lib!./Composantes.css */ \"../node_modules/css-loader/index.js?!../node_modules/postcss-loader/lib/index.js!./source/components/mecanisms/Composantes.css\");\n    var insertCss = __webpack_require__(/*! ../../../../node_modules/isomorphic-style-loader/insertCss.js */ \"../node_modules/isomorphic-style-loader/insertCss.js\");\n    var content = typeof css === 'string' ? [[module.i, css, '']] : css;\n\n    exports = module.exports = css.locals || {};\n    exports._getContent = function() { return content; };\n    exports._getCss = function() { return '' + css; };\n    exports._insertCss = function(options) { return insertCss(content, options) };\n\n    // Hot Module Replacement\n    // https://webpack.github.io/docs/hot-module-replacement\n    // Only activated in browser context\n    if (false) { var removeCss; }\n  \n\n//# sourceURL=webpack://publicodes/./source/components/mecanisms/Composantes.css?");

/***/ }),

/***/ "./source/components/mecanisms/Composantes.js":
/*!****************************************************!*\
  !*** ./source/components/mecanisms/Composantes.js ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Composantes; });\n/* harmony import */ var ramda__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ramda */ \"ramda\");\n/* harmony import */ var ramda__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(ramda__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-i18next */ \"react-i18next\");\n/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_i18next__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _evaluation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../evaluation */ \"./source/evaluation.tsx\");\n/* harmony import */ var _locales_writtenNumbers_yaml__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../locales/writtenNumbers.yaml */ \"./source/locales/writtenNumbers.yaml\");\n/* harmony import */ var _locales_writtenNumbers_yaml__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_locales_writtenNumbers_yaml__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _colors__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./colors */ \"./source/components/mecanisms/colors.ts\");\n/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./common */ \"./source/components/mecanisms/common.tsx\");\n/* harmony import */ var _Composantes_css__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Composantes.css */ \"./source/components/mecanisms/Composantes.css\");\n/* harmony import */ var _Composantes_css__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_Composantes_css__WEBPACK_IMPORTED_MODULE_7__);\n\n\n\n\n\n\n\n\nfunction Composantes(_ref) {\n  var {\n    nodeValue,\n    explanation,\n    unit\n  } = _ref;\n  var {\n    i18n\n  } = Object(react_i18next__WEBPACK_IMPORTED_MODULE_2__[\"useTranslation\"])();\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_common__WEBPACK_IMPORTED_MODULE_6__[\"Node\"], {\n    classes: \"mecanism composantes\",\n    name: \"composantes\",\n    inline: true,\n    value: nodeValue,\n    unit: unit\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"p\", {\n    style: {\n      marginBottom: '1rem'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__[\"Trans\"], null, \"La somme de\"), ' ', _locales_writtenNumbers_yaml__WEBPACK_IMPORTED_MODULE_4___default.a[i18n.language][explanation.length], ' ', /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_common__WEBPACK_IMPORTED_MODULE_6__[\"InlineMecanism\"], {\n    name: \"composantes\"\n  }), \" :\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"ol\", null, explanation.map((c, i) => [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"li\", {\n    className: \"composante\",\n    key: JSON.stringify(c.composante)\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"ul\", {\n    className: \"composanteAttributes\",\n    style: {\n      borderLeft: \"4px solid \".concat(Object(_colors__WEBPACK_IMPORTED_MODULE_5__[\"default\"])('composantes'))\n    }\n  }, Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"toPairs\"])(c.composante).map((_ref2) => {\n    var [k, v] = _ref2;\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"li\", {\n      key: k,\n      className: \"composanteName\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"span\", {\n      style: {\n        color: Object(_colors__WEBPACK_IMPORTED_MODULE_5__[\"default\"])('composantes')\n      }\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__[\"Trans\"], null, k), \":\", ' '), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"span\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__[\"Trans\"], null, v)));\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n    className: \"content\"\n  }, Object(_evaluation__WEBPACK_IMPORTED_MODULE_3__[\"makeJsx\"])(c)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n    style: {\n      textAlign: 'center',\n      width: '100%',\n      fontSize: '2.6rem',\n      margin: '0.4em 0 0.2em'\n    }\n  }, i === explanation.length - 1 ? null : '+'))]))));\n}\n\n//# sourceURL=webpack://publicodes/./source/components/mecanisms/Composantes.js?");

/***/ }),

/***/ "./source/components/mecanisms/Grille.tsx":
/*!************************************************!*\
  !*** ./source/components/mecanisms/Grille.tsx ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Grille; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Bar_me__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Barème */ \"./source/components/mecanisms/Barème.tsx\");\n/* harmony import */ var _Bar_me_css__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Barème.css */ \"./source/components/mecanisms/Barème.css\");\n/* harmony import */ var _Bar_me_css__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_Bar_me_css__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./common */ \"./source/components/mecanisms/common.tsx\");\n\n\n\n\nfunction Grille(_ref) {\n  var {\n    nodeValue,\n    explanation,\n    unit\n  } = _ref;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_common__WEBPACK_IMPORTED_MODULE_3__[\"Node\"], {\n    classes: \"mecanism bar\\xE8me\",\n    name: \"grille\",\n    value: nodeValue,\n    unit: unit\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"ul\", {\n    className: \"properties\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Bar_me__WEBPACK_IMPORTED_MODULE_1__[\"BarèmeAttributes\"], {\n    explanation: explanation\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Bar_me__WEBPACK_IMPORTED_MODULE_1__[\"TrancheTable\"], {\n    tranches: explanation.tranches,\n    multiplicateur: explanation.multiplicateur\n  })));\n}\n\n//# sourceURL=webpack://publicodes/./source/components/mecanisms/Grille.tsx?");

/***/ }),

/***/ "./source/components/mecanisms/InversionNumérique.css":
/*!************************************************************!*\
  !*** ./source/components/mecanisms/InversionNumérique.css ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("\n    var refs = 0;\n    var css = __webpack_require__(/*! !../../../../node_modules/css-loader??ref--11-1!../../../../node_modules/postcss-loader/lib!./InversionNumérique.css */ \"../node_modules/css-loader/index.js?!../node_modules/postcss-loader/lib/index.js!./source/components/mecanisms/InversionNumérique.css\");\n    var insertCss = __webpack_require__(/*! ../../../../node_modules/isomorphic-style-loader/insertCss.js */ \"../node_modules/isomorphic-style-loader/insertCss.js\");\n    var content = typeof css === 'string' ? [[module.i, css, '']] : css;\n\n    exports = module.exports = css.locals || {};\n    exports._getContent = function() { return content; };\n    exports._getCss = function() { return '' + css; };\n    exports._insertCss = function(options) { return insertCss(content, options) };\n\n    // Hot Module Replacement\n    // https://webpack.github.io/docs/hot-module-replacement\n    // Only activated in browser context\n    if (false) { var removeCss; }\n  \n\n//# sourceURL=webpack://publicodes/./source/components/mecanisms/InversionNum%C3%A9rique.css?");

/***/ }),

/***/ "./source/components/mecanisms/InversionNumérique.js":
/*!***********************************************************!*\
  !*** ./source/components/mecanisms/InversionNumérique.js ***!
  \***********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return InversionNumérique; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _evaluation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../evaluation */ \"./source/evaluation.tsx\");\n/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./common */ \"./source/components/mecanisms/common.tsx\");\n/* harmony import */ var _InversionNum_rique_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./InversionNumérique.css */ \"./source/components/mecanisms/InversionNumérique.css\");\n/* harmony import */ var _InversionNum_rique_css__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_InversionNum_rique_css__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\nfunction InversionNumérique(_ref) {\n  var {\n    nodeValue,\n    explanation\n  } = _ref;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_common__WEBPACK_IMPORTED_MODULE_2__[\"Node\"], {\n    classes: \"mecanism inversionNum\\xE9rique\",\n    name: \"inversion num\\xE9rique\",\n    value: nodeValue\n  }, explanation.inversionFailed ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, ' ', /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"p\", null, \"Cette valeur devrait pouvoir \\xEAtre estim\\xE9e \\xE0 partir d'une autre variable qui poss\\xE8de une formule de calcul et dont la valeur a \\xE9t\\xE9 fix\\xE9e dans la simulation :\"), Object(_evaluation__WEBPACK_IMPORTED_MODULE_1__[\"makeJsx\"])(explanation.inversedWith), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"p\", null, \"Malheureusement, il a \\xE9t\\xE9 impossible de retrouver une valeur pour cette formule qui permette d'atterir sur la valeur demand\\xE9e.\")) : explanation.inversedWith ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, ' ', /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"p\", null, \"Cette valeur a \\xE9t\\xE9 estim\\xE9e \\xE0 partir d'une autre variable qui poss\\xE8de une formule de calcul et dont la valeur a \\xE9t\\xE9 fix\\xE9e dans la simulation :\"), Object(_evaluation__WEBPACK_IMPORTED_MODULE_1__[\"makeJsx\"])(explanation.inversedWith)) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"p\", null, \"Cette formule de calcul n'existe pas, mais on peut la calculer par inversion en utilisant les formules des r\\xE8gles suivantes :\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"ul\", {\n    id: \"inversionsPossibles\"\n  }, explanation.inversionCandidates.map(el => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"li\", {\n    key: el.dottedName\n  }, Object(_evaluation__WEBPACK_IMPORTED_MODULE_1__[\"makeJsx\"])(el))))));\n}\n\n//# sourceURL=webpack://publicodes/./source/components/mecanisms/InversionNum%C3%A9rique.js?");

/***/ }),

/***/ "./source/components/mecanisms/Product.js":
/*!************************************************!*\
  !*** ./source/components/mecanisms/Product.js ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ProductView; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-i18next */ \"react-i18next\");\n/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_i18next__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _evaluation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../evaluation */ \"./source/evaluation.tsx\");\n/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./common */ \"./source/components/mecanisms/common.tsx\");\n/* harmony import */ var _InversionNum_rique_css__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./InversionNumérique.css */ \"./source/components/mecanisms/InversionNumérique.css\");\n/* harmony import */ var _InversionNum_rique_css__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_InversionNum_rique_css__WEBPACK_IMPORTED_MODULE_4__);\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n\n\nfunction ProductView(_ref) {\n  var {\n    nodeValue,\n    explanation,\n    unit\n  } = _ref;\n  return (\n    /*#__PURE__*/\n    // The rate and factor and threshold are given defaut neutral values. If there is nothing to explain, don't display them at all\n    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_common__WEBPACK_IMPORTED_MODULE_3__[\"Node\"], {\n      classes: \"mecanism produit\",\n      name: \"produit\",\n      value: nodeValue,\n      unit: unit\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      style: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        flexWrap: 'wrap'\n      }\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      style: {\n        textAlign: 'right'\n      }\n    }, Object(_evaluation__WEBPACK_IMPORTED_MODULE_2__[\"makeJsx\"])(explanation.assiette), !explanation.plafond.isDefault && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      className: \"ui__ notice\",\n      style: {\n        display: 'flex',\n        alignItems: 'baseline',\n        flexWrap: 'wrap'\n      }\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n      style: _objectSpread({}, explanation.plafondActif ? {\n        background: 'yellow'\n      } : {})\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__[\"Trans\"], null, \"Plafonn\\xE9e \\xE0 :\"), \"\\xA0\", Object(_evaluation__WEBPACK_IMPORTED_MODULE_2__[\"makeJsx\"])(explanation.plafond)))), !explanation.facteur.isDefault && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      style: {\n        display: 'flex',\n        flexWrap: 'wrap',\n        alignItems: 'center',\n        justifyContent: 'center'\n      }\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      style: {\n        fontSize: '1.6rem',\n        margin: '0.5rem 1rem'\n      }\n    }, \" \\xD7 \"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, Object(_evaluation__WEBPACK_IMPORTED_MODULE_2__[\"makeJsx\"])(explanation.facteur))), !explanation.taux.isDefault && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      style: {\n        display: 'flex',\n        flexWrap: 'wrap',\n        alignItems: 'center',\n        justifyContent: 'center'\n      }\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n      style: {\n        fontSize: '1.6rem',\n        margin: '0 1rem'\n      }\n    }, \" \\xD7 \"), Object(_evaluation__WEBPACK_IMPORTED_MODULE_2__[\"makeJsx\"])(explanation.taux))))\n  );\n}\n\n//# sourceURL=webpack://publicodes/./source/components/mecanisms/Product.js?");

/***/ }),

/***/ "./source/components/mecanisms/Recalcul.tsx":
/*!**************************************************!*\
  !*** ./source/components/mecanisms/Recalcul.tsx ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Recalcul; });\n/* harmony import */ var _RuleLink__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../RuleLink */ \"./source/components/RuleLink.tsx\");\n/* harmony import */ var _evaluation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../evaluation */ \"./source/evaluation.tsx\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-i18next */ \"react-i18next\");\n/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_i18next__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./common */ \"./source/components/mecanisms/common.tsx\");\n\n\n\n\n\nfunction Recalcul(_ref) {\n  var {\n    nodeValue,\n    explanation\n  } = _ref;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_common__WEBPACK_IMPORTED_MODULE_4__[\"Node\"], {\n    classes: \"mecanism recalcul\",\n    name: \"recalcul\",\n    value: nodeValue,\n    unit: explanation.unit\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment, null, explanation.recalcul && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_3__[\"Trans\"], {\n    i18nKey: \"calcul-avec\"\n  }, \"Recalcul de la r\\xE8gle\", ' ', /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_RuleLink__WEBPACK_IMPORTED_MODULE_0__[\"RuleLinkWithContext\"], {\n    dottedName: explanation.recalcul.dottedName\n  }), ' ', \"avec les valeurs suivantes :\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"ul\", null, Object.keys(explanation.amendedSituation).map(dottedName => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"li\", {\n    key: dottedName\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_RuleLink__WEBPACK_IMPORTED_MODULE_0__[\"RuleLinkWithContext\"], {\n    dottedName: dottedName\n  }), \" =\", ' ', Object(_evaluation__WEBPACK_IMPORTED_MODULE_1__[\"makeJsx\"])(explanation.amendedSituation[dottedName]))))));\n}\n\n//# sourceURL=webpack://publicodes/./source/components/mecanisms/Recalcul.tsx?");

/***/ }),

/***/ "./source/components/mecanisms/Somme.css":
/*!***********************************************!*\
  !*** ./source/components/mecanisms/Somme.css ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("\n    var refs = 0;\n    var css = __webpack_require__(/*! !../../../../node_modules/css-loader??ref--11-1!../../../../node_modules/postcss-loader/lib!./Somme.css */ \"../node_modules/css-loader/index.js?!../node_modules/postcss-loader/lib/index.js!./source/components/mecanisms/Somme.css\");\n    var insertCss = __webpack_require__(/*! ../../../../node_modules/isomorphic-style-loader/insertCss.js */ \"../node_modules/isomorphic-style-loader/insertCss.js\");\n    var content = typeof css === 'string' ? [[module.i, css, '']] : css;\n\n    exports = module.exports = css.locals || {};\n    exports._getContent = function() { return content; };\n    exports._getCss = function() { return '' + css; };\n    exports._insertCss = function(options) { return insertCss(content, options) };\n\n    // Hot Module Replacement\n    // https://webpack.github.io/docs/hot-module-replacement\n    // Only activated in browser context\n    if (false) { var removeCss; }\n  \n\n//# sourceURL=webpack://publicodes/./source/components/mecanisms/Somme.css?");

/***/ }),

/***/ "./source/components/mecanisms/Somme.js":
/*!**********************************************!*\
  !*** ./source/components/mecanisms/Somme.js ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var ramda__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ramda */ \"ramda\");\n/* harmony import */ var ramda__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(ramda__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _evaluation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../evaluation */ \"./source/evaluation.tsx\");\n/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./common */ \"./source/components/mecanisms/common.tsx\");\n/* harmony import */ var _Somme_css__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Somme.css */ \"./source/components/mecanisms/Somme.css\");\n/* harmony import */ var _Somme_css__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_Somme_css__WEBPACK_IMPORTED_MODULE_4__);\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n\n\n\n\n\n\nvar SommeNode = (_ref) => {\n  var {\n    explanation,\n    nodeValue,\n    unit\n  } = _ref;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_common__WEBPACK_IMPORTED_MODULE_3__[\"Node\"], {\n    classes: \"mecanism somme\",\n    name: \"somme\",\n    value: nodeValue,\n    unit: unit\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Table, {\n    explanation: explanation,\n    unit: unit\n  }));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (SommeNode);\n\nvar Table = (_ref2) => {\n  var {\n    explanation,\n    unit\n  } = _ref2;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n    className: \"mecanism-somme__table\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", null, explanation.map((v, i) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Row, _extends({\n    key: i\n  }, {\n    v,\n    i\n  }, {\n    unit: unit\n  })))));\n};\n/* La colonne peut au clic afficher une nouvelle colonne qui sera une autre somme imbriquée */\n\n\nfunction Row(_ref3) {\n  var {\n    v,\n    i,\n    unit\n  } = _ref3;\n  var [folded, setFolded] = Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useState\"])(true),\n      rowFormula = Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"path\"])(['explanation', 'formule', 'explanation'], v),\n      isSomme = rowFormula && rowFormula.name == 'somme';\n  return [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n    className: \"mecanism-somme__row\",\n    key: v.name || i // className={isSomme ? '' : 'noNest'}\n    ,\n    onClick: () => setFolded(!folded)\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n    className: \"element\"\n  }, Object(_evaluation__WEBPACK_IMPORTED_MODULE_2__[\"makeJsx\"])(v), isSomme && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"button\", {\n    className: \"unfoldIndication ui__ notice small static simple button\"\n  }, folded ? 'déplier' : 'replier')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n    className: \"situationValue value\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_common__WEBPACK_IMPORTED_MODULE_3__[\"NodeValuePointer\"], {\n    data: v.nodeValue,\n    unit: v.unit\n  }))), ...(isSomme && !folded ? [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n    className: \"nested\",\n    key: v.name + '-nest'\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Table, {\n    explanation: rowFormula.explanation,\n    unit: v.unit || unit\n  }))] : [])];\n}\n\n//# sourceURL=webpack://publicodes/./source/components/mecanisms/Somme.js?");

/***/ }),

/***/ "./source/components/mecanisms/TauxProgressif.tsx":
/*!********************************************************!*\
  !*** ./source/components/mecanisms/TauxProgressif.tsx ***!
  \********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return TauxProgressif; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-i18next */ \"react-i18next\");\n/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_i18next__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _Bar_me__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Barème */ \"./source/components/mecanisms/Barème.tsx\");\n/* harmony import */ var _Bar_me_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Barème.css */ \"./source/components/mecanisms/Barème.css\");\n/* harmony import */ var _Bar_me_css__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_Bar_me_css__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./common */ \"./source/components/mecanisms/common.tsx\");\n\n\n\n\n\nfunction TauxProgressif(_ref) {\n  var {\n    nodeValue,\n    explanation,\n    unit\n  } = _ref;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_common__WEBPACK_IMPORTED_MODULE_4__[\"Node\"], {\n    classes: \"mecanism bar\\xE8me\",\n    name: \"taux progressif\",\n    value: nodeValue,\n    unit: unit\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"ul\", {\n    className: \"properties\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Bar_me__WEBPACK_IMPORTED_MODULE_2__[\"BarèmeAttributes\"], {\n    explanation: explanation\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Bar_me__WEBPACK_IMPORTED_MODULE_2__[\"TrancheTable\"], {\n    tranches: explanation.tranches,\n    multiplicateur: explanation.multiplicateur\n  }), nodeValue != null && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"b\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__[\"Trans\"], null, \"Taux calcul\\xE9\"), \" :\", ' '), ' ', /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_common__WEBPACK_IMPORTED_MODULE_4__[\"NodeValuePointer\"], {\n    data: nodeValue * 100,\n    unit: unit\n  }))));\n}\n\n//# sourceURL=webpack://publicodes/./source/components/mecanisms/TauxProgressif.tsx?");

/***/ }),

/***/ "./source/components/mecanisms/Variations.css":
/*!****************************************************!*\
  !*** ./source/components/mecanisms/Variations.css ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("\n    var refs = 0;\n    var css = __webpack_require__(/*! !../../../../node_modules/css-loader??ref--11-1!../../../../node_modules/postcss-loader/lib!./Variations.css */ \"../node_modules/css-loader/index.js?!../node_modules/postcss-loader/lib/index.js!./source/components/mecanisms/Variations.css\");\n    var insertCss = __webpack_require__(/*! ../../../../node_modules/isomorphic-style-loader/insertCss.js */ \"../node_modules/isomorphic-style-loader/insertCss.js\");\n    var content = typeof css === 'string' ? [[module.i, css, '']] : css;\n\n    exports = module.exports = css.locals || {};\n    exports._getContent = function() { return content; };\n    exports._getCss = function() { return '' + css; };\n    exports._insertCss = function(options) { return insertCss(content, options) };\n\n    // Hot Module Replacement\n    // https://webpack.github.io/docs/hot-module-replacement\n    // Only activated in browser context\n    if (false) { var removeCss; }\n  \n\n//# sourceURL=webpack://publicodes/./source/components/mecanisms/Variations.css?");

/***/ }),

/***/ "./source/components/mecanisms/Variations.js":
/*!***************************************************!*\
  !*** ./source/components/mecanisms/Variations.js ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Variations; });\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ \"classnames\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_easy_emoji__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-easy-emoji */ \"react-easy-emoji\");\n/* harmony import */ var react_easy_emoji__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_easy_emoji__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-i18next */ \"react-i18next\");\n/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_i18next__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _locales_writtenNumbers_yaml__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../locales/writtenNumbers.yaml */ \"./source/locales/writtenNumbers.yaml\");\n/* harmony import */ var _locales_writtenNumbers_yaml__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_locales_writtenNumbers_yaml__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _evaluation__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../evaluation */ \"./source/evaluation.tsx\");\n/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./common */ \"./source/components/mecanisms/common.tsx\");\n/* harmony import */ var _Variations_css__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Variations.css */ \"./source/components/mecanisms/Variations.css\");\n/* harmony import */ var _Variations_css__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_Variations_css__WEBPACK_IMPORTED_MODULE_7__);\n\n\n\n\n\n\n\n\nfunction Variations(_ref) {\n  var {\n    nodeValue,\n    explanation,\n    unit\n  } = _ref;\n  var [expandedVariation, toggleVariation] = Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useState\"])(null);\n  var {\n    i18n\n  } = Object(react_i18next__WEBPACK_IMPORTED_MODULE_3__[\"useTranslation\"])();\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_common__WEBPACK_IMPORTED_MODULE_6__[\"Node\"], {\n    classes: \"mecanism variations\",\n    name: \"variations\",\n    inline: true,\n    unit: unit,\n    value: nodeValue\n  }, ' ', /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"p\", {\n    style: {\n      textTransform: 'capitalize'\n    }\n  }, _locales_writtenNumbers_yaml__WEBPACK_IMPORTED_MODULE_4___default.a[i18n.language][explanation.length], /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_common__WEBPACK_IMPORTED_MODULE_6__[\"InlineMecanism\"], {\n    name: \"variations\"\n  }), \" :\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"ol\", null, explanation.map((_ref2, i) => {\n    var {\n      condition,\n      consequence,\n      satisfied\n    } = _ref2;\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"li\", {\n      key: i,\n      style: {\n        transition: 'all 0.2s',\n        opacity: expandedVariation === i || satisfied || nodeValue == null ? 1 : 0.8\n      }\n    }, !satisfied && nodeValue != null && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"em\", null, \"non applicable \"), expandedVariation !== i ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"button\", {\n      className: \"ui__ link-button\",\n      onClick: () => toggleVariation(i)\n    }, \"d\\xE9tails \", react_easy_emoji__WEBPACK_IMPORTED_MODULE_2___default()('▶️')) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"button\", {\n      className: \"ui__ link-button\",\n      onClick: () => toggleVariation(null)\n    }, \"replier \", react_easy_emoji__WEBPACK_IMPORTED_MODULE_2___default()('🔽'))), (expandedVariation === i || satisfied || nodeValue == null) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n      style: {\n        margin: '1rem 0'\n      }\n    }, !condition.isDefault && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n      style: {\n        display: 'flex',\n        flexWrap: 'wrap',\n        alignItems: 'baseline',\n        marginBottom: '0.4rem'\n      }\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_3__[\"Trans\"], null, \"Si :\"), \"\\xA0\", Object(_evaluation__WEBPACK_IMPORTED_MODULE_5__[\"makeJsx\"])(condition)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n      style: {\n        display: 'flex',\n        width: 'fit-content',\n        flexWrap: 'wrap',\n        alignItems: 'flex-start'\n      }\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"span\", {\n      className: classnames__WEBPACK_IMPORTED_MODULE_0___default()('consequenceType', {\n        satisfied\n      })\n    }, !condition.isDefault ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_3__[\"Trans\"], null, \"Alors\") : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_3__[\"Trans\"], null, \"Sinon\"), ' ', \":\\xA0\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"span\", {\n      className: classnames__WEBPACK_IMPORTED_MODULE_0___default()('consequenceContent', {\n        satisfied\n      })\n    }, consequence && Object(_evaluation__WEBPACK_IMPORTED_MODULE_5__[\"makeJsx\"])(consequence)))));\n  }))));\n}\n\n//# sourceURL=webpack://publicodes/./source/components/mecanisms/Variations.js?");

/***/ }),

/***/ "./source/components/mecanisms/colors.ts":
/*!***********************************************!*\
  !*** ./source/components/mecanisms/colors.ts ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar colors = {\n  ruleProp: '#9b59b6',\n  'applicable si': '#9b59b6',\n  'non applicable si': '#9b59b6',\n  produit: '#2ecc71',\n  'une de ces conditions': '#3498db',\n  'toutes ces conditions': '#3498db',\n  composantes: '#3498db',\n  variations: '#FF9800',\n  'taux progressif': '#795548',\n  barème: '#607D8B',\n  grille: '#AD1457'\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (name => colors[name] || '#34495e');\n\n//# sourceURL=webpack://publicodes/./source/components/mecanisms/colors.ts?");

/***/ }),

/***/ "./source/components/mecanisms/common.tsx":
/*!************************************************!*\
  !*** ./source/components/mecanisms/common.tsx ***!
  \************************************************/
/*! exports provided: NodeValuePointer, Node, InlineMecanism, Leaf */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"NodeValuePointer\", function() { return NodeValuePointer; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Node\", function() { return Node; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"InlineMecanism\", function() { return InlineMecanism; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Leaf\", function() { return Leaf; });\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! classnames */ \"classnames\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var ramda__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ramda */ \"ramda\");\n/* harmony import */ var ramda__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(ramda__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-i18next */ \"react-i18next\");\n/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_i18next__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _format__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../format */ \"./source/format.ts\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils */ \"./source/utils.ts\");\n/* harmony import */ var _RuleLink__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../RuleLink */ \"./source/components/RuleLink.tsx\");\n/* harmony import */ var _colors__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./colors */ \"./source/components/mecanisms/colors.ts\");\n\n\n\n\n\n\n\n\nvar NodeValuePointer = (_ref) => {\n  var {\n    data,\n    unit\n  } = _ref;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"span\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_0___default()('situationValue', {\n      boolean: typeof data == 'boolean'\n    }),\n    style: {\n      background: 'white',\n      borderBottom: '0 !important',\n      marginLeft: '0.4rem',\n      padding: '0 0.2rem',\n      textDecoration: 'none !important',\n      boxShadow: '2px 2px 4px 1px #d9d9d9, 0 0 0 1px #d9d9d9',\n      lineHeight: '1.6em',\n      borderRadius: '0.2rem'\n    }\n  }, Object(_format__WEBPACK_IMPORTED_MODULE_4__[\"formatValue\"])({\n    nodeValue: data,\n    unit,\n    language: 'fr'\n  }));\n}; // Un élément du graphe de calcul qui a une valeur interprétée (à afficher)\n\nfunction Node(_ref2) {\n  var {\n    classes,\n    name,\n    value,\n    children,\n    inline,\n    unit\n  } = _ref2;\n  var termDefinition = Object(ramda__WEBPACK_IMPORTED_MODULE_1__[\"contains\"])('mecanism', classes) && name;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_0___default()(classes, 'node', {\n      inline\n    }),\n    style: termDefinition ? {\n      borderColor: Object(_colors__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(name)\n    } : {}\n  }, name && !inline && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", {\n    className: \"nodeHead\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"a\", {\n    className: \"name\",\n    style: termDefinition ? {\n      background: Object(_colors__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(name)\n    } : {},\n    \"data-term-definition\": termDefinition\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_3__[\"Trans\"], null, name))), children, ' ', name ? !Object(ramda__WEBPACK_IMPORTED_MODULE_1__[\"isNil\"])(value) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"div\", {\n    className: \"mecanism-result\"\n  }, \"= \", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(NodeValuePointer, {\n    data: value,\n    unit: unit\n  })) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"span\", null, value !== true && value !== false && !Object(ramda__WEBPACK_IMPORTED_MODULE_1__[\"isNil\"])(value) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"span\", {\n    className: \"operator\"\n  }, \" =\\xA0\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(NodeValuePointer, {\n    data: value,\n    unit: unit\n  })));\n}\nfunction InlineMecanism(_ref3) {\n  var {\n    name\n  } = _ref3;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"span\", {\n    className: \"inlineMecanism\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"a\", {\n    className: \"name\",\n    \"data-term-definition\": name,\n    style: {\n      background: Object(_colors__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(name)\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_3__[\"Trans\"], null, name)));\n}\n// Un élément du graphe de calcul qui a une valeur interprétée (à afficher)\nfunction Leaf(_ref4) {\n  var {\n    className,\n    rule,\n    nodeValue,\n    filter,\n    unit\n  } = _ref4;\n  var title = rule.title || Object(_utils__WEBPACK_IMPORTED_MODULE_5__[\"capitalise0\"])(rule.name);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"span\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_0___default()(className, 'leaf')\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"span\", {\n    className: \"nodeHead\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_RuleLink__WEBPACK_IMPORTED_MODULE_6__[\"RuleLinkWithContext\"], {\n    dottedName: rule.dottedName\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"span\", {\n    className: \"name\"\n  }, rule.acronyme ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"abbr\", {\n    title: title\n  }, rule.acronyme) : title, ' ', filter)), !Object(ramda__WEBPACK_IMPORTED_MODULE_1__[\"isNil\"])(nodeValue) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(NodeValuePointer, {\n    data: nodeValue,\n    unit: unit\n  })));\n}\n\n//# sourceURL=webpack://publicodes/./source/components/mecanisms/common.tsx?");

/***/ }),

/***/ "./source/components/rule/Algorithm.css":
/*!**********************************************!*\
  !*** ./source/components/rule/Algorithm.css ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("\n    var refs = 0;\n    var css = __webpack_require__(/*! !../../../../node_modules/css-loader??ref--11-1!../../../../node_modules/postcss-loader/lib!./Algorithm.css */ \"../node_modules/css-loader/index.js?!../node_modules/postcss-loader/lib/index.js!./source/components/rule/Algorithm.css\");\n    var insertCss = __webpack_require__(/*! ../../../../node_modules/isomorphic-style-loader/insertCss.js */ \"../node_modules/isomorphic-style-loader/insertCss.js\");\n    var content = typeof css === 'string' ? [[module.i, css, '']] : css;\n\n    exports = module.exports = css.locals || {};\n    exports._getContent = function() { return content; };\n    exports._getCss = function() { return '' + css; };\n    exports._insertCss = function(options) { return insertCss(content, options) };\n\n    // Hot Module Replacement\n    // https://webpack.github.io/docs/hot-module-replacement\n    // Only activated in browser context\n    if (false) { var removeCss; }\n  \n\n//# sourceURL=webpack://publicodes/./source/components/rule/Algorithm.css?");

/***/ }),

/***/ "./source/components/rule/Algorithm.tsx":
/*!**********************************************!*\
  !*** ./source/components/rule/Algorithm.tsx ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Algorithm; });\n/* harmony import */ var ramda__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ramda */ \"ramda\");\n/* harmony import */ var ramda__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(ramda__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-i18next */ \"react-i18next\");\n/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_i18next__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _evaluation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../evaluation */ \"./source/evaluation.tsx\");\n/* harmony import */ var _Algorithm_css__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Algorithm.css */ \"./source/components/rule/Algorithm.css\");\n/* harmony import */ var _Algorithm_css__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_Algorithm_css__WEBPACK_IMPORTED_MODULE_4__);\n\n\n\n\n\n\nvar Conditions = (_ref) => {\n  var _disabledBy$explanati, _disabledBy$explanati2;\n\n  var {\n    'rendu non applicable': disabledBy,\n    parentDependencies,\n    'applicable si': applicable,\n    'non applicable si': notApplicable\n  } = _ref;\n  var listElements = [...parentDependencies.map(parentDependency => parentDependency.nodeValue === false && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ShowIfDisabled, {\n    dependency: parentDependency,\n    key: parentDependency.dottedName\n  })), ...(disabledBy === null || disabledBy === void 0 ? void 0 : (_disabledBy$explanati = disabledBy.explanation) === null || _disabledBy$explanati === void 0 ? void 0 : (_disabledBy$explanati2 = _disabledBy$explanati.isDisabledBy) === null || _disabledBy$explanati2 === void 0 ? void 0 : _disabledBy$explanati2.map((dependency, i) => (dependency === null || dependency === void 0 ? void 0 : dependency.nodeValue) === true && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ShowIfDisabled, {\n    dependency: dependency,\n    key: \"dependency \".concat(i)\n  }))), applicable && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"li\", {\n    key: \"applicable\"\n  }, Object(_evaluation__WEBPACK_IMPORTED_MODULE_3__[\"makeJsx\"])(applicable)), notApplicable && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"li\", {\n    key: \"non applicable\"\n  }, Object(_evaluation__WEBPACK_IMPORTED_MODULE_3__[\"makeJsx\"])(notApplicable))];\n  return Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"any\"])(ramda__WEBPACK_IMPORTED_MODULE_0__[\"identity\"], listElements) ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"h2\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__[\"Trans\"], null, \"D\\xE9clenchement\")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"ul\", null, listElements)) : null;\n};\n\nfunction ShowIfDisabled(_ref2) {\n  var {\n    dependency\n  } = _ref2;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"li\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"span\", {\n    style: {\n      background: 'yellow'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__[\"Trans\"], null, \"D\\xE9sactiv\\xE9e\")), ' ', /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__[\"Trans\"], null, \"car d\\xE9pend de\"), \" \", Object(_evaluation__WEBPACK_IMPORTED_MODULE_3__[\"makeJsx\"])(dependency));\n}\n\nfunction Algorithm(_ref3) {\n  var {\n    rule\n  } = _ref3;\n  var formula = rule.formule || rule.category === 'variable' && rule.explanation.formule,\n      displayFormula = formula && !!Object.keys(formula).length && !Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"path\"])(['formule', 'explanation', 'une possibilité'], rule) && !(formula.explanation.constant && rule.nodeValue);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Conditions, rule), displayFormula && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"h2\", null, \"Comment cette donn\\xE9e est-elle calcul\\xE9e ?\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n    className: formula.explanation.constant || formula.explanation.operator ? 'mecanism' : ''\n  }, Object(_evaluation__WEBPACK_IMPORTED_MODULE_3__[\"makeJsx\"])(formula))));\n}\n\n//# sourceURL=webpack://publicodes/./source/components/rule/Algorithm.tsx?");

/***/ }),

/***/ "./source/components/rule/Header.css":
/*!*******************************************!*\
  !*** ./source/components/rule/Header.css ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("\n    var refs = 0;\n    var css = __webpack_require__(/*! !../../../../node_modules/css-loader??ref--11-1!../../../../node_modules/postcss-loader/lib!./Header.css */ \"../node_modules/css-loader/index.js?!../node_modules/postcss-loader/lib/index.js!./source/components/rule/Header.css\");\n    var insertCss = __webpack_require__(/*! ../../../../node_modules/isomorphic-style-loader/insertCss.js */ \"../node_modules/isomorphic-style-loader/insertCss.js\");\n    var content = typeof css === 'string' ? [[module.i, css, '']] : css;\n\n    exports = module.exports = css.locals || {};\n    exports._getContent = function() { return content; };\n    exports._getCss = function() { return '' + css; };\n    exports._insertCss = function(options) { return insertCss(content, options) };\n\n    // Hot Module Replacement\n    // https://webpack.github.io/docs/hot-module-replacement\n    // Only activated in browser context\n    if (false) { var removeCss; }\n  \n\n//# sourceURL=webpack://publicodes/./source/components/rule/Header.css?");

/***/ }),

/***/ "./source/components/rule/Header.tsx":
/*!*******************************************!*\
  !*** ./source/components/rule/Header.tsx ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return RuleHeader; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _ruleUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../ruleUtils */ \"./source/ruleUtils.ts\");\n/* harmony import */ var _Header_css__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Header.css */ \"./source/components/rule/Header.css\");\n/* harmony import */ var _Header_css__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_Header_css__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _RuleLink__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../RuleLink */ \"./source/components/RuleLink.tsx\");\n\n\n\n\nfunction RuleHeader(_ref) {\n  var {\n    dottedName\n  } = _ref;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"header\", {\n    className: \"ui__ plain card rule-header\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"ul\", {\n    className: \"rule-header__breadcrumb\"\n  }, Object(_ruleUtils__WEBPACK_IMPORTED_MODULE_1__[\"ruleParents\"])(dottedName).reverse().map(parentDottedName => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"li\", {\n    key: parentDottedName\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_RuleLink__WEBPACK_IMPORTED_MODULE_3__[\"RuleLinkWithContext\"], {\n    dottedName: parentDottedName,\n    displayIcon: true\n  }), ' › '))), ' ', /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"h1\", {\n    className: \"rule-header__title\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_RuleLink__WEBPACK_IMPORTED_MODULE_3__[\"RuleLinkWithContext\"], {\n    dottedName: dottedName,\n    displayIcon: true,\n    style: {\n      textDecoration: 'none'\n    }\n  })));\n}\n\n//# sourceURL=webpack://publicodes/./source/components/rule/Header.tsx?");

/***/ }),

/***/ "./source/components/rule/References.css":
/*!***********************************************!*\
  !*** ./source/components/rule/References.css ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("\n    var refs = 0;\n    var css = __webpack_require__(/*! !../../../../node_modules/css-loader??ref--11-1!../../../../node_modules/postcss-loader/lib!./References.css */ \"../node_modules/css-loader/index.js?!../node_modules/postcss-loader/lib/index.js!./source/components/rule/References.css\");\n    var insertCss = __webpack_require__(/*! ../../../../node_modules/isomorphic-style-loader/insertCss.js */ \"../node_modules/isomorphic-style-loader/insertCss.js\");\n    var content = typeof css === 'string' ? [[module.i, css, '']] : css;\n\n    exports = module.exports = css.locals || {};\n    exports._getContent = function() { return content; };\n    exports._getCss = function() { return '' + css; };\n    exports._insertCss = function(options) { return insertCss(content, options) };\n\n    // Hot Module Replacement\n    // https://webpack.github.io/docs/hot-module-replacement\n    // Only activated in browser context\n    if (false) { var removeCss; }\n  \n\n//# sourceURL=webpack://publicodes/./source/components/rule/References.css?");

/***/ }),

/***/ "./source/components/rule/References.tsx":
/*!***********************************************!*\
  !*** ./source/components/rule/References.tsx ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return References; });\n/* harmony import */ var _r_f_rences_r_f_rences_yaml__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./références/références.yaml */ \"./source/components/rule/références/références.yaml\");\n/* harmony import */ var _r_f_rences_r_f_rences_yaml__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_r_f_rences_r_f_rences_yaml__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var ramda__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ramda */ \"ramda\");\n/* harmony import */ var ramda__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(ramda__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils */ \"./source/utils.ts\");\n/* harmony import */ var _References_css__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./References.css */ \"./source/components/rule/References.css\");\n/* harmony import */ var _References_css__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_References_css__WEBPACK_IMPORTED_MODULE_4__);\n\n\n\n\n\n\nvar findRefKey = link => Object.keys(_r_f_rences_r_f_rences_yaml__WEBPACK_IMPORTED_MODULE_0___default.a).find(r => link.includes(r));\n\nvar cleanDomain = link => (link.includes('://') ? link.split('/')[2] : link.split('/')[0]).replace('www.', '');\n\nfunction Ref(_ref) {\n  var {\n    name,\n    link\n  } = _ref;\n  var refKey = findRefKey(link),\n      refData = refKey && _r_f_rences_r_f_rences_yaml__WEBPACK_IMPORTED_MODULE_0___default.a[refKey] || {},\n      domain = cleanDomain(link);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"li\", {\n    style: {\n      display: 'flex',\n      alignItems: 'baseline'\n    },\n    key: name\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"span\", {\n    className: \"imageWrapper\"\n  }, refData.image && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"img\", {\n    src: __webpack_require__(\"./source/components/rule/références sync recursive ^\\\\.\\\\/.*$\")(\"./\" + refData.image)\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"a\", {\n    href: link,\n    target: \"_blank\",\n    style: {\n      marginRight: '1rem'\n    }\n  }, Object(_utils__WEBPACK_IMPORTED_MODULE_3__[\"capitalise0\"])(name)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"span\", {\n    className: \"ui__ label\"\n  }, domain));\n}\n\nfunction References(_ref2) {\n  var {\n    refs\n  } = _ref2;\n  var references = Object(ramda__WEBPACK_IMPORTED_MODULE_1__[\"toPairs\"])(refs);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(\"ul\", {\n    className: \"references\"\n  }, references.map((_ref3) => {\n    var [name, link] = _ref3;\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Ref, {\n      key: link,\n      name: name,\n      link: link\n    });\n  }));\n}\n\n//# sourceURL=webpack://publicodes/./source/components/rule/References.tsx?");

/***/ }),

/***/ "./source/components/rule/Rule.tsx":
/*!*****************************************!*\
  !*** ./source/components/rule/Rule.tsx ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Rule; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-i18next */ \"react-i18next\");\n/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_i18next__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _format__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../format */ \"./source/format.ts\");\n/* harmony import */ var _units__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../units */ \"./source/units.ts\");\n/* harmony import */ var _Markdown__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Markdown */ \"./source/components/Markdown.tsx\");\n/* harmony import */ var _RuleLink__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../RuleLink */ \"./source/components/RuleLink.tsx\");\n/* harmony import */ var _Algorithm__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Algorithm */ \"./source/components/rule/Algorithm.tsx\");\n/* harmony import */ var _Header__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Header */ \"./source/components/rule/Header.tsx\");\n/* harmony import */ var _References__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./References */ \"./source/components/rule/References.tsx\");\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n\n\n\n\n\n // let LazySource = React.lazy(() => import('../../../../mon-entreprise/source/components/RuleSource'))\n\nfunction Rule(_ref) {\n  var _rule$defaultValue, _rule$defaultValue2;\n\n  var {\n    dottedName,\n    useDefaultValues,\n    engine,\n    language\n  } = _ref;\n  var rule = engine.evaluate(dottedName, {\n    useDefaultValues\n  });\n  var [viewSource, setViewSource] = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(false);\n  var {\n    description,\n    question\n  } = rule;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    id: \"rule\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Header__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n    dottedName: dottedName\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"section\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Markdown__WEBPACK_IMPORTED_MODULE_4__[\"Markdown\"], {\n    source: description || question\n  })), (rule.nodeValue || rule.defaultValue || rule.unit) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"p\", {\n    className: \"ui__ lead card light-bg\",\n    style: {\n      display: 'inline-block',\n      padding: '1rem'\n    }\n  }, rule.nodeValue != null && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, Object(_format__WEBPACK_IMPORTED_MODULE_2__[\"formatValue\"])(_objectSpread(_objectSpread({}, rule), {}, {\n    language\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"br\", null)), ((_rule$defaultValue = rule.defaultValue) === null || _rule$defaultValue === void 0 ? void 0 : _rule$defaultValue.nodeValue) != null && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"small\", null, \"Valeur par d\\xE9faut :\", ' ', Object(_format__WEBPACK_IMPORTED_MODULE_2__[\"formatValue\"])(_objectSpread(_objectSpread({}, rule.defaultValue), {}, {\n    language\n  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"br\", null)), rule.nodeValue == null && !((_rule$defaultValue2 = rule.defaultValue) === null || _rule$defaultValue2 === void 0 ? void 0 : _rule$defaultValue2.unit) && rule.unit && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"small\", null, \"Unit\\xE9 : \", Object(_units__WEBPACK_IMPORTED_MODULE_3__[\"serializeUnit\"])(rule.unit))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Algorithm__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n    rule: rule\n  }), rule['rend non applicable'] && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"h2\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__[\"Trans\"], null, \"Rend non applicable les r\\xE8gles suivantes\"), \" :\", ' '), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"ul\", null, rule['rend non applicable'].map(ruleName => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"li\", {\n    key: ruleName\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_RuleLink__WEBPACK_IMPORTED_MODULE_5__[\"RuleLinkWithContext\"], {\n    dottedName: ruleName\n  }))))), rule.note && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"h3\", null, \"Note\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"ui__ notice\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Markdown__WEBPACK_IMPORTED_MODULE_4__[\"Markdown\"], {\n    source: rule.note\n  }))), rule.références && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"h2\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__[\"Trans\"], null, \"R\\xE9f\\xE9rences\")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_References__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n    refs: rule.références\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(AssociatedRules, {\n    dottedName: dottedName,\n    engine: engine\n  }));\n}\n\nfunction AssociatedRules(_ref2) {\n  var {\n    dottedName,\n    engine\n  } = _ref2;\n  var namespaceRules = Object.keys(engine.getParsedRules()).filter(ruleDottedName => ruleDottedName.startsWith(dottedName) && ruleDottedName.split(' . ').length === dottedName.split(' . ').length + 1);\n\n  if (!namespaceRules.length) {\n    return null;\n  }\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"section\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"h2\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__[\"Trans\"], null, \"Pages associ\\xE9es\")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"ul\", null, namespaceRules.map(dottedName => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"li\", {\n    key: dottedName\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_RuleLink__WEBPACK_IMPORTED_MODULE_5__[\"RuleLinkWithContext\"], {\n    dottedName: dottedName\n  })))));\n}\n\n//# sourceURL=webpack://publicodes/./source/components/rule/Rule.tsx?");

/***/ }),

/***/ "./source/components/rule/références sync recursive ^\\.\\/.*$":
/*!*********************************************************!*\
  !*** ./source/components/rule/références sync ^\.\/.*$ ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var map = {\n\t\"./URSSAF.png\": \"./source/components/rule/références/URSSAF.png\",\n\t\"./agirc-arrco.png\": \"./source/components/rule/références/agirc-arrco.png\",\n\t\"./ameli.png\": \"./source/components/rule/références/ameli.png\",\n\t\"./bpi-création.png\": \"./source/components/rule/références/bpi-création.png\",\n\t\"./ladocumentationfrançaise.png\": \"./source/components/rule/références/ladocumentationfrançaise.png\",\n\t\"./marianne.png\": \"./source/components/rule/références/marianne.png\",\n\t\"./pole-emploi.png\": \"./source/components/rule/références/pole-emploi.png\",\n\t\"./références.yaml\": \"./source/components/rule/références/références.yaml\",\n\t\"./senat.png\": \"./source/components/rule/références/senat.png\",\n\t\"./wikipedia.png\": \"./source/components/rule/références/wikipedia.png\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./source/components/rule/références sync recursive ^\\\\.\\\\/.*$\";\n\n//# sourceURL=webpack://publicodes/./source/components/rule/r%C3%A9f%C3%A9rences_sync_^\\.\\/.*$?");

/***/ }),

/***/ "./source/components/rule/références/URSSAF.png":
/*!******************************************************!*\
  !*** ./source/components/rule/références/URSSAF.png ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("module.exports = __webpack_require__.p + \"images/URSSAF.png\";\n\n//# sourceURL=webpack://publicodes/./source/components/rule/r%C3%A9f%C3%A9rences/URSSAF.png?");

/***/ }),

/***/ "./source/components/rule/références/agirc-arrco.png":
/*!***********************************************************!*\
  !*** ./source/components/rule/références/agirc-arrco.png ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("module.exports = __webpack_require__.p + \"images/agirc-arrco.png\";\n\n//# sourceURL=webpack://publicodes/./source/components/rule/r%C3%A9f%C3%A9rences/agirc-arrco.png?");

/***/ }),

/***/ "./source/components/rule/références/ameli.png":
/*!*****************************************************!*\
  !*** ./source/components/rule/références/ameli.png ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("module.exports = __webpack_require__.p + \"images/ameli.png\";\n\n//# sourceURL=webpack://publicodes/./source/components/rule/r%C3%A9f%C3%A9rences/ameli.png?");

/***/ }),

/***/ "./source/components/rule/références/bpi-création.png":
/*!************************************************************!*\
  !*** ./source/components/rule/références/bpi-création.png ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("module.exports = __webpack_require__.p + \"images/bpi-création.png\";\n\n//# sourceURL=webpack://publicodes/./source/components/rule/r%C3%A9f%C3%A9rences/bpi-cr%C3%A9ation.png?");

/***/ }),

/***/ "./source/components/rule/références/ladocumentationfrançaise.png":
/*!************************************************************************!*\
  !*** ./source/components/rule/références/ladocumentationfrançaise.png ***!
  \************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("module.exports = __webpack_require__.p + \"images/ladocumentationfrançaise.png\";\n\n//# sourceURL=webpack://publicodes/./source/components/rule/r%C3%A9f%C3%A9rences/ladocumentationfran%C3%A7aise.png?");

/***/ }),

/***/ "./source/components/rule/références/marianne.png":
/*!********************************************************!*\
  !*** ./source/components/rule/références/marianne.png ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("module.exports = __webpack_require__.p + \"images/marianne.png\";\n\n//# sourceURL=webpack://publicodes/./source/components/rule/r%C3%A9f%C3%A9rences/marianne.png?");

/***/ }),

/***/ "./source/components/rule/références/pole-emploi.png":
/*!***********************************************************!*\
  !*** ./source/components/rule/références/pole-emploi.png ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("module.exports = __webpack_require__.p + \"images/pole-emploi.png\";\n\n//# sourceURL=webpack://publicodes/./source/components/rule/r%C3%A9f%C3%A9rences/pole-emploi.png?");

/***/ }),

/***/ "./source/components/rule/références/références.yaml":
/*!***********************************************************!*\
  !*** ./source/components/rule/références/références.yaml ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = {\"service-public.fr\":{\"image\":\"marianne.png\"},\"urssaf.fr\":{\"image\":\"URSSAF.png\"},\"gouv.fr\":{\"image\":\"marianne.png\"},\"agirc-arrco.fr\":{\"image\":\"agirc-arrco.png\"},\"pole-emploi.fr\":{\"image\":\"pole-emploi.png\"},\"ladocumentationfrançaise.fr\":{\"image\":\"ladocumentationfrançaise.png\"},\"senat.fr\":{\"image\":\"senat.png\"},\"ameli.fr\":{\"image\":\"ameli.png\"},\"bpifrance-creation\":{\"image\":\"bpi-création.png\"},\"wikipedia.org\":{\"image\":\"wikipedia.png\"}}\n\n//# sourceURL=webpack://publicodes/./source/components/rule/r%C3%A9f%C3%A9rences/r%C3%A9f%C3%A9rences.yaml?");

/***/ }),

/***/ "./source/components/rule/références/senat.png":
/*!*****************************************************!*\
  !*** ./source/components/rule/références/senat.png ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("module.exports = __webpack_require__.p + \"images/senat.png\";\n\n//# sourceURL=webpack://publicodes/./source/components/rule/r%C3%A9f%C3%A9rences/senat.png?");

/***/ }),

/***/ "./source/components/rule/références/wikipedia.png":
/*!*********************************************************!*\
  !*** ./source/components/rule/références/wikipedia.png ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("module.exports = __webpack_require__.p + \"images/wikipedia.png\";\n\n//# sourceURL=webpack://publicodes/./source/components/rule/r%C3%A9f%C3%A9rences/wikipedia.png?");

/***/ }),

/***/ "./source/controls.js":
/*!****************************!*\
  !*** ./source/controls.js ***!
  \****************************/
/*! exports provided: evaluateControls */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"evaluateControls\", function() { return evaluateControls; });\n/* harmony import */ var _evaluation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./evaluation */ \"./source/evaluation.tsx\");\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\nvar evaluateControls = (cache, situation, parsedRules) => {\n  return Object.values(parsedRules).filter(rule => !!rule.contrôles).map(rule => rule.contrôles.map(contrôle => _objectSpread(_objectSpread({}, contrôle), {}, {\n    evaluated: Object(_evaluation__WEBPACK_IMPORTED_MODULE_0__[\"evaluateNode\"])(_objectSpread(_objectSpread({}, cache), {}, {\n      contextRule: [rule.dottedName]\n    }), situation, parsedRules, contrôle.testExpression)\n  }))).flat().filter(contrôle => contrôle.evaluated.nodeValue === true);\n};\n\n//# sourceURL=webpack://publicodes/./source/controls.js?");

/***/ }),

/***/ "./source/date.ts":
/*!************************!*\
  !*** ./source/date.ts ***!
  \************************/
/*! exports provided: normalizeDateString, normalizeDate, convertToDate, convertToString, getRelativeDate, getYear, getDifferenceInDays, getDifferenceInMonths, getDifferenceInYears */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"normalizeDateString\", function() { return normalizeDateString; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"normalizeDate\", function() { return normalizeDate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"convertToDate\", function() { return convertToDate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"convertToString\", function() { return convertToString; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getRelativeDate\", function() { return getRelativeDate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getYear\", function() { return getYear; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getDifferenceInDays\", function() { return getDifferenceInDays; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getDifferenceInMonths\", function() { return getDifferenceInMonths; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getDifferenceInYears\", function() { return getDifferenceInYears; });\nfunction normalizeDateString(dateString) {\n  var [day, month, year] = dateString.split('/');\n\n  if (!year) {\n    ;\n    [day, month, year] = ['01', day, month];\n  }\n\n  return normalizeDate(+year, +month, +day);\n}\n\nvar pad = n => +n < 10 ? \"0\".concat(n) : '' + n;\n\nfunction normalizeDate(year, month, day) {\n  var date = new Date(+year, +month - 1, +day);\n\n  if (!+date || date.getDate() !== +day) {\n    throw new SyntaxError(\"La date \".concat(day, \"/\").concat(month, \"/\").concat(year, \" n'est pas valide\"));\n  }\n\n  return \"\".concat(pad(day), \"/\").concat(pad(month), \"/\").concat(pad(year));\n}\nfunction convertToDate(value) {\n  var [day, month, year] = normalizeDateString(value).split('/');\n  var result = new Date(+year, +month - 1, +day); // Reset date to utc midnight for exact calculation of day difference (no\n  // daylight saving effect)\n\n  result.setMinutes(result.getMinutes() - result.getTimezoneOffset());\n  return result;\n}\nfunction convertToString(date) {\n  return normalizeDate(date.getFullYear(), date.getMonth() + 1, date.getDate());\n}\nfunction getRelativeDate(date, dayDifferential) {\n  var relativeDate = new Date(convertToDate(date));\n  relativeDate.setDate(relativeDate.getDate() + dayDifferential);\n  return convertToString(relativeDate);\n}\nfunction getYear(date) {\n  return +date.slice(-4);\n}\nfunction getDifferenceInDays(from, to) {\n  var millisecondsPerDay = 1000 * 60 * 60 * 24;\n  return 1 + (convertToDate(from).getTime() - convertToDate(to).getTime()) / millisecondsPerDay;\n}\nfunction getDifferenceInMonths(from, to) {\n  // We want to compute the difference in actual month between the two dates\n  // For date that start during a month, a pro-rata will be done depending on\n  // the duration of the month in days\n  var [dayFrom, monthFrom, yearFrom] = from.split('/').map(x => +x);\n  var [dayTo, monthTo, yearTo] = to.split('/').map(x => +x);\n  var numberOfFullMonth = monthTo - monthFrom + 12 * (yearTo - yearFrom);\n  var numDayMonthFrom = new Date(yearFrom, monthFrom, 0).getDate();\n  var numDayMonthTo = new Date(yearTo, monthTo, 0).getDate();\n  var prorataMonthFrom = (dayFrom - 1) / numDayMonthFrom;\n  var prorataMonthTo = dayTo / numDayMonthTo;\n  return numberOfFullMonth - prorataMonthFrom + prorataMonthTo;\n}\nfunction getDifferenceInYears(from, to) {\n  // Todo : take leap year into account\n  return getDifferenceInDays(from, to) / 365.25;\n}\n\n//# sourceURL=webpack://publicodes/./source/date.ts?");

/***/ }),

/***/ "./source/error.ts":
/*!*************************!*\
  !*** ./source/error.ts ***!
  \*************************/
/*! exports provided: EngineError, syntaxError, compilationError, evaluationError, typeWarning, warning */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EngineError\", function() { return EngineError; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"syntaxError\", function() { return syntaxError; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"compilationError\", function() { return compilationError; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"evaluationError\", function() { return evaluationError; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"typeWarning\", function() { return typeWarning; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"warning\", function() { return warning; });\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils */ \"./source/utils.ts\");\n\nclass EngineError extends Error {}\nfunction syntaxError(rules, message, originalError) {\n  throw new EngineError(\"\\n[ Erreur syntaxique ]\\n\\u27A1\\uFE0F  Dans la r\\xE8gle `\".concat(Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"coerceArray\"])(rules).slice(-1)[0], \"`\\n\\u2716\\uFE0F  \").concat(message, \"\\n    \").concat(originalError ? originalError.message : '', \"\\n\"));\n}\nfunction compilationError(rules, message, originalError) {\n  throw new Error(\"\\n[ Erreur de compilation ]\\n\\u27A1\\uFE0F Dans la r\\xE8gle `\".concat(Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"coerceArray\"])(rules).slice(-1)[0], \"`\\n\\u2716\\uFE0F \").concat(message, \"\\n  \").concat(originalError === null || originalError === void 0 ? void 0 : originalError.message, \"\\n\"));\n}\nfunction evaluationError(rules, message, originalError) {\n  throw new EngineError(\"\\n[ Erreur d'\\xE9valuation ]\\n\\u27A1\\uFE0F  Dans la r\\xE8gle `\".concat(Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"coerceArray\"])(rules).slice(-1)[0], \"`\\n\\u2716\\uFE0F  \").concat(message, \"\\n    \").concat(originalError ? originalError.message : '', \"\\n\"));\n}\nfunction typeWarning(rules, message, originalError) {\n  console.warn(\"\\n[ Erreur de type ]\\n\\u27A1\\uFE0F  Dans la r\\xE8gle `\".concat(Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"coerceArray\"])(rules).slice(-1)[0], \"`\\n\\u2716\\uFE0F  \").concat(message, \"\\n    \").concat(originalError ? originalError.message : '', \"\\n\"));\n}\nfunction warning(rules, message, solution) {\n  console.warn(\"\\n[ Avertissement ]\\n\\u27A1\\uFE0F  Dans la r\\xE8gle `\".concat(Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"coerceArray\"])(rules).slice(-1)[0], \"`\\n\\u26A0\\uFE0F  \").concat(message, \"\\n\\uD83D\\uDCA1  \").concat(solution ? solution : '', \"\\n\"));\n}\n\n//# sourceURL=webpack://publicodes/./source/error.ts?");

/***/ }),

/***/ "./source/evaluateRule.ts":
/*!********************************!*\
  !*** ./source/evaluateRule.ts ***!
  \********************************/
/*! exports provided: evaluateApplicability, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"evaluateApplicability\", function() { return evaluateApplicability; });\n/* harmony import */ var ramda__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ramda */ \"ramda\");\n/* harmony import */ var ramda__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(ramda__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./error */ \"./source/error.ts\");\n/* harmony import */ var _evaluation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./evaluation */ \"./source/evaluation.tsx\");\n/* harmony import */ var _nodeUnits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./nodeUnits */ \"./source/nodeUnits.ts\");\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n\nvar evaluateApplicability = (cache, situation, parsedRules, node) => {\n  var evaluatedAttributes = Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"pipe\"])(Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"pick\"])(['non applicable si', 'applicable si', 'rendu non applicable']), Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"map\"])(value => Object(_evaluation__WEBPACK_IMPORTED_MODULE_2__[\"evaluateNode\"])(cache, situation, parsedRules, value)))(node),\n      {\n    'non applicable si': notApplicable,\n    'applicable si': applicable,\n    'rendu non applicable': disabled\n  } = evaluatedAttributes,\n      parentDependencies = node.parentDependencies.map(parent => Object(_evaluation__WEBPACK_IMPORTED_MODULE_2__[\"evaluateNode\"])(cache, situation, parsedRules, parent)),\n      isApplicable = parentDependencies.some(parent => (parent === null || parent === void 0 ? void 0 : parent.nodeValue) === false) || (notApplicable === null || notApplicable === void 0 ? void 0 : notApplicable.nodeValue) === true || (applicable === null || applicable === void 0 ? void 0 : applicable.nodeValue) === false || (disabled === null || disabled === void 0 ? void 0 : disabled.nodeValue) === true ? false : [notApplicable, applicable, ...parentDependencies].some(n => (n === null || n === void 0 ? void 0 : n.nodeValue) === null) ? null : !(notApplicable === null || notApplicable === void 0 ? void 0 : notApplicable.nodeValue) && ((applicable === null || applicable === void 0 ? void 0 : applicable.nodeValue) == undefined || !!(applicable === null || applicable === void 0 ? void 0 : applicable.nodeValue)),\n      missingVariables = isApplicable === false ? {} : Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"mergeAll\"])([...parentDependencies.map(parent => parent.missingVariables), (notApplicable === null || notApplicable === void 0 ? void 0 : notApplicable.missingVariables) || {}, (disabled === null || disabled === void 0 ? void 0 : disabled.missingVariables) || {}, (applicable === null || applicable === void 0 ? void 0 : applicable.missingVariables) || {}]);\n  return _objectSpread(_objectSpread({}, node), {}, {\n    isApplicable,\n    nodeValue: isApplicable,\n    missingVariables,\n    parentDependencies\n  }, evaluatedAttributes);\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = ((cache, situation, parsedRules, node) => {\n  var _node$unit;\n\n  cache._meta.contextRule.push(node.dottedName);\n\n  var applicabilityEvaluation = evaluateApplicability(cache, situation, parsedRules, node);\n  var {\n    missingVariables: condMissing,\n    nodeValue: isApplicable\n  } = applicabilityEvaluation;\n\n  var evaluateFormula = () => node.formule ? Object(_evaluation__WEBPACK_IMPORTED_MODULE_2__[\"evaluateNode\"])(cache, situation, parsedRules, node.formule) : {}; // evaluate the formula lazily, only if the applicability is known and true\n\n\n  var evaluatedFormula = isApplicable ? evaluateFormula() : isApplicable === false ? _objectSpread(_objectSpread({}, node.formule), {}, {\n    missingVariables: {},\n    nodeValue: 0\n  }) : _objectSpread(_objectSpread({}, node.formule), {}, {\n    missingVariables: {},\n    nodeValue: null\n  });\n\n  if (node.unit) {\n    try {\n      evaluatedFormula = Object(_nodeUnits__WEBPACK_IMPORTED_MODULE_3__[\"convertNodeToUnit\"])(node.unit, evaluatedFormula);\n    } catch (e) {\n      Object(_error__WEBPACK_IMPORTED_MODULE_1__[\"typeWarning\"])(node.dottedName, \"L'unité de la règle est incompatible avec celle de sa formule\", e);\n    }\n  }\n\n  var missingVariables = Object(_evaluation__WEBPACK_IMPORTED_MODULE_2__[\"mergeMissing\"])(Object(_evaluation__WEBPACK_IMPORTED_MODULE_2__[\"bonus\"])(condMissing, !!Object.keys(condMissing).length), evaluatedFormula.missingVariables); // console.log(node.dottedName, evaluatedFormula.unit)\n\n  var temporalValue = evaluatedFormula.temporalValue;\n\n  cache._meta.contextRule.pop();\n\n  return _objectSpread(_objectSpread(_objectSpread(_objectSpread({}, node), applicabilityEvaluation), node.formule && {\n    formule: evaluatedFormula\n  }), {}, {\n    nodeValue: evaluatedFormula.nodeValue,\n    unit: (_node$unit = node.unit) !== null && _node$unit !== void 0 ? _node$unit : evaluatedFormula.unit,\n    temporalValue,\n    isApplicable,\n    missingVariables\n  });\n});\n\n//# sourceURL=webpack://publicodes/./source/evaluateRule.ts?");

/***/ }),

/***/ "./source/evaluation.tsx":
/*!*******************************!*\
  !*** ./source/evaluation.tsx ***!
  \*******************************/
/*! exports provided: makeJsx, collectNodeMissing, bonus, mergeAllMissing, mergeMissing, evaluateNode, evaluateArray, evaluateArrayWithFilter, defaultNode, parseObject, evaluateObject, collectDefaults */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"makeJsx\", function() { return makeJsx; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"collectNodeMissing\", function() { return collectNodeMissing; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"bonus\", function() { return bonus; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"mergeAllMissing\", function() { return mergeAllMissing; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"mergeMissing\", function() { return mergeMissing; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"evaluateNode\", function() { return evaluateNode; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"evaluateArray\", function() { return evaluateArray; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"evaluateArrayWithFilter\", function() { return evaluateArrayWithFilter; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"defaultNode\", function() { return defaultNode; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"parseObject\", function() { return parseObject; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"evaluateObject\", function() { return evaluateObject; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"collectDefaults\", function() { return collectDefaults; });\n/* harmony import */ var ramda__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ramda */ \"ramda\");\n/* harmony import */ var ramda__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(ramda__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _error__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./error */ \"./source/error.ts\");\n/* harmony import */ var _nodeUnits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./nodeUnits */ \"./source/nodeUnits.ts\");\n/* harmony import */ var _temporal__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./temporal */ \"./source/temporal.ts\");\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n\n\nvar makeJsx = node => {\n  var Component = node.jsx;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Component, node);\n};\nvar collectNodeMissing = node => node.missingVariables || {};\nvar bonus = function bonus(missings) {\n  var hasCondition = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n  return hasCondition ? Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"map\"])(x => x + 0.0001, missings || {}) : missings;\n};\nvar mergeAllMissing = missings => Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"reduce\"])(Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"mergeWith\"])(ramda__WEBPACK_IMPORTED_MODULE_0__[\"add\"]), {}, Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"map\"])(collectNodeMissing, missings));\nvar mergeMissing = (left, right) => Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"mergeWith\"])(ramda__WEBPACK_IMPORTED_MODULE_0__[\"add\"], left || {}, right || {});\nvar evaluateNode = (cache, situation, parsedRules, node) => {\n  var evaluatedNode = node.evaluate ? node.evaluate(cache, situation, parsedRules, node) : node;\n  return evaluatedNode;\n};\n\nfunction convertNodesToSameUnit(nodes, contextRule, mecanismName) {\n  var firstNodeWithUnit = nodes.find(node => !!node.unit);\n\n  if (!firstNodeWithUnit) {\n    return nodes;\n  }\n\n  return nodes.map(node => {\n    try {\n      return Object(_nodeUnits__WEBPACK_IMPORTED_MODULE_3__[\"convertNodeToUnit\"])(firstNodeWithUnit.unit, node);\n    } catch (e) {\n      Object(_error__WEBPACK_IMPORTED_MODULE_2__[\"typeWarning\"])(contextRule, \"Dans le m\\xE9canisme \".concat(mecanismName, \", les unit\\xE9s des \\xE9l\\xE9ments suivants sont incompatibles entre elles : \\n\\t\\t\").concat((node === null || node === void 0 ? void 0 : node.name) || (node === null || node === void 0 ? void 0 : node.rawNode), \"\\n\\t\\t\").concat((firstNodeWithUnit === null || firstNodeWithUnit === void 0 ? void 0 : firstNodeWithUnit.name) || (firstNodeWithUnit === null || firstNodeWithUnit === void 0 ? void 0 : firstNodeWithUnit.rawNode), \"'\"), e);\n      return node;\n    }\n  });\n}\n\nvar evaluateArray = (reducer, start) => (cache, situation, parsedRules, node) => {\n  var evaluate = evaluateNode.bind(null, cache, situation, parsedRules);\n  var evaluatedNodes = convertNodesToSameUnit(node.explanation.map(evaluate), cache._meta.contextRule, node.name);\n  var temporalValues = Object(_temporal__WEBPACK_IMPORTED_MODULE_4__[\"concatTemporals\"])(evaluatedNodes.map((_ref) => {\n    var {\n      temporalValue,\n      nodeValue\n    } = _ref;\n    return temporalValue !== null && temporalValue !== void 0 ? temporalValue : Object(_temporal__WEBPACK_IMPORTED_MODULE_4__[\"pureTemporal\"])(nodeValue);\n  }));\n  var temporalValue = Object(_temporal__WEBPACK_IMPORTED_MODULE_4__[\"mapTemporal\"])(values => {\n    if (values.some(value => value === null)) {\n      return null;\n    }\n\n    return Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"reduce\"])(reducer, start, values);\n  }, temporalValues);\n\n  var baseEvaluation = _objectSpread(_objectSpread({}, node), {}, {\n    missingVariables: mergeAllMissing(evaluatedNodes),\n    explanation: evaluatedNodes\n  }, evaluatedNodes[0] && {\n    unit: evaluatedNodes[0].unit\n  });\n\n  if (temporalValue.length === 1) {\n    return _objectSpread(_objectSpread({}, baseEvaluation), {}, {\n      nodeValue: temporalValue[0].value\n    });\n  }\n\n  return _objectSpread(_objectSpread({}, baseEvaluation), {}, {\n    temporalValue,\n    nodeValue: Object(_temporal__WEBPACK_IMPORTED_MODULE_4__[\"temporalAverage\"])(temporalValue)\n  });\n};\nvar evaluateArrayWithFilter = (evaluationFilter, reducer, start) => (cache, situation, parsedRules, node) => {\n  return evaluateArray(reducer, start)(cache, situation, parsedRules, _objectSpread(_objectSpread({}, node), {}, {\n    explanation: Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"filter\"])(evaluationFilter(situation), node.explanation)\n  }));\n};\nvar defaultNode = nodeValue => ({\n  nodeValue,\n  // eslint-disable-next-line\n  jsx: (_ref2) => {\n    var {\n      nodeValue\n    } = _ref2;\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"span\", {\n      className: \"value\"\n    }, nodeValue);\n  },\n  isDefault: true\n});\nvar parseObject = (recurse, objectShape, value) => {\n  var recurseOne = key => defaultValue => {\n    if (value[key] == null && !defaultValue) throw new Error(\"Il manque une cl\\xE9 '\".concat(key, \"' dans \").concat(JSON.stringify(value), \" \"));\n    return value[key] != null ? recurse(value[key]) : defaultValue;\n  };\n\n  var transforms = Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"fromPairs\"])(Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"map\"])(k => [k, recurseOne(k)], Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"keys\"])(objectShape)));\n  return Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"evolve\"])(transforms, objectShape);\n};\nvar evaluateObject = (objectShape, effect) => (cache, situation, parsedRules, node) => {\n  var evaluate = evaluateNode.bind(null, cache, situation, parsedRules);\n  var evaluations = Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"map\"])(evaluate, node.explanation);\n  var temporalExplanations = Object(_temporal__WEBPACK_IMPORTED_MODULE_4__[\"mapTemporal\"])(Object.fromEntries, Object(_temporal__WEBPACK_IMPORTED_MODULE_4__[\"concatTemporals\"])(Object.entries(evaluations).map((_ref3) => {\n    var [key, node] = _ref3;\n    return Object(_temporal__WEBPACK_IMPORTED_MODULE_4__[\"zipTemporals\"])(Object(_temporal__WEBPACK_IMPORTED_MODULE_4__[\"pureTemporal\"])(key), Object(_temporal__WEBPACK_IMPORTED_MODULE_4__[\"liftTemporalNode\"])(node));\n  })));\n  var temporalExplanation = Object(_temporal__WEBPACK_IMPORTED_MODULE_4__[\"mapTemporal\"])(explanations => {\n    var evaluation = effect(explanations, cache, situation, parsedRules);\n    return _objectSpread(_objectSpread({}, evaluation), {}, {\n      explanation: _objectSpread(_objectSpread({}, explanations), evaluation.explanation)\n    });\n  }, temporalExplanations);\n  var sameUnitTemporalExplanation = convertNodesToSameUnit(temporalExplanation.map(x => x.value), cache._meta.contextRule, node.name).map((node, i) => _objectSpread(_objectSpread({}, temporalExplanation[i]), {}, {\n    value: Object(_nodeUnits__WEBPACK_IMPORTED_MODULE_3__[\"simplifyNodeUnit\"])(node)\n  }));\n  var temporalValue = Object(_temporal__WEBPACK_IMPORTED_MODULE_4__[\"mapTemporal\"])((_ref4) => {\n    var {\n      nodeValue\n    } = _ref4;\n    return nodeValue;\n  }, sameUnitTemporalExplanation);\n  var nodeValue = Object(_temporal__WEBPACK_IMPORTED_MODULE_4__[\"temporalAverage\"])(temporalValue);\n\n  var baseEvaluation = _objectSpread(_objectSpread({}, node), {}, {\n    nodeValue,\n    unit: sameUnitTemporalExplanation[0].value.unit,\n    explanation: evaluations,\n    missingVariables: mergeAllMissing(Object.values(evaluations))\n  });\n\n  if (sameUnitTemporalExplanation.length === 1) {\n    return _objectSpread(_objectSpread({}, baseEvaluation), {}, {\n      explanation: sameUnitTemporalExplanation[0].value.explanation\n    });\n  }\n\n  return _objectSpread(_objectSpread({}, baseEvaluation), {}, {\n    temporalValue,\n    temporalExplanation\n  });\n};\nfunction collectDefaults(parsedRules) {\n  var values = Object.values(parsedRules);\n  return values.reduce((acc, parsedRule) => {\n    if ((parsedRule === null || parsedRule === void 0 ? void 0 : parsedRule['par défaut']) == null) {\n      return acc;\n    }\n\n    return _objectSpread(_objectSpread({}, acc), {}, {\n      [parsedRule.dottedName]: parsedRule['par défaut']\n    });\n  }, {});\n}\n\n//# sourceURL=webpack://publicodes/./source/evaluation.tsx?");

/***/ }),

/***/ "./source/format.ts":
/*!**************************!*\
  !*** ./source/format.ts ***!
  \**************************/
/*! exports provided: numberFormatter, formatCurrency, formatPercentage, formatValue */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"numberFormatter\", function() { return numberFormatter; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"formatCurrency\", function() { return formatCurrency; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"formatPercentage\", function() { return formatPercentage; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"formatValue\", function() { return formatValue; });\n/* harmony import */ var _units__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./units */ \"./source/units.ts\");\n/* harmony import */ var ramda__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ramda */ \"ramda\");\n/* harmony import */ var ramda__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(ramda__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils */ \"./source/utils.ts\");\n\n\n\nvar NumberFormat = Object(ramda__WEBPACK_IMPORTED_MODULE_1__[\"memoizeWith\"])(function () {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return JSON.stringify(args);\n}, Intl.NumberFormat);\nvar numberFormatter = (_ref) => {\n  var {\n    style,\n    maximumFractionDigits = 2,\n    minimumFractionDigits = 0,\n    language\n  } = _ref;\n  return value => {\n    // When we format currency we don't want to display a single decimal digit\n    // ie 8,1€ but we want to display 8,10€\n    var adaptedMinimumFractionDigits = style === 'currency' && maximumFractionDigits >= 2 && minimumFractionDigits === 0 && !Number.isInteger(value) ? 2 : minimumFractionDigits;\n    return NumberFormat(language, {\n      style,\n      currency: 'EUR',\n      maximumFractionDigits,\n      minimumFractionDigits: adaptedMinimumFractionDigits\n    }).format(value);\n  };\n};\nvar formatCurrency = (value, language) => {\n  var _formatNumber;\n\n  return value == null ? '' : ((_formatNumber = formatNumber({\n    unit: '€',\n    language,\n    value\n  })) !== null && _formatNumber !== void 0 ? _formatNumber : '').replace(/^(-)?€/, '$1€\\u00A0');\n};\nvar formatPercentage = value => value == null ? '' : formatNumber({\n  unit: '%',\n  value,\n  maximumFractionDigits: 2\n});\n\nfunction formatNumber(_ref2) {\n  var {\n    maximumFractionDigits,\n    minimumFractionDigits,\n    language,\n    unit,\n    value\n  } = _ref2;\n\n  if (typeof value !== 'number') {\n    return value;\n  }\n\n  var serializedUnit = unit ? Object(_units__WEBPACK_IMPORTED_MODULE_0__[\"serializeUnit\"])(unit, value, language) : undefined;\n\n  if (serializedUnit === '') {\n    serializedUnit = '%';\n    value *= 100;\n  }\n\n  switch (serializedUnit) {\n    case '€':\n      return numberFormatter({\n        style: 'currency',\n        maximumFractionDigits,\n        minimumFractionDigits,\n        language\n      })(value);\n\n    case '%':\n      return numberFormatter({\n        style: 'percent',\n        maximumFractionDigits,\n        language\n      })(value / 100);\n\n    default:\n      return numberFormatter({\n        style: 'decimal',\n        minimumFractionDigits,\n        maximumFractionDigits,\n        language\n      })(value) + (typeof serializedUnit === 'string' ? \"\\xA0\".concat(serializedUnit) : '');\n  }\n}\n\nvar booleanTranslations = {\n  fr: {\n    true: 'Oui',\n    false: 'Non'\n  },\n  en: {\n    true: 'Yes',\n    false: 'No'\n  }\n};\nfunction formatValue(_ref3) {\n  var {\n    nodeValue,\n    language,\n    unit,\n    precision = 2\n  } = _ref3;\n\n  if (typeof nodeValue === 'number' && Number.isNaN(nodeValue) || nodeValue === null) {\n    return '-';\n  }\n\n  return typeof nodeValue === 'string' ? Object(_utils__WEBPACK_IMPORTED_MODULE_2__[\"capitalise0\"])(nodeValue) : typeof nodeValue === 'object' ? nodeValue.nom : typeof nodeValue === 'boolean' ? booleanTranslations[language][nodeValue] : typeof nodeValue === 'number' ? formatNumber({\n    minimumFractionDigits: 0,\n    maximumFractionDigits: precision,\n    language,\n    unit,\n    value: nodeValue\n  }) : null;\n}\n\n//# sourceURL=webpack://publicodes/./source/format.ts?");

/***/ }),

/***/ "./source/getSituationValue.js":
/*!*************************************!*\
  !*** ./source/getSituationValue.js ***!
  \*************************************/
/*! exports provided: getSituationValue */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getSituationValue\", function() { return getSituationValue; });\n/* harmony import */ var ramda__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ramda */ \"ramda\");\n/* harmony import */ var ramda__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(ramda__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _ruleUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ruleUtils */ \"./source/ruleUtils.ts\");\n\n\n\nvar evaluateBottomUp = situation => startingFragments => {\n  var rec = function rec(parentFragments) {\n    var childFragments = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n    return parentFragments.length == 0 ? null : function () {\n      var query = Object(_ruleUtils__WEBPACK_IMPORTED_MODULE_1__[\"joinName\"])(parentFragments),\n          expectedResult = Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"isEmpty\"])(childFragments) ? 'oui' : Object(_ruleUtils__WEBPACK_IMPORTED_MODULE_1__[\"joinName\"])(childFragments);\n      return situation[query] == null ? rec(Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"dropLast\"])(1)(parentFragments), [Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"last\"])(parentFragments), ...childFragments]) : situation[query] == expectedResult;\n    }();\n  };\n\n  return rec(startingFragments);\n};\n\nvar getSituationValue = (situation, variableName, rule) => {\n  var _rule$formule;\n\n  // get the current situation value\n  // it's the user input or test input, possibly with default values\n  var value = situation[variableName];\n  if ((_rule$formule = rule.formule) === null || _rule$formule === void 0 ? void 0 : _rule$formule['une possibilité']) return evaluateBottomUp(situation)(Object(_ruleUtils__WEBPACK_IMPORTED_MODULE_1__[\"splitName\"])(variableName));\n  return value;\n};\n\n//# sourceURL=webpack://publicodes/./source/getSituationValue.js?");

/***/ }),

/***/ "./source/grammar.ne":
/*!***************************!*\
  !*** ./source/grammar.ne ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// Generated automatically by nearley, version unknown\n// http://github.com/Hardmath123/nearley\n(function () {\n  function id(x) {\n    return x[0];\n  }\n\n  var {\n    string,\n    filteredVariable,\n    date,\n    variable,\n    variableWithConversion,\n    temporalNumericValue,\n    binaryOperation,\n    unaryOperation,\n    boolean,\n    number,\n    numberWithUnit\n  } = __webpack_require__(/*! ./grammarFunctions */ \"./source/grammarFunctions.js\");\n\n  var moo = __webpack_require__(/*! moo */ \"moo\");\n\n  var dateRegexp = \"(?:(?:0?[1-9]|[12][0-9]|3[01])\\\\/)?(?:0?[1-9]|1[012])\\\\/\\\\d{4}\";\n  var letter = '[a-zA-Z\\u00C0-\\u017F€$%]';\n  var letterOrNumber = '[a-zA-Z\\u00C0-\\u017F0-9\\']';\n  var word = \"\".concat(letter, \"(?:[-']?\").concat(letterOrNumber, \"+)*\");\n  var wordOrNumber = \"(?:\".concat(word, \"|\").concat(letterOrNumber, \"+)\");\n  var words = \"\".concat(word, \"(?:[\\\\s]?\").concat(wordOrNumber, \"+)*\");\n  var periodWord = \"\\\\| \".concat(word, \"(?:[\\\\s]\").concat(word, \")*\");\n  var numberRegExp = '-?(?:[1-9][0-9]+|[0-9])(?:\\\\.[0-9]+)?';\n  var lexer = moo.compile({\n    '(': '(',\n    ')': ')',\n    '[': '[',\n    ']': ']',\n    comparison: ['>', '<', '>=', '<=', '=', '!='],\n    infinity: 'Infinity',\n    colon: \" : \",\n    date: new RegExp(dateRegexp),\n    periodWord: new RegExp(periodWord),\n    words: new RegExp(words),\n    number: new RegExp(numberRegExp),\n    string: /'[ \\t\\.'a-zA-Z\\-\\u00C0-\\u017F0-9 ]+'/,\n    additionSubstraction: /[\\+-]/,\n    multiplicationDivision: ['*', '/'],\n    dot: ' . ',\n    '.': '.',\n    letterOrNumber: new RegExp(letterOrNumber),\n    space: {\n      match: /[\\s]+/,\n      lineBreaks: true\n    }\n  });\n\n  var join = args => ({\n    value: args.map(x => x && x.value).join(\"\")\n  });\n\n  var flattenJoin = (_ref) => {\n    var [a, b] = _ref;\n    return Array.isArray(b) ? join([a, ...b]) : a;\n  };\n\n  var grammar = {\n    Lexer: lexer,\n    ParserRules: [{\n      \"name\": \"main\",\n      \"symbols\": [\"Comparison\"],\n      \"postprocess\": id\n    }, {\n      \"name\": \"main\",\n      \"symbols\": [\"NumericValue\"],\n      \"postprocess\": id\n    }, {\n      \"name\": \"main\",\n      \"symbols\": [\"Date\"],\n      \"postprocess\": id\n    }, {\n      \"name\": \"main\",\n      \"symbols\": [\"NonNumericTerminal\"],\n      \"postprocess\": id\n    }, {\n      \"name\": \"NumericValue\",\n      \"symbols\": [\"AdditionSubstraction\"],\n      \"postprocess\": id\n    }, {\n      \"name\": \"NumericValue\",\n      \"symbols\": [\"Negation\"],\n      \"postprocess\": id\n    }, {\n      \"name\": \"NumericValue\",\n      \"symbols\": [\"TemporalNumericValue\"],\n      \"postprocess\": id\n    }, {\n      \"name\": \"TemporalNumericValue\",\n      \"symbols\": [\"NumericValue\", lexer.has(\"space\") ? {\n        type: \"space\"\n      } : space, lexer.has(\"periodWord\") ? {\n        type: \"periodWord\"\n      } : periodWord, lexer.has(\"space\") ? {\n        type: \"space\"\n      } : space, lexer.has(\"date\") ? {\n        type: \"date\"\n      } : date],\n      \"postprocess\": (_ref2) => {\n        var [value,, word,, dateString] = _ref2;\n        return temporalNumericValue(value, word, date([dateString]));\n      }\n    }, {\n      \"name\": \"TemporalNumericValue\",\n      \"symbols\": [\"NumericValue\", lexer.has(\"space\") ? {\n        type: \"space\"\n      } : space, lexer.has(\"periodWord\") ? {\n        type: \"periodWord\"\n      } : periodWord, lexer.has(\"colon\") ? {\n        type: \"colon\"\n      } : colon, \"Date\"],\n      \"postprocess\": (_ref3) => {\n        var [value,, word,, date] = _ref3;\n        return temporalNumericValue(value, word, date);\n      }\n    }, {\n      \"name\": \"NumericTerminal\",\n      \"symbols\": [\"Variable\"],\n      \"postprocess\": id\n    }, {\n      \"name\": \"NumericTerminal\",\n      \"symbols\": [\"VariableWithUnitConversion\"],\n      \"postprocess\": id\n    }, {\n      \"name\": \"NumericTerminal\",\n      \"symbols\": [\"FilteredVariable\"],\n      \"postprocess\": id\n    }, {\n      \"name\": \"NumericTerminal\",\n      \"symbols\": [\"number\"],\n      \"postprocess\": id\n    }, {\n      \"name\": \"Negation\",\n      \"symbols\": [{\n        \"literal\": \"-\"\n      }, lexer.has(\"space\") ? {\n        type: \"space\"\n      } : space, \"Parentheses\"],\n      \"postprocess\": unaryOperation('calculation')\n    }, {\n      \"name\": \"Parentheses\",\n      \"symbols\": [{\n        \"literal\": \"(\"\n      }, \"NumericValue\", {\n        \"literal\": \")\"\n      }],\n      \"postprocess\": (_ref4) => {\n        var [, e] = _ref4;\n        return e;\n      }\n    }, {\n      \"name\": \"Parentheses\",\n      \"symbols\": [\"NumericTerminal\"],\n      \"postprocess\": id\n    }, {\n      \"name\": \"Date\",\n      \"symbols\": [\"Variable\"],\n      \"postprocess\": id\n    }, {\n      \"name\": \"Date\",\n      \"symbols\": [lexer.has(\"date\") ? {\n        type: \"date\"\n      } : date],\n      \"postprocess\": date\n    }, {\n      \"name\": \"Comparison\",\n      \"symbols\": [\"Comparable\", lexer.has(\"space\") ? {\n        type: \"space\"\n      } : space, lexer.has(\"comparison\") ? {\n        type: \"comparison\"\n      } : comparison, lexer.has(\"space\") ? {\n        type: \"space\"\n      } : space, \"Comparable\"],\n      \"postprocess\": binaryOperation('comparison')\n    }, {\n      \"name\": \"Comparison\",\n      \"symbols\": [\"Date\", lexer.has(\"space\") ? {\n        type: \"space\"\n      } : space, lexer.has(\"comparison\") ? {\n        type: \"comparison\"\n      } : comparison, lexer.has(\"space\") ? {\n        type: \"space\"\n      } : space, \"Date\"],\n      \"postprocess\": binaryOperation('comparison')\n    }, {\n      \"name\": \"Comparable$subexpression$1\",\n      \"symbols\": [\"AdditionSubstraction\"]\n    }, {\n      \"name\": \"Comparable$subexpression$1\",\n      \"symbols\": [\"NonNumericTerminal\"]\n    }, {\n      \"name\": \"Comparable\",\n      \"symbols\": [\"Comparable$subexpression$1\"],\n      \"postprocess\": (_ref5) => {\n        var [[e]] = _ref5;\n        return e;\n      }\n    }, {\n      \"name\": \"NonNumericTerminal\",\n      \"symbols\": [\"boolean\"],\n      \"postprocess\": id\n    }, {\n      \"name\": \"NonNumericTerminal\",\n      \"symbols\": [\"string\"],\n      \"postprocess\": id\n    }, {\n      \"name\": \"Variable$ebnf$1\",\n      \"symbols\": []\n    }, {\n      \"name\": \"Variable$ebnf$1$subexpression$1\",\n      \"symbols\": [lexer.has(\"dot\") ? {\n        type: \"dot\"\n      } : dot, lexer.has(\"words\") ? {\n        type: \"words\"\n      } : words],\n      \"postprocess\": (_ref6) => {\n        var [, words] = _ref6;\n        return words;\n      }\n    }, {\n      \"name\": \"Variable$ebnf$1\",\n      \"symbols\": [\"Variable$ebnf$1\", \"Variable$ebnf$1$subexpression$1\"],\n      \"postprocess\": function arrpush(d) {\n        return d[0].concat([d[1]]);\n      }\n    }, {\n      \"name\": \"Variable\",\n      \"symbols\": [lexer.has(\"words\") ? {\n        type: \"words\"\n      } : words, \"Variable$ebnf$1\"],\n      \"postprocess\": variable\n    }, {\n      \"name\": \"UnitDenominator$ebnf$1$subexpression$1\",\n      \"symbols\": [lexer.has(\"space\") ? {\n        type: \"space\"\n      } : space]\n    }, {\n      \"name\": \"UnitDenominator$ebnf$1\",\n      \"symbols\": [\"UnitDenominator$ebnf$1$subexpression$1\"],\n      \"postprocess\": id\n    }, {\n      \"name\": \"UnitDenominator$ebnf$1\",\n      \"symbols\": [],\n      \"postprocess\": function postprocess(d) {\n        return null;\n      }\n    }, {\n      \"name\": \"UnitDenominator\",\n      \"symbols\": [\"UnitDenominator$ebnf$1\", {\n        \"literal\": \"/\"\n      }, lexer.has(\"words\") ? {\n        type: \"words\"\n      } : words],\n      \"postprocess\": join\n    }, {\n      \"name\": \"UnitNumerator$ebnf$1$subexpression$1\",\n      \"symbols\": [{\n        \"literal\": \".\"\n      }, lexer.has(\"words\") ? {\n        type: \"words\"\n      } : words]\n    }, {\n      \"name\": \"UnitNumerator$ebnf$1\",\n      \"symbols\": [\"UnitNumerator$ebnf$1$subexpression$1\"],\n      \"postprocess\": id\n    }, {\n      \"name\": \"UnitNumerator$ebnf$1\",\n      \"symbols\": [],\n      \"postprocess\": function postprocess(d) {\n        return null;\n      }\n    }, {\n      \"name\": \"UnitNumerator\",\n      \"symbols\": [lexer.has(\"words\") ? {\n        type: \"words\"\n      } : words, \"UnitNumerator$ebnf$1\"],\n      \"postprocess\": flattenJoin\n    }, {\n      \"name\": \"Unit$ebnf$1\",\n      \"symbols\": [\"UnitNumerator\"],\n      \"postprocess\": id\n    }, {\n      \"name\": \"Unit$ebnf$1\",\n      \"symbols\": [],\n      \"postprocess\": function postprocess(d) {\n        return null;\n      }\n    }, {\n      \"name\": \"Unit$ebnf$2\",\n      \"symbols\": []\n    }, {\n      \"name\": \"Unit$ebnf$2\",\n      \"symbols\": [\"Unit$ebnf$2\", \"UnitDenominator\"],\n      \"postprocess\": function arrpush(d) {\n        return d[0].concat([d[1]]);\n      }\n    }, {\n      \"name\": \"Unit\",\n      \"symbols\": [\"Unit$ebnf$1\", \"Unit$ebnf$2\"],\n      \"postprocess\": flattenJoin\n    }, {\n      \"name\": \"UnitConversion\",\n      \"symbols\": [{\n        \"literal\": \"[\"\n      }, \"Unit\", {\n        \"literal\": \"]\"\n      }],\n      \"postprocess\": (_ref7) => {\n        var [, unit] = _ref7;\n        return unit;\n      }\n    }, {\n      \"name\": \"VariableWithUnitConversion\",\n      \"symbols\": [\"Variable\", lexer.has(\"space\") ? {\n        type: \"space\"\n      } : space, \"UnitConversion\"],\n      \"postprocess\": variableWithConversion\n    }, {\n      \"name\": \"Filter\",\n      \"symbols\": [{\n        \"literal\": \".\"\n      }, lexer.has(\"words\") ? {\n        type: \"words\"\n      } : words],\n      \"postprocess\": (_ref8) => {\n        var [, filter] = _ref8;\n        return filter;\n      }\n    }, {\n      \"name\": \"FilteredVariable\",\n      \"symbols\": [\"Variable\", lexer.has(\"space\") ? {\n        type: \"space\"\n      } : space, \"Filter\"],\n      \"postprocess\": filteredVariable\n    }, {\n      \"name\": \"AdditionSubstraction\",\n      \"symbols\": [\"AdditionSubstraction\", lexer.has(\"space\") ? {\n        type: \"space\"\n      } : space, lexer.has(\"additionSubstraction\") ? {\n        type: \"additionSubstraction\"\n      } : additionSubstraction, lexer.has(\"space\") ? {\n        type: \"space\"\n      } : space, \"MultiplicationDivision\"],\n      \"postprocess\": binaryOperation('calculation')\n    }, {\n      \"name\": \"AdditionSubstraction\",\n      \"symbols\": [\"MultiplicationDivision\"],\n      \"postprocess\": id\n    }, {\n      \"name\": \"MultiplicationDivision\",\n      \"symbols\": [\"MultiplicationDivision\", lexer.has(\"space\") ? {\n        type: \"space\"\n      } : space, lexer.has(\"multiplicationDivision\") ? {\n        type: \"multiplicationDivision\"\n      } : multiplicationDivision, lexer.has(\"space\") ? {\n        type: \"space\"\n      } : space, \"Parentheses\"],\n      \"postprocess\": binaryOperation('calculation')\n    }, {\n      \"name\": \"MultiplicationDivision\",\n      \"symbols\": [\"Parentheses\"],\n      \"postprocess\": id\n    }, {\n      \"name\": \"boolean\",\n      \"symbols\": [{\n        \"literal\": \"oui\"\n      }],\n      \"postprocess\": boolean(true)\n    }, {\n      \"name\": \"boolean\",\n      \"symbols\": [{\n        \"literal\": \"non\"\n      }],\n      \"postprocess\": boolean(false)\n    }, {\n      \"name\": \"number\",\n      \"symbols\": [lexer.has(\"number\") ? {\n        type: \"number\"\n      } : number],\n      \"postprocess\": number\n    }, {\n      \"name\": \"number\",\n      \"symbols\": [lexer.has(\"infinity\") ? {\n        type: \"infinity\"\n      } : infinity],\n      \"postprocess\": number\n    }, {\n      \"name\": \"number$ebnf$1$subexpression$1\",\n      \"symbols\": [lexer.has(\"space\") ? {\n        type: \"space\"\n      } : space]\n    }, {\n      \"name\": \"number$ebnf$1\",\n      \"symbols\": [\"number$ebnf$1$subexpression$1\"],\n      \"postprocess\": id\n    }, {\n      \"name\": \"number$ebnf$1\",\n      \"symbols\": [],\n      \"postprocess\": function postprocess(d) {\n        return null;\n      }\n    }, {\n      \"name\": \"number\",\n      \"symbols\": [lexer.has(\"number\") ? {\n        type: \"number\"\n      } : number, \"number$ebnf$1\", \"Unit\"],\n      \"postprocess\": numberWithUnit\n    }, {\n      \"name\": \"string\",\n      \"symbols\": [lexer.has(\"string\") ? {\n        type: \"string\"\n      } : string],\n      \"postprocess\": string\n    }],\n    ParserStart: \"main\"\n  };\n\n  if ( true && typeof module.exports !== 'undefined') {\n    module.exports = grammar;\n  } else {\n    window.grammar = grammar;\n  }\n})();\n\n//# sourceURL=webpack://publicodes/./source/grammar.ne?");

/***/ }),

/***/ "./source/grammarFunctions.js":
/*!************************************!*\
  !*** ./source/grammarFunctions.js ***!
  \************************************/
/*! exports provided: binaryOperation, unaryOperation, filteredVariable, variableWithConversion, temporalNumericValue, variable, number, numberWithUnit, date, boolean, string */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"binaryOperation\", function() { return binaryOperation; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"unaryOperation\", function() { return unaryOperation; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"filteredVariable\", function() { return filteredVariable; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"variableWithConversion\", function() { return variableWithConversion; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"temporalNumericValue\", function() { return temporalNumericValue; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"variable\", function() { return variable; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"number\", function() { return number; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"numberWithUnit\", function() { return numberWithUnit; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"date\", function() { return date; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"boolean\", function() { return boolean; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"string\", function() { return string; });\n/* harmony import */ var _date__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./date */ \"./source/date.ts\");\n/* harmony import */ var _units__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./units */ \"./source/units.ts\");\n/* harmony import */ var _temporal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./temporal */ \"./source/temporal.ts\");\n/* Those are postprocessor functions for the Nearley grammar.ne.\nThe advantage of putting them here is to get prettier's JS formatting, since Nealrey doesn't support it https://github.com/kach/nearley/issues/310 */\n\n\n\nvar binaryOperation = operationType => (_ref) => {\n  var [A,, operator,, B] = _ref;\n  return {\n    [operator]: {\n      operationType,\n      explanation: [A, B]\n    }\n  };\n};\nvar unaryOperation = operationType => (_ref2) => {\n  var [operator,, A] = _ref2;\n  return {\n    [operator]: {\n      operationType,\n      explanation: [number([{\n        value: '0'\n      }]), A]\n    }\n  };\n};\nvar filteredVariable = (_ref3) => {\n  var [{\n    variable\n  },, {\n    value: filter\n  }] = _ref3;\n  return {\n    filter: {\n      filter,\n      explanation: variable\n    }\n  };\n};\nvar variableWithConversion = (_ref4) => {\n  var [{\n    variable\n  },, unit] = _ref4;\n  return {\n    unitConversion: {\n      explanation: variable,\n      unit: Object(_units__WEBPACK_IMPORTED_MODULE_1__[\"parseUnit\"])(unit.value)\n    }\n  };\n};\nvar temporalNumericValue = (variable, word, date) => ({\n  temporalValue: {\n    explanation: variable,\n    period: Object(_temporal__WEBPACK_IMPORTED_MODULE_2__[\"parsePeriod\"])(word.value.slice(2), date)\n  }\n});\nvar variable = (_ref5, _, reject) => {\n  var [firstFragment, nextFragment] = _ref5;\n  var fragments = [firstFragment, ...nextFragment].map((_ref6) => {\n    var {\n      value\n    } = _ref6;\n    return value;\n  });\n\n  if (!nextFragment.length && ['oui', 'non'].includes(firstFragment)) {\n    return reject;\n  }\n\n  return {\n    variable: {\n      fragments\n    }\n  };\n};\nvar number = (_ref7) => {\n  var [{\n    value\n  }] = _ref7;\n  return {\n    constant: {\n      nodeValue: parseFloat(value)\n    }\n  };\n};\nvar numberWithUnit = (_ref8) => {\n  var [number,, unit] = _ref8;\n  return {\n    constant: {\n      nodeValue: parseFloat(number.value),\n      unit: Object(_units__WEBPACK_IMPORTED_MODULE_1__[\"parseUnit\"])(unit.value)\n    }\n  };\n};\nvar date = (_ref9) => {\n  var [{\n    value\n  }] = _ref9;\n  return {\n    constant: {\n      type: 'date',\n      nodeValue: Object(_date__WEBPACK_IMPORTED_MODULE_0__[\"normalizeDateString\"])(value)\n    }\n  };\n};\nvar boolean = nodeValue => () => ({\n  constant: {\n    type: 'boolean',\n    nodeValue\n  }\n});\nvar string = (_ref10) => {\n  var [{\n    value\n  }] = _ref10;\n  return {\n    constant: {\n      type: 'string',\n      nodeValue: value.slice(1, -1)\n    }\n  };\n};\n\n//# sourceURL=webpack://publicodes/./source/grammarFunctions.js?");

/***/ }),

/***/ "./source/i18n.ts":
/*!************************!*\
  !*** ./source/i18n.ts ***!
  \************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var i18next__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! i18next */ \"i18next\");\n/* harmony import */ var i18next__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(i18next__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _locales_units_yaml__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./locales/units.yaml */ \"./source/locales/units.yaml\");\n/* harmony import */ var _locales_units_yaml__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_locales_units_yaml__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-i18next */ \"react-i18next\");\n/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_i18next__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\ni18next__WEBPACK_IMPORTED_MODULE_0___default.a.use(react_i18next__WEBPACK_IMPORTED_MODULE_2__[\"initReactI18next\"]).init({\n  resources: {\n    fr: {\n      units: _locales_units_yaml__WEBPACK_IMPORTED_MODULE_1___default.a.fr\n    },\n    en: {\n      units: _locales_units_yaml__WEBPACK_IMPORTED_MODULE_1___default.a.en\n    }\n  }\n}).catch(err => {\n  var _console;\n\n  return (_console = console) === null || _console === void 0 ? void 0 : _console.error('Error from i18n load', err);\n});\n/* harmony default export */ __webpack_exports__[\"default\"] = (i18next__WEBPACK_IMPORTED_MODULE_0___default.a);\n\n//# sourceURL=webpack://publicodes/./source/i18n.ts?");

/***/ }),

/***/ "./source/index.ts":
/*!*************************!*\
  !*** ./source/index.ts ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Engine; });\n/* harmony import */ var ramda__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ramda */ \"ramda\");\n/* harmony import */ var ramda__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(ramda__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _controls__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./controls */ \"./source/controls.js\");\n/* harmony import */ var _error__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./error */ \"./source/error.ts\");\n/* harmony import */ var _evaluation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./evaluation */ \"./source/evaluation.tsx\");\n/* harmony import */ var _nodeUnits__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./nodeUnits */ \"./source/nodeUnits.ts\");\n/* harmony import */ var _parse__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./parse */ \"./source/parse.tsx\");\n/* harmony import */ var _parseRules__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./parseRules */ \"./source/parseRules.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"parseRules\", function() { return _parseRules__WEBPACK_IMPORTED_MODULE_6__[\"default\"]; });\n\n/* harmony import */ var _units__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./units */ \"./source/units.ts\");\n/* harmony import */ var _components__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./components */ \"./source/components/index.tsx\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"RuleLink\", function() { return _components__WEBPACK_IMPORTED_MODULE_8__[\"RuleLink\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Documentation\", function() { return _components__WEBPACK_IMPORTED_MODULE_8__[\"Documentation\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"getDocumentationSiteMap\", function() { return _components__WEBPACK_IMPORTED_MODULE_8__[\"getDocumentationSiteMap\"]; });\n\n/* harmony import */ var _format__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./format */ \"./source/format.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"formatValue\", function() { return _format__WEBPACK_IMPORTED_MODULE_9__[\"formatValue\"]; });\n\n/* harmony import */ var _translateRules__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./translateRules */ \"./source/translateRules.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"translateRules\", function() { return _translateRules__WEBPACK_IMPORTED_MODULE_10__[\"default\"]; });\n\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./types */ \"./source/types/index.ts\");\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_types__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _types__WEBPACK_IMPORTED_MODULE_11__) if([\"formatValue\",\"translateRules\",\"parseRules\",\"default\",\"RuleLink\",\"Documentation\",\"getDocumentationSiteMap\",\"default\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _types__WEBPACK_IMPORTED_MODULE_11__[key]; }) }(__WEBPACK_IMPORT_KEY__));\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n\n\n\n\n\n\nvar emptyCache = () => ({\n  _meta: {\n    contextRule: []\n  }\n});\n\n\n\n\n\n\nclass Engine {\n  constructor(rules) {\n    var _ref;\n\n    _defineProperty(this, \"parsedRules\", void 0);\n\n    _defineProperty(this, \"defaultValues\", void 0);\n\n    _defineProperty(this, \"situation\", {});\n\n    _defineProperty(this, \"cache\", void 0);\n\n    _defineProperty(this, \"cacheWithoutDefault\", void 0);\n\n    this.cache = emptyCache();\n    this.cacheWithoutDefault = emptyCache();\n    this.parsedRules = typeof rules === 'string' || !((_ref = Object.values(rules)[0]) === null || _ref === void 0 ? void 0 : _ref.dottedName) ? Object(_parseRules__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(rules) : rules;\n    this.defaultValues = Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"mapObjIndexed\"])((value, name) => typeof value === 'string' ? this.evaluateExpression(value, \"[valeur par d\\xE9faut] \".concat(name), false) : value, Object(_evaluation__WEBPACK_IMPORTED_MODULE_3__[\"collectDefaults\"])(this.parsedRules));\n  }\n\n  resetCache() {\n    this.cache = emptyCache();\n    this.cacheWithoutDefault = emptyCache();\n  }\n\n  situationWithDefaultValues() {\n    var useDefaultValues = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n    return _objectSpread(_objectSpread({}, useDefaultValues ? this.defaultValues : {}), this.situation);\n  }\n\n  evaluateExpression(expression, context) {\n    var _result$defaultValue$, _result$defaultValue;\n\n    var useDefaultValues = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n    var result = Object(_nodeUnits__WEBPACK_IMPORTED_MODULE_4__[\"simplifyNodeUnit\"])(Object(_evaluation__WEBPACK_IMPORTED_MODULE_3__[\"evaluateNode\"])(useDefaultValues ? this.cache : this.cacheWithoutDefault, this.situationWithDefaultValues(useDefaultValues), this.parsedRules, Object(_parse__WEBPACK_IMPORTED_MODULE_5__[\"parse\"])(this.parsedRules, {\n      dottedName: context\n    }, this.parsedRules)(expression)));\n\n    if (Object.keys((_result$defaultValue$ = (_result$defaultValue = result.defaultValue) === null || _result$defaultValue === void 0 ? void 0 : _result$defaultValue.missingVariable) !== null && _result$defaultValue$ !== void 0 ? _result$defaultValue$ : {}).length) {\n      throw Object(_error__WEBPACK_IMPORTED_MODULE_2__[\"evaluationError\"])(context, \"Impossible d'évaluer l'expression car celle ci fait appel à des variables manquantes\");\n    }\n\n    return result;\n  }\n\n  setSituation() {\n    var situation = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    this.resetCache();\n    this.situation = Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"mapObjIndexed\"])((value, name) => typeof value === 'string' ? this.evaluateExpression(value, \"[situation] \".concat(name), true) : value, situation);\n    return this;\n  }\n\n  evaluate(expression, options) {\n    var _options$useDefaultVa;\n\n    var result = this.evaluateExpression(expression, \"[evaluation] \".concat(expression), (_options$useDefaultVa = options === null || options === void 0 ? void 0 : options.useDefaultValues) !== null && _options$useDefaultVa !== void 0 ? _options$useDefaultVa : true);\n\n    if (result.category === 'reference' && result.explanation) {\n      result = _objectSpread(_objectSpread(_objectSpread({\n        nodeValue: result.nodeValue\n      }, 'unit' in result && {\n        unit: result.unit\n      }), 'temporalValue' in result && {\n        temporalValue: result.temporalValue\n      }), result.explanation);\n    }\n\n    if (options === null || options === void 0 ? void 0 : options.unit) {\n      try {\n        return Object(_nodeUnits__WEBPACK_IMPORTED_MODULE_4__[\"convertNodeToUnit\"])(Object(_units__WEBPACK_IMPORTED_MODULE_7__[\"parseUnit\"])(options.unit), result);\n      } catch (e) {\n        Object(_error__WEBPACK_IMPORTED_MODULE_2__[\"warning\"])(\"[evaluation] \".concat(expression), \"L'unité demandée est incompatible avec l'expression évaluée\");\n      }\n    }\n\n    return result;\n  }\n\n  controls() {\n    return Object(_controls__WEBPACK_IMPORTED_MODULE_1__[\"evaluateControls\"])(this.cache, this.situationWithDefaultValues(), this.parsedRules);\n  }\n\n  inversionFail() {\n    return !!this.cache._meta.inversionFail;\n  }\n\n  getParsedRules() {\n    return this.parsedRules;\n  }\n\n}\n\n//# sourceURL=webpack://publicodes/./source/index.ts?");

/***/ }),

/***/ "./source/locales/units.yaml":
/*!***********************************!*\
  !*** ./source/locales/units.yaml ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = {\"fr\":{\"heure_plural\":\"heures\",\"jour_plural\":\"jours\",\"jour ouvré_plural\":\"jours ouvrés\",\"semaine_plural\":\"semaines\",\"trimestre_plural\":\"trimestres\",\"trimestre validé_plural\":\"trimestres validés\",\"an_plural\":\"ans\",\"employé_plural\":\"employés\",\"point_plural\":\"points\",\"mois_plural\":\"mois\",\"manifestation_plural\":\"manifestations\",\"titre-restaurant_plural\":\"titres-restaurant\",\"part_plural\":\"parts\",\"enfant_plural\":\"enfants\"},\"en\":{\"heure\":\"hour\",\"heure_plural\":\"hours\",\"point\":\"point\",\"points_plural\":\"points\",\"jour\":\"day\",\"jour_plural\":\"days\",\"jour ouvré\":\"working day\",\"jour ouvré_plural\":\"working days\",\"semaine\":\"week\",\"semaine_plural\":\"weeks\",\"trimestre\":\"quarter\",\"trimestre_plural\":\"quarters\",\"trimestre validé\":\"validated quarter\",\"trimestre validé_plural\":\"validated quarters\",\"km\":\"km\",\"repas\":\"meal\",\"repas_plural\":\"meals\",\"employé\":\"employee\",\"employé_plural\":\"employees\",\"an\":\"year\",\"an_plural\":\"years\",\"mois\":\"month\",\"mois_plural\":\"months\",\"manifestation\":\"event\",\"manifestation_plural\":\"events\",\"titre-restaurant\":\"meal voucher\",\"titre-restaurant_plural\":\"meal vouchers\",\"part\":\"share\",\"part_plural\":\"shares\",\"enfant\":\"child\",\"enfant_plural\":\"children\"}}\n\n//# sourceURL=webpack://publicodes/./source/locales/units.yaml?");

/***/ }),

/***/ "./source/locales/writtenNumbers.yaml":
/*!********************************************!*\
  !*** ./source/locales/writtenNumbers.yaml ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = {\"en\":[\"zero\",\"one\",\"two\",\"three\",\"four\",\"five\",\"six\",\"seven\",\"eight\",\"nine\",\"ten\"],\"fr\":[\"zéro\",\"un\",\"deux\",\"trois\",\"quatre\",\"cinq\",\"six\",\"sept\",\"huit\",\"neuf\",\"dix\"]}\n\n//# sourceURL=webpack://publicodes/./source/locales/writtenNumbers.yaml?");

/***/ }),

/***/ "./source/mecanisms.tsx":
/*!******************************!*\
  !*** ./source/mecanisms.tsx ***!
  \******************************/
/*! exports provided: mecanismOneOf, mecanismAllOf, mecanismInversion, mecanismRecalcul, mecanismSum, mecanismReduction, mecanismProduct, mecanismMax, mecanismMin, mecanismSynchronisation, mecanismOnePossibility */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"mecanismOneOf\", function() { return mecanismOneOf; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"mecanismAllOf\", function() { return mecanismAllOf; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"mecanismInversion\", function() { return mecanismInversion; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"mecanismRecalcul\", function() { return mecanismRecalcul; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"mecanismSum\", function() { return mecanismSum; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"mecanismReduction\", function() { return mecanismReduction; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"mecanismProduct\", function() { return mecanismProduct; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"mecanismMax\", function() { return mecanismMax; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"mecanismMin\", function() { return mecanismMin; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"mecanismSynchronisation\", function() { return mecanismSynchronisation; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"mecanismOnePossibility\", function() { return mecanismOnePossibility; });\n/* harmony import */ var ramda__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ramda */ \"ramda\");\n/* harmony import */ var ramda__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(ramda__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_mecanisms_All_gement__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./components/mecanisms/Allègement */ \"./source/components/mecanisms/Allègement.js\");\n/* harmony import */ var _components_mecanisms_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./components/mecanisms/common */ \"./source/components/mecanisms/common.tsx\");\n/* harmony import */ var _components_mecanisms_InversionNum_rique__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./components/mecanisms/InversionNumérique */ \"./source/components/mecanisms/InversionNumérique.js\");\n/* harmony import */ var _components_mecanisms_Product__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./components/mecanisms/Product */ \"./source/components/mecanisms/Product.js\");\n/* harmony import */ var _components_mecanisms_Recalcul__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./components/mecanisms/Recalcul */ \"./source/components/mecanisms/Recalcul.tsx\");\n/* harmony import */ var _components_mecanisms_Somme__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./components/mecanisms/Somme */ \"./source/components/mecanisms/Somme.js\");\n/* harmony import */ var _error__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./error */ \"./source/error.ts\");\n/* harmony import */ var _evaluation__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./evaluation */ \"./source/evaluation.tsx\");\n/* harmony import */ var _mecanisms_utils__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./mecanisms/utils */ \"./source/mecanisms/utils.js\");\n/* harmony import */ var _mecanisms_variations__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./mecanisms/variations */ \"./source/mecanisms/variations.ts\");\n/* harmony import */ var _nodeUnits__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./nodeUnits */ \"./source/nodeUnits.ts\");\n/* harmony import */ var _uniroot__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./uniroot */ \"./source/uniroot.ts\");\n/* harmony import */ var _units__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./units */ \"./source/units.ts\");\n/* harmony import */ var _components_RuleLink__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./components/RuleLink */ \"./source/components/RuleLink.tsx\");\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar mecanismOneOf = (recurse, k, v) => {\n  if (!Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"is\"])(Array, v)) throw new Error('should be array');\n  var explanation = Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"map\"])(recurse, v);\n\n  var jsx = (_ref) => {\n    var {\n      nodeValue,\n      explanation,\n      unit\n    } = _ref;\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_mecanisms_common__WEBPACK_IMPORTED_MODULE_3__[\"Node\"], {\n      classes: \"mecanism conditions list\",\n      name: \"une de ces conditions\",\n      value: nodeValue,\n      unit: unit\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"ul\", null, explanation.map((item, i) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"li\", {\n      key: i\n    }, Object(_evaluation__WEBPACK_IMPORTED_MODULE_9__[\"makeJsx\"])(item)))));\n  };\n\n  var evaluate = (cache, situation, parsedRules, node) => {\n    var evaluateOne = child => Object(_evaluation__WEBPACK_IMPORTED_MODULE_9__[\"evaluateNode\"])(cache, situation, parsedRules, child),\n        explanation = Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"map\"])(evaluateOne, node.explanation),\n        values = Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"pluck\"])('nodeValue', explanation),\n        nodeValue = Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"any\"])(Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"equals\"])(true), values) ? true : Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"any\"])(Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"equals\"])(null), values) ? null : false,\n        // Unlike most other array merges of missing variables this is a \"flat\" merge\n    // because \"one of these conditions\" tend to be several tests of the same variable\n    // (e.g. contract type is one of x, y, z)\n    missingVariables = nodeValue == null ? Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"reduce\"])(Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"mergeWith\"])(ramda__WEBPACK_IMPORTED_MODULE_0__[\"max\"]), {}, Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"map\"])(_evaluation__WEBPACK_IMPORTED_MODULE_9__[\"collectNodeMissing\"], explanation)) : {};\n\n    return _objectSpread(_objectSpread({}, node), {}, {\n      nodeValue,\n      explanation,\n      missingVariables\n    });\n  };\n\n  return {\n    evaluate,\n    jsx,\n    explanation,\n    category: 'mecanism',\n    name: 'une de ces conditions',\n    type: 'boolean'\n  };\n};\nvar mecanismAllOf = (recurse, k, v) => {\n  if (!Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"is\"])(Array, v)) throw new Error('should be array');\n  var explanation = Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"map\"])(recurse, v);\n\n  var jsx = (_ref2) => {\n    var {\n      nodeValue,\n      explanation,\n      unit\n    } = _ref2;\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_mecanisms_common__WEBPACK_IMPORTED_MODULE_3__[\"Node\"], {\n      classes: \"mecanism conditions list\",\n      name: \"toutes ces conditions\",\n      value: nodeValue,\n      unit: unit\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"ul\", null, explanation.map((item, i) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"li\", {\n      key: i\n    }, Object(_evaluation__WEBPACK_IMPORTED_MODULE_9__[\"makeJsx\"])(item)))));\n  };\n\n  var evaluate = (cache, situation, parsedRules, node) => {\n    var evaluateOne = child => Object(_evaluation__WEBPACK_IMPORTED_MODULE_9__[\"evaluateNode\"])(cache, situation, parsedRules, child),\n        explanation = Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"map\"])(evaluateOne, node.explanation),\n        values = Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"pluck\"])('nodeValue', explanation),\n        nodeValue = Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"any\"])(Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"equals\"])(false), values) ? false // court-circuit\n    : Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"any\"])(Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"equals\"])(null), values) ? null : true,\n        missingVariables = nodeValue == null ? Object(_evaluation__WEBPACK_IMPORTED_MODULE_9__[\"mergeAllMissing\"])(explanation) : {};\n\n    return _objectSpread(_objectSpread({}, node), {}, {\n      nodeValue,\n      explanation,\n      missingVariables\n    });\n  };\n\n  return {\n    evaluate: evaluate,\n    jsx,\n    explanation,\n    category: 'mecanism',\n    name: 'toutes ces conditions',\n    type: 'boolean'\n  };\n};\n\nvar evaluateInversion = (oldCache, situation, parsedRules, node) => {\n  // TODO : take applicability into account here\n  var inversedWith = node.explanation.inversionCandidates.find(n => situation[n.dottedName] != undefined);\n\n  if (!inversedWith) {\n    return _objectSpread(_objectSpread({}, node), {}, {\n      missingVariables: _objectSpread(_objectSpread({}, Object.fromEntries(node.explanation.inversionCandidates.map(n => [n.dottedName, 1]))), {}, {\n        [node.explanation.ruleToInverse]: 1\n      }),\n      nodeValue: null\n    });\n  }\n\n  inversedWith = Object(_evaluation__WEBPACK_IMPORTED_MODULE_9__[\"evaluateNode\"])(oldCache, situation, parsedRules, inversedWith);\n  var inversionCache;\n\n  function resetInversionCache() {\n    inversionCache = {\n      _meta: _objectSpread({}, oldCache._meta)\n    };\n    return inversionCache;\n  }\n\n  var evaluateWithValue = n => Object(_evaluation__WEBPACK_IMPORTED_MODULE_9__[\"evaluateNode\"])(resetInversionCache(), _objectSpread(_objectSpread({}, situation), {}, {\n    [inversedWith.dottedName]: undefined,\n    [node.explanation.ruleToInverse]: {\n      nodeValue: n,\n      unit: parsedRules[node.explanation.ruleToInverse].unit\n    }\n  }), parsedRules, inversedWith); // si fx renvoie null pour une valeur numérique standard, disons 2000, on peut\n  // considérer que l'inversion est impossible du fait de variables manquantes\n  // TODO fx peut être null pour certains x, et valide pour d'autres : on peut implémenter ici le court-circuit\n\n\n  var randomAttempt = evaluateWithValue(2000);\n  var nodeValue = randomAttempt.nodeValue === null ? null : // cette fonction détermine l'inverse d'une fonction sans faire trop d'itérations\n  Object(_uniroot__WEBPACK_IMPORTED_MODULE_13__[\"default\"])(x => {\n    var candidateNode = evaluateWithValue(x);\n    return candidateNode.nodeValue - // TODO: convertNodeToUnit migth return null or false\n    Object(_nodeUnits__WEBPACK_IMPORTED_MODULE_12__[\"convertNodeToUnit\"])(candidateNode.unit, inversedWith).nodeValue;\n  }, node.explanation.negativeValuesAllowed ? -1000000 : 0, 100000000, 0.1, 10);\n\n  if (nodeValue === undefined) {\n    oldCache._meta.inversionFail = true;\n  } else {\n    // For performance reason, we transfer the inversion cache\n    Object.entries(inversionCache).forEach((_ref3) => {\n      var [k, value] = _ref3;\n      oldCache[k] = value;\n    });\n  }\n\n  return _objectSpread(_objectSpread({}, node), {}, {\n    nodeValue: nodeValue !== null && nodeValue !== void 0 ? nodeValue : null,\n    explanation: _objectSpread(_objectSpread({}, node.explanation), {}, {\n      inversionFail: nodeValue === undefined,\n      inversedWith\n    }),\n    missingVariables: randomAttempt.missingVariables\n  });\n};\n\nvar mecanismInversion = dottedName => (recurse, k, v) => {\n  if (!v.avec) {\n    throw new Error(\"Une formule d'inversion doit préciser _avec_ quoi on peut inverser la variable\");\n  }\n\n  return {\n    evaluate: evaluateInversion,\n    unit: v.unité && Object(_units__WEBPACK_IMPORTED_MODULE_14__[\"parseUnit\"])(v.unité),\n    explanation: {\n      ruleToInverse: dottedName,\n      inversionCandidates: v.avec.map(recurse),\n      negativeValuesAllowed: v['valeurs négatives possibles'] === 'oui'\n    },\n    jsx: _components_mecanisms_InversionNum_rique__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\n    category: 'mecanism',\n    name: 'inversion numérique',\n    type: 'numeric'\n  };\n};\nvar mecanismRecalcul = dottedNameContext => (recurse, k, v) => {\n  var _v$rGle;\n\n  var evaluate = (cache, situation, parsedRules, node) => {\n    if (cache._meta.inRecalcul) {\n      return Object(_evaluation__WEBPACK_IMPORTED_MODULE_9__[\"defaultNode\"])(false);\n    }\n\n    var recalculCache = {\n      _meta: _objectSpread(_objectSpread({}, cache._meta), {}, {\n        inRecalcul: true\n      })\n    }; // Create an empty cache\n\n    var amendedSituation = Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"map\"])(value => Object(_evaluation__WEBPACK_IMPORTED_MODULE_9__[\"evaluateNode\"])(cache, situation, parsedRules, value), node.explanation.amendedSituation);\n    var evaluatedNode = Object(_evaluation__WEBPACK_IMPORTED_MODULE_9__[\"evaluateNode\"])(recalculCache, _objectSpread(_objectSpread({}, situation), amendedSituation), parsedRules, node.explanation.recalcul);\n    return _objectSpread(_objectSpread(_objectSpread({}, node), {}, {\n      nodeValue: evaluatedNode.nodeValue\n    }, evaluatedNode.temporalValue && {\n      temporalValue: evaluatedNode.temporalValue\n    }), {}, {\n      unit: evaluatedNode.unit,\n      explanation: {\n        recalcul: evaluatedNode,\n        amendedSituation\n      }\n    });\n  };\n\n  var amendedSituation = Object.fromEntries(Object.keys(v.avec).map(dottedName => [recurse(dottedName).dottedName, recurse(v.avec[dottedName])]));\n  var defaultRuleToEvaluate = dottedNameContext;\n  var nodeToEvaluate = recurse((_v$rGle = v.règle) !== null && _v$rGle !== void 0 ? _v$rGle : defaultRuleToEvaluate);\n  return {\n    explanation: {\n      recalcul: nodeToEvaluate,\n      amendedSituation\n    },\n    jsx: _components_mecanisms_Recalcul__WEBPACK_IMPORTED_MODULE_6__[\"default\"],\n    evaluate\n  };\n};\nvar mecanismSum = (recurse, k, v) => {\n  var explanation = v.map(recurse);\n  var evaluate = Object(_evaluation__WEBPACK_IMPORTED_MODULE_9__[\"evaluateArray\"])((x, y) => x === false && y === false ? false : x + y, false);\n  return {\n    evaluate,\n    jsx: _components_mecanisms_Somme__WEBPACK_IMPORTED_MODULE_7__[\"default\"],\n    explanation,\n    category: 'mecanism',\n    name: 'somme',\n    type: 'numeric',\n    unit: Object(_units__WEBPACK_IMPORTED_MODULE_14__[\"inferUnit\"])('+', explanation.map(r => r.unit))\n  };\n};\nvar mecanismReduction = (recurse, k, v) => {\n  var _explanation$assiette;\n\n  var objectShape = {\n    assiette: false,\n    abattement: Object(_evaluation__WEBPACK_IMPORTED_MODULE_9__[\"defaultNode\"])(0),\n    plafond: Object(_evaluation__WEBPACK_IMPORTED_MODULE_9__[\"defaultNode\"])(Infinity),\n    franchise: Object(_evaluation__WEBPACK_IMPORTED_MODULE_9__[\"defaultNode\"])(0)\n  };\n\n  var effect = (_ref4, cache) => {\n    var {\n      assiette,\n      abattement,\n      plafond,\n      franchise,\n      décote\n    } = _ref4;\n    var assietteValue = assiette.nodeValue;\n    if (assietteValue == null) return {\n      nodeValue: null\n    };\n\n    if (assiette.unit) {\n      try {\n        franchise = Object(_nodeUnits__WEBPACK_IMPORTED_MODULE_12__[\"convertNodeToUnit\"])(assiette.unit, franchise);\n        plafond = Object(_nodeUnits__WEBPACK_IMPORTED_MODULE_12__[\"convertNodeToUnit\"])(assiette.unit, plafond);\n\n        if (Object(_units__WEBPACK_IMPORTED_MODULE_14__[\"serializeUnit\"])(abattement.unit) !== '%') {\n          abattement = Object(_nodeUnits__WEBPACK_IMPORTED_MODULE_12__[\"convertNodeToUnit\"])(assiette.unit, abattement);\n        }\n\n        if (décote) {\n          décote.plafond = Object(_nodeUnits__WEBPACK_IMPORTED_MODULE_12__[\"convertNodeToUnit\"])(assiette.unit, décote.plafond);\n          décote.taux = Object(_nodeUnits__WEBPACK_IMPORTED_MODULE_12__[\"convertNodeToUnit\"])(Object(_units__WEBPACK_IMPORTED_MODULE_14__[\"parseUnit\"])(''), décote.taux);\n        }\n      } catch (e) {\n        Object(_error__WEBPACK_IMPORTED_MODULE_8__[\"typeWarning\"])(cache._meta.contextRule, \"Impossible de convertir les unités de l'allègement entre elles\", e);\n      }\n    }\n\n    var montantFranchiséDécoté = franchise.nodeValue && assietteValue < franchise.nodeValue ? 0 : décote ? function () {\n      var plafondDécote = décote.plafond.nodeValue,\n          taux = décote.taux.nodeValue;\n      return assietteValue > plafondDécote ? assietteValue : Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"max\"])(0, (1 + taux) * assietteValue - taux * plafondDécote);\n    }() : assietteValue;\n    var nodeValue = abattement ? abattement.nodeValue == null ? montantFranchiséDécoté === 0 ? 0 : null : Object(_units__WEBPACK_IMPORTED_MODULE_14__[\"serializeUnit\"])(abattement.unit) === '%' ? Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"max\"])(0, montantFranchiséDécoté - Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"min\"])(plafond.nodeValue, abattement.nodeValue / 100 * montantFranchiséDécoté)) : Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"max\"])(0, montantFranchiséDécoté - Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"min\"])(plafond.nodeValue, abattement.nodeValue)) : montantFranchiséDécoté;\n    return {\n      nodeValue,\n      unit: assiette.unit,\n      explanation: {\n        franchise,\n        plafond,\n        abattement\n      }\n    };\n  };\n\n  var base = Object(_evaluation__WEBPACK_IMPORTED_MODULE_9__[\"parseObject\"])(recurse, objectShape, v),\n      explanation = v.décote ? _objectSpread(_objectSpread({}, base), {}, {\n    décote: Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"map\"])(recurse, v.décote)\n  }) : base,\n      evaluate = Object(_evaluation__WEBPACK_IMPORTED_MODULE_9__[\"evaluateObject\"])(objectShape, effect);\n  return {\n    evaluate,\n    jsx: _components_mecanisms_All_gement__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\n    explanation,\n    category: 'mecanism',\n    name: 'allègement',\n    type: 'numeric',\n    unit: explanation === null || explanation === void 0 ? void 0 : (_explanation$assiette = explanation.assiette) === null || _explanation$assiette === void 0 ? void 0 : _explanation$assiette.unit\n  };\n};\nvar mecanismProduct = (recurse, k, v) => {\n  if (v.composantes) {\n    //mécanisme de composantes. Voir mécanismes.md/composantes\n    return Object(_mecanisms_utils__WEBPACK_IMPORTED_MODULE_10__[\"decompose\"])(recurse, k, v);\n  }\n\n  if (v.variations) {\n    return Object(_mecanisms_variations__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(recurse, k, v, true);\n  }\n\n  var objectShape = {\n    assiette: false,\n    taux: Object(_evaluation__WEBPACK_IMPORTED_MODULE_9__[\"defaultNode\"])(1),\n    facteur: Object(_evaluation__WEBPACK_IMPORTED_MODULE_9__[\"defaultNode\"])(1),\n    plafond: Object(_evaluation__WEBPACK_IMPORTED_MODULE_9__[\"defaultNode\"])(Infinity)\n  };\n\n  var effect = (_ref5, cache) => {\n    var {\n      assiette,\n      taux,\n      facteur,\n      plafond\n    } = _ref5;\n\n    if (assiette.unit) {\n      try {\n        plafond = Object(_nodeUnits__WEBPACK_IMPORTED_MODULE_12__[\"convertNodeToUnit\"])(assiette.unit, plafond);\n      } catch (e) {\n        Object(_error__WEBPACK_IMPORTED_MODULE_8__[\"typeWarning\"])(cache._meta.contextRule, \"Impossible de convertir l'unité du plafond du produit dans celle de l'assiette\", e);\n      }\n    }\n\n    var mult = (base, rate, facteur, plafond) => Math.min(base, plafond === false ? Infinity : plafond) * rate * facteur;\n\n    var nodeValue = [taux, assiette, facteur].some(n => n.nodeValue === false) ? false : [taux, assiette, facteur].some(n => n.nodeValue === 0) ? 0 : [taux, assiette, facteur].some(n => n.nodeValue === null) ? null : mult(assiette.nodeValue, taux.nodeValue, facteur.nodeValue, plafond.nodeValue);\n    var unit = Object(_units__WEBPACK_IMPORTED_MODULE_14__[\"inferUnit\"])('*', [assiette, taux, facteur].map(el => el.unit));\n\n    if (Object(_units__WEBPACK_IMPORTED_MODULE_14__[\"areUnitConvertible\"])(unit, assiette.unit)) {\n      nodeValue = Object(_units__WEBPACK_IMPORTED_MODULE_14__[\"convertUnit\"])(unit, assiette.unit, nodeValue);\n      unit = assiette.unit;\n    }\n\n    return {\n      nodeValue,\n      unit,\n      explanation: {\n        plafondActif: assiette.nodeValue > plafond.nodeValue\n      }\n    };\n  };\n\n  var explanation = Object(_evaluation__WEBPACK_IMPORTED_MODULE_9__[\"parseObject\"])(recurse, objectShape, v),\n      evaluate = Object(_evaluation__WEBPACK_IMPORTED_MODULE_9__[\"evaluateObject\"])(objectShape, effect);\n  return {\n    evaluate,\n    jsx: _components_mecanisms_Product__WEBPACK_IMPORTED_MODULE_5__[\"default\"],\n    explanation,\n    category: 'mecanism',\n    name: 'produit',\n    type: 'numeric',\n    unit: Object(_units__WEBPACK_IMPORTED_MODULE_14__[\"inferUnit\"])('*', [explanation.assiette, explanation.taux, explanation.facteur].map(el => el.unit))\n  };\n};\nvar mecanismMax = (recurse, k, v) => {\n  var explanation = v.map(recurse);\n\n  var max = (a, b) => {\n    if (a === false) {\n      return b;\n    }\n\n    if (b === false) {\n      return a;\n    }\n\n    if (a === null || b === null) {\n      return null;\n    }\n\n    return Math.max(a, b);\n  };\n\n  var evaluate = Object(_evaluation__WEBPACK_IMPORTED_MODULE_9__[\"evaluateArray\"])(max, Number.NEGATIVE_INFINITY);\n\n  var jsx = (_ref6) => {\n    var {\n      nodeValue,\n      explanation,\n      unit\n    } = _ref6;\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_mecanisms_common__WEBPACK_IMPORTED_MODULE_3__[\"Node\"], {\n      classes: \"mecanism list maximum\",\n      name: \"le maximum de\",\n      value: nodeValue,\n      unit: unit\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"ul\", null, explanation.map((item, i) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"li\", {\n      key: i\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n      className: \"description\"\n    }, v[i].description), Object(_evaluation__WEBPACK_IMPORTED_MODULE_9__[\"makeJsx\"])(item)))));\n  };\n\n  return {\n    evaluate,\n    jsx,\n    explanation,\n    type: 'numeric',\n    category: 'mecanism',\n    name: 'le maximum de',\n    unit: explanation[0].unit\n  };\n};\nvar mecanismMin = (recurse, k, v) => {\n  var explanation = v.map(recurse);\n  var evaluate = Object(_evaluation__WEBPACK_IMPORTED_MODULE_9__[\"evaluateArray\"])(ramda__WEBPACK_IMPORTED_MODULE_0__[\"min\"], Infinity);\n\n  var jsx = (_ref7) => {\n    var {\n      nodeValue,\n      explanation,\n      unit\n    } = _ref7;\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_mecanisms_common__WEBPACK_IMPORTED_MODULE_3__[\"Node\"], {\n      classes: \"mecanism list minimum\",\n      name: \"le minimum de\",\n      value: nodeValue,\n      unit: unit\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"ul\", null, explanation.map((item, i) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"li\", {\n      key: i\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n      className: \"description\"\n    }, v[i].description), Object(_evaluation__WEBPACK_IMPORTED_MODULE_9__[\"makeJsx\"])(item)))));\n  };\n\n  return {\n    evaluate,\n    jsx,\n    explanation,\n    type: 'numeric',\n    category: 'mecanism',\n    name: 'le minimum de',\n    unit: explanation[0].unit\n  };\n};\nvar mecanismSynchronisation = (recurse, k, v) => {\n  var evaluate = (cache, situation, parsedRules, node) => {\n    var APIExplanation = Object(_evaluation__WEBPACK_IMPORTED_MODULE_9__[\"evaluateNode\"])(cache, situation, parsedRules, node.explanation.API);\n    var valuePath = v.chemin.split(' . ');\n    var nodeValue = APIExplanation.nodeValue == null ? null : Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"path\"])(valuePath, APIExplanation.nodeValue); // If the API gave a non null value, then some of its props may be null (the API can be composed of multiple API, some failing). Then this prop will be set to the default value defined in the API's rule\n\n    var safeNodeValue = nodeValue == null && APIExplanation.nodeValue != null ? Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"path\"])(valuePath, APIExplanation.explanation.defaultValue) : nodeValue;\n    var missingVariables = APIExplanation.nodeValue === null ? {\n      [APIExplanation.dottedName]: 1\n    } : {};\n\n    var explanation = _objectSpread(_objectSpread({}, v), {}, {\n      API: APIExplanation\n    });\n\n    return _objectSpread(_objectSpread({}, node), {}, {\n      nodeValue: safeNodeValue,\n      explanation,\n      missingVariables\n    });\n  };\n\n  return {\n    explanation: _objectSpread(_objectSpread({}, v), {}, {\n      API: recurse(v.API)\n    }),\n    evaluate,\n    jsx: function Synchronisation(_ref8) {\n      var {\n        explanation\n      } = _ref8;\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"p\", null, \"Obtenu \\xE0 partir de la saisie\", ' ', /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_RuleLink__WEBPACK_IMPORTED_MODULE_15__[\"RuleLinkWithContext\"], {\n        dottedName: explanation.API.dottedName\n      }));\n    },\n    category: 'mecanism',\n    name: 'synchronisation'\n  };\n};\nvar mecanismOnePossibility = dottedName => (recurse, k, v) => _objectSpread(_objectSpread({}, v), {}, {\n  'une possibilité': 'oui',\n  evaluate: (cache, situation, parsedRules, node) => _objectSpread(_objectSpread({}, node), {}, {\n    missingVariables: {\n      [dottedName]: 1\n    }\n  })\n});\n\n//# sourceURL=webpack://publicodes/./source/mecanisms.tsx?");

/***/ }),

/***/ "./source/mecanisms/arrondi.tsx":
/*!**************************************!*\
  !*** ./source/mecanisms/arrondi.tsx ***!
  \**************************************/
/*! exports provided: default, unchainRoundMecanism */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"unchainRoundMecanism\", function() { return unchainRoundMecanism; });\n/* harmony import */ var _evaluation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../evaluation */ \"./source/evaluation.tsx\");\n/* harmony import */ var _components_mecanisms_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/mecanisms/common */ \"./source/components/mecanisms/common.tsx\");\n/* harmony import */ var _nodeUnits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../nodeUnits */ \"./source/nodeUnits.ts\");\n/* harmony import */ var _temporal__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../temporal */ \"./source/temporal.ts\");\n/* harmony import */ var _units__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../units */ \"./source/units.ts\");\n/* harmony import */ var ramda__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ramda */ \"ramda\");\n/* harmony import */ var ramda__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(ramda__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react-i18next */ \"react-i18next\");\n/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react_i18next__WEBPACK_IMPORTED_MODULE_7__);\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n\n\n\n\n\n\nfunction MecanismRound(_ref) {\n  var _explanation$decimals;\n\n  var {\n    nodeValue,\n    explanation\n  } = _ref;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_components_mecanisms_common__WEBPACK_IMPORTED_MODULE_1__[\"Node\"], {\n    classes: \"mecanism arrondi\",\n    name: \"arrondi\",\n    value: nodeValue,\n    unit: explanation.value.unit\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_6___default.a.Fragment, null, Object(_evaluation__WEBPACK_IMPORTED_MODULE_0__[\"makeJsx\"])(explanation.value), explanation.decimals.nodeValue !== false && explanation.decimals.isDefault != false && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(\"p\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_7__[\"Trans\"], {\n    i18nKey: \"arrondi-to-decimals\",\n    count: (_explanation$decimals = explanation.decimals.nodeValue) !== null && _explanation$decimals !== void 0 ? _explanation$decimals : undefined\n  }, \"Arrondi \\xE0 \", {\n    count: explanation.decimals.nodeValue\n  }, \" d\\xE9cimales\"))));\n}\n\nfunction roundWithPrecision(n, fractionDigits) {\n  return +n.toFixed(fractionDigits);\n}\n\nfunction evaluate(cache, situation, parsedRules, node) {\n  var _value$temporalValue;\n\n  var evaluateAttribute = _evaluation__WEBPACK_IMPORTED_MODULE_0__[\"evaluateNode\"].bind(null, cache, situation, parsedRules);\n  var value = Object(_nodeUnits__WEBPACK_IMPORTED_MODULE_2__[\"simplifyNodeUnit\"])(evaluateAttribute(node.explanation.value));\n  var decimals = evaluateAttribute(node.explanation.decimals);\n  var temporalValue = Object(_temporal__WEBPACK_IMPORTED_MODULE_3__[\"mapTemporal\"])(val => typeof val === 'number' ? roundWithPrecision(val, decimals.nodeValue) : val, (_value$temporalValue = value.temporalValue) !== null && _value$temporalValue !== void 0 ? _value$temporalValue : Object(_temporal__WEBPACK_IMPORTED_MODULE_3__[\"pureTemporal\"])(value.nodeValue));\n  var nodeValue = Object(_temporal__WEBPACK_IMPORTED_MODULE_3__[\"temporalAverage\"])(temporalValue, value.unit);\n  return _objectSpread(_objectSpread(_objectSpread({}, node), {}, {\n    unit: value.unit,\n    nodeValue\n  }, temporalValue.length > 1 && {\n    temporalValue\n  }), {}, {\n    missingVariables: Object(_evaluation__WEBPACK_IMPORTED_MODULE_0__[\"mergeAllMissing\"])([value, decimals]),\n    explanation: {\n      value,\n      decimals\n    }\n  });\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ((recurse, k, v) => {\n  var explanation = {\n    value: Object(ramda__WEBPACK_IMPORTED_MODULE_5__[\"has\"])('valeur', v) ? recurse(v['valeur']) : recurse(v),\n    decimals: Object(ramda__WEBPACK_IMPORTED_MODULE_5__[\"has\"])('décimales', v) ? recurse(v['décimales']) : Object(_evaluation__WEBPACK_IMPORTED_MODULE_0__[\"defaultNode\"])(0)\n  };\n  return {\n    explanation,\n    evaluate,\n    jsx: MecanismRound,\n    category: 'mecanism',\n    name: 'arrondi',\n    type: 'numeric',\n    unit: explanation.value.unit\n  };\n});\nfunction unchainRoundMecanism(recurse, rawNode) {\n  var {\n    arrondi\n  } = rawNode,\n      valeur = _objectWithoutProperties(rawNode, [\"arrondi\"]);\n\n  var arrondiValue = recurse(arrondi);\n\n  if (Object(_units__WEBPACK_IMPORTED_MODULE_4__[\"serializeUnit\"])(arrondiValue.unit) === 'décimales') {\n    return {\n      arrondi: {\n        valeur,\n        décimales: arrondiValue.nodeValue\n      }\n    };\n  } else if (arrondiValue.nodeValue === true) {\n    return {\n      arrondi: {\n        valeur\n      }\n    };\n  } else {\n    return valeur;\n  }\n}\n\n//# sourceURL=webpack://publicodes/./source/mecanisms/arrondi.tsx?");

/***/ }),

/***/ "./source/mecanisms/barème.ts":
/*!************************************!*\
  !*** ./source/mecanisms/barème.ts ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return parse; });\n/* harmony import */ var _components_mecanisms_Bar_me__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../components/mecanisms/Barème */ \"./source/components/mecanisms/Barème.tsx\");\n/* harmony import */ var _error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../error */ \"./source/error.ts\");\n/* harmony import */ var _evaluation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../evaluation */ \"./source/evaluation.tsx\");\n/* harmony import */ var _temporal__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../temporal */ \"./source/temporal.ts\");\n/* harmony import */ var _units__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../units */ \"./source/units.ts\");\n/* harmony import */ var _trancheUtils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./trancheUtils */ \"./source/mecanisms/trancheUtils.ts\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./utils */ \"./source/mecanisms/utils.js\");\n/* harmony import */ var _variations__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./variations */ \"./source/mecanisms/variations.ts\");\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n\n\n\n\n\nfunction parse(parse, k, v) {\n  // Barème en taux marginaux.\n  if (v.composantes) {\n    //mécanisme de composantes. Voir mécanismes.md/composantes\n    return Object(_utils__WEBPACK_IMPORTED_MODULE_6__[\"decompose\"])(parse, k, v);\n  }\n\n  if (v.variations) {\n    return Object(_variations__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(parse, k, v, true);\n  }\n\n  var explanation = {\n    assiette: parse(v.assiette),\n    multiplicateur: v.multiplicateur ? parse(v.multiplicateur) : Object(_evaluation__WEBPACK_IMPORTED_MODULE_2__[\"defaultNode\"])(1),\n    tranches: Object(_trancheUtils__WEBPACK_IMPORTED_MODULE_5__[\"parseTranches\"])(parse, v.tranches)\n  };\n  return {\n    explanation,\n    evaluate,\n    jsx: _components_mecanisms_Bar_me__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n    category: 'mecanism',\n    name: 'barème',\n    type: 'numeric',\n    unit: explanation.assiette.unit\n  };\n}\n\nfunction evaluateBarème(tranches, assiette, evaluate, cache) {\n  return tranches.map(tranche => {\n    if (tranche.isAfterActive) {\n      return _objectSpread(_objectSpread({}, tranche), {}, {\n        nodeValue: 0\n      });\n    }\n\n    var taux = evaluate(tranche.taux);\n\n    if (taux.temporalValue) {\n      Object(_error__WEBPACK_IMPORTED_MODULE_1__[\"evaluationError\"])(cache._meta.contextRule, \"Le taux d'une tranche ne peut pas être une valeur temporelle\");\n    }\n\n    if ([assiette.nodeValue, taux.nodeValue, tranche.plafondValue, tranche.plancherValue].some(value => value === null)) {\n      return _objectSpread(_objectSpread({}, tranche), {}, {\n        taux,\n        nodeValue: null,\n        missingVariables: Object(_evaluation__WEBPACK_IMPORTED_MODULE_2__[\"mergeAllMissing\"])([taux, tranche])\n      });\n    }\n\n    return _objectSpread(_objectSpread({}, tranche), {}, {\n      taux,\n      unit: assiette.unit,\n      nodeValue: (Math.min(assiette.nodeValue, tranche.plafondValue) - tranche.plancherValue) * Object(_units__WEBPACK_IMPORTED_MODULE_4__[\"convertUnit\"])(taux.unit, Object(_units__WEBPACK_IMPORTED_MODULE_4__[\"parseUnit\"])(''), taux.nodeValue)\n    });\n  });\n}\n\nvar evaluate = (cache, situation, parsedRules, node) => {\n  var evaluate = _evaluation__WEBPACK_IMPORTED_MODULE_2__[\"evaluateNode\"].bind(null, cache, situation, parsedRules);\n  var assiette = evaluate(node.explanation.assiette);\n  var multiplicateur = evaluate(node.explanation.multiplicateur);\n  var temporalTranchesPlafond = Object(_temporal__WEBPACK_IMPORTED_MODULE_3__[\"liftTemporal2\"])((assiette, multiplicateur) => Object(_trancheUtils__WEBPACK_IMPORTED_MODULE_5__[\"evaluatePlafondUntilActiveTranche\"])(evaluate, {\n    parsedTranches: node.explanation.tranches,\n    assiette,\n    multiplicateur\n  }, cache), Object(_temporal__WEBPACK_IMPORTED_MODULE_3__[\"liftTemporalNode\"])(assiette), Object(_temporal__WEBPACK_IMPORTED_MODULE_3__[\"liftTemporalNode\"])(multiplicateur));\n  var temporalTranches = Object(_temporal__WEBPACK_IMPORTED_MODULE_3__[\"liftTemporal2\"])((tranches, assiette) => evaluateBarème(tranches, assiette, evaluate, cache), temporalTranchesPlafond, Object(_temporal__WEBPACK_IMPORTED_MODULE_3__[\"liftTemporalNode\"])(assiette));\n  var temporalValue = Object(_temporal__WEBPACK_IMPORTED_MODULE_3__[\"mapTemporal\"])(tranches => tranches.reduce((value, _ref) => {\n    var {\n      nodeValue\n    } = _ref;\n    return nodeValue == null ? null : value + nodeValue;\n  }, 0), temporalTranches);\n  return _objectSpread(_objectSpread(_objectSpread({}, node), {}, {\n    nodeValue: Object(_temporal__WEBPACK_IMPORTED_MODULE_3__[\"temporalAverage\"])(temporalValue)\n  }, temporalValue.length > 1 ? {\n    temporalValue\n  } : {\n    missingVariables: Object(_evaluation__WEBPACK_IMPORTED_MODULE_2__[\"mergeAllMissing\"])(temporalTranches[0].value)\n  }), {}, {\n    explanation: _objectSpread({\n      assiette,\n      multiplicateur\n    }, temporalTranches.length > 1 ? {\n      temporalTranches\n    } : {\n      tranches: temporalTranches[0].value\n    }),\n    unit: assiette.unit\n  });\n};\n\n//# sourceURL=webpack://publicodes/./source/mecanisms/bar%C3%A8me.ts?");

/***/ }),

/***/ "./source/mecanisms/durée.tsx":
/*!************************************!*\
  !*** ./source/mecanisms/durée.tsx ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _date__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../date */ \"./source/date.ts\");\n/* harmony import */ var _evaluation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../evaluation */ \"./source/evaluation.tsx\");\n/* harmony import */ var _components_mecanisms_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/mecanisms/common */ \"./source/components/mecanisms/common.tsx\");\n/* harmony import */ var _units__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../units */ \"./source/units.ts\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n\n\n\nfunction MecanismDurée(_ref) {\n  var {\n    nodeValue,\n    explanation,\n    unit\n  } = _ref;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_components_mecanisms_common__WEBPACK_IMPORTED_MODULE_2__[\"Node\"], {\n    classes: \"mecanism dur\\xE9e\",\n    name: \"dur\\xE9e\",\n    value: nodeValue,\n    unit: unit\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_4___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"p\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"strong\", {\n    className: \"key\"\n  }, \"Depuis : \"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"span\", {\n    className: \"value\"\n  }, Object(_evaluation__WEBPACK_IMPORTED_MODULE_1__[\"makeJsx\"])(explanation.depuis))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"p\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"strong\", {\n    className: \"key\"\n  }, \"Jusqu'\\xE0 : \"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(\"span\", {\n    className: \"value\"\n  }, Object(_evaluation__WEBPACK_IMPORTED_MODULE_1__[\"makeJsx\"])(explanation[\"jusqu'à\"])))));\n}\n\nvar todayString = Object(_date__WEBPACK_IMPORTED_MODULE_0__[\"convertToString\"])(new Date());\nvar objectShape = {\n  depuis: Object(_evaluation__WEBPACK_IMPORTED_MODULE_1__[\"defaultNode\"])(todayString),\n  \"jusqu'à\": Object(_evaluation__WEBPACK_IMPORTED_MODULE_1__[\"defaultNode\"])(todayString)\n};\n\nvar evaluate = (cache, situation, parsedRules, node) => {\n  var evaluateAttribute = _evaluation__WEBPACK_IMPORTED_MODULE_1__[\"evaluateNode\"].bind(null, cache, situation, parsedRules);\n  var from = evaluateAttribute(node.explanation.depuis);\n  var to = evaluateAttribute(node.explanation[\"jusqu'à\"]);\n  var nodeValue;\n\n  if ([from, to].some((_ref2) => {\n    var {\n      nodeValue\n    } = _ref2;\n    return nodeValue === null;\n  })) {\n    nodeValue = null;\n  } else {\n    var [fromDate, toDate] = [from.nodeValue, to.nodeValue].map(_date__WEBPACK_IMPORTED_MODULE_0__[\"convertToDate\"]);\n    nodeValue = Math.max(0, Math.round((toDate.getTime() - fromDate.getTime()) / (1000 * 60 * 60 * 24)));\n  }\n\n  var missingVariables = Object(_evaluation__WEBPACK_IMPORTED_MODULE_1__[\"mergeMissing\"])(from.missingVariables, to.missingVariables);\n  return _objectSpread(_objectSpread({}, node), {}, {\n    missingVariables,\n    nodeValue,\n    explanation: {\n      depuis: from,\n      \"jusqu'à\": to\n    }\n  });\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ((recurse, k, v) => {\n  var explanation = Object(_evaluation__WEBPACK_IMPORTED_MODULE_1__[\"parseObject\"])(recurse, objectShape, v);\n  return {\n    evaluate,\n    jsx: MecanismDurée,\n    explanation,\n    category: 'mecanism',\n    name: 'Durée',\n    type: 'numeric',\n    unit: Object(_units__WEBPACK_IMPORTED_MODULE_3__[\"parseUnit\"])('jours')\n  };\n});\n\n//# sourceURL=webpack://publicodes/./source/mecanisms/dur%C3%A9e.tsx?");

/***/ }),

/***/ "./source/mecanisms/encadrement.tsx":
/*!******************************************!*\
  !*** ./source/mecanisms/encadrement.tsx ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../error */ \"./source/error.ts\");\n/* harmony import */ var _evaluation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../evaluation */ \"./source/evaluation.tsx\");\n/* harmony import */ var _nodeUnits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../nodeUnits */ \"./source/nodeUnits.ts\");\n\n\n\n\n\nfunction MecanismEncadrement(_ref) {\n  var {\n    nodeValue,\n    explanation,\n    unit\n  } = _ref;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, Object(_evaluation__WEBPACK_IMPORTED_MODULE_2__[\"makeJsx\"])(explanation.valeur), !explanation.plancher.isDefault && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"br\", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    style: nodeValue === explanation.plancher.nodeValue ? {\n      background: 'yellow'\n    } : {}\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"strong\", {\n    className: \"key\"\n  }, \"Minimum : \"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"value\"\n  }, Object(_evaluation__WEBPACK_IMPORTED_MODULE_2__[\"makeJsx\"])(explanation.plancher)))), !explanation.plafond.isDefault && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"br\", null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    style: nodeValue === explanation.plancher.nodeValue ? {\n      background: 'yellow'\n    } : {}\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"strong\", {\n    className: \"key\"\n  }, \"Plafonn\\xE9 \\xE0 : \"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"value\"\n  }, Object(_evaluation__WEBPACK_IMPORTED_MODULE_2__[\"makeJsx\"])(explanation.plafond)))));\n}\n\nvar objectShape = {\n  valeur: false,\n  plafond: Object(_evaluation__WEBPACK_IMPORTED_MODULE_2__[\"defaultNode\"])(Infinity),\n  plancher: Object(_evaluation__WEBPACK_IMPORTED_MODULE_2__[\"defaultNode\"])(-Infinity)\n};\nvar evaluate = Object(_evaluation__WEBPACK_IMPORTED_MODULE_2__[\"evaluateObject\"])(objectShape, (_ref2, cache) => {\n  var {\n    valeur,\n    plafond,\n    plancher\n  } = _ref2;\n\n  if (plafond.nodeValue === false || plafond.nodeValue === null) {\n    plafond = objectShape.plafond;\n  }\n\n  if (valeur.unit) {\n    try {\n      plafond = Object(_nodeUnits__WEBPACK_IMPORTED_MODULE_3__[\"convertNodeToUnit\"])(valeur.unit, plafond);\n      plancher = Object(_nodeUnits__WEBPACK_IMPORTED_MODULE_3__[\"convertNodeToUnit\"])(valeur.unit, plancher);\n    } catch (e) {\n      Object(_error__WEBPACK_IMPORTED_MODULE_1__[\"typeWarning\"])(cache._meta.contextRule, \"Le plafond / plancher de l'encadrement a une unité incompatible avec celle de la valeur à encadrer\", e);\n    }\n  }\n\n  return {\n    nodeValue: typeof valeur.nodeValue !== 'number' ? valeur.nodeValue : Math.max(plancher.nodeValue, Math.min(plafond.nodeValue, valeur.nodeValue)),\n    unit: valeur.unit\n  };\n});\n/* harmony default export */ __webpack_exports__[\"default\"] = ((recurse, k, v) => {\n  var explanation = Object(_evaluation__WEBPACK_IMPORTED_MODULE_2__[\"parseObject\"])(recurse, objectShape, v);\n  return {\n    evaluate,\n    jsx: MecanismEncadrement,\n    explanation,\n    category: 'mecanism',\n    name: 'encadrement',\n    type: 'numeric',\n    unit: explanation.valeur.unit\n  };\n});\n\n//# sourceURL=webpack://publicodes/./source/mecanisms/encadrement.tsx?");

/***/ }),

/***/ "./source/mecanisms/grille.ts":
/*!************************************!*\
  !*** ./source/mecanisms/grille.ts ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return parse; });\n/* harmony import */ var ramda__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ramda */ \"ramda\");\n/* harmony import */ var ramda__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(ramda__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _components_mecanisms_Grille__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/mecanisms/Grille */ \"./source/components/mecanisms/Grille.tsx\");\n/* harmony import */ var _evaluation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../evaluation */ \"./source/evaluation.tsx\");\n/* harmony import */ var _mecanisms_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../mecanisms/utils */ \"./source/mecanisms/utils.js\");\n/* harmony import */ var _mecanisms_variations__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../mecanisms/variations */ \"./source/mecanisms/variations.ts\");\n/* harmony import */ var _temporal__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../temporal */ \"./source/temporal.ts\");\n/* harmony import */ var _units__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../units */ \"./source/units.ts\");\n/* harmony import */ var _trancheUtils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./trancheUtils */ \"./source/mecanisms/trancheUtils.ts\");\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n\n\n\n\n\nfunction parse(parse, k, v) {\n  if (v.composantes) {\n    //mécanisme de composantes. Voir mécanismes.md/composantes\n    return Object(_mecanisms_utils__WEBPACK_IMPORTED_MODULE_3__[\"decompose\"])(parse, k, v);\n  }\n\n  if (v.variations) {\n    return Object(_mecanisms_variations__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(parse, k, v, true);\n  }\n\n  var defaultUnit = v['unité'] && Object(_units__WEBPACK_IMPORTED_MODULE_6__[\"parseUnit\"])(v['unité']);\n  var explanation = {\n    assiette: parse(v.assiette),\n    multiplicateur: v.multiplicateur ? parse(v.multiplicateur) : Object(_evaluation__WEBPACK_IMPORTED_MODULE_2__[\"defaultNode\"])(1),\n    tranches: Object(_trancheUtils__WEBPACK_IMPORTED_MODULE_7__[\"parseTranches\"])(parse, v.tranches).map(Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"over\"])(Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"lensPath\"])(['montant', 'unit']), unit => unit !== null && unit !== void 0 ? unit : defaultUnit))\n  };\n  return {\n    explanation,\n    evaluate,\n    jsx: _components_mecanisms_Grille__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n    category: 'mecanism',\n    name: 'grille',\n    type: 'numeric',\n    unit: explanation.tranches[0].montant.unit\n  };\n}\n\nvar evaluateGrille = (tranches, evaluate) => tranches.map(tranche => {\n  if (tranche.isActive === false) {\n    return tranche;\n  }\n\n  var montant = evaluate(tranche.montant);\n  return _objectSpread(_objectSpread({}, tranche), {}, {\n    montant,\n    nodeValue: montant.nodeValue,\n    unit: montant.unit,\n    missingVariables: Object(_evaluation__WEBPACK_IMPORTED_MODULE_2__[\"mergeAllMissing\"])([montant, tranche])\n  });\n});\n\nvar evaluate = (cache, situation, parsedRules, node) => {\n  var _activeTranches$0$val, _activeTranches$0$val2;\n\n  var evaluate = _evaluation__WEBPACK_IMPORTED_MODULE_2__[\"evaluateNode\"].bind(null, cache, situation, parsedRules);\n  var assiette = evaluate(node.explanation.assiette);\n  var multiplicateur = evaluate(node.explanation.multiplicateur);\n  var temporalTranchesPlafond = Object(_temporal__WEBPACK_IMPORTED_MODULE_5__[\"liftTemporal2\"])((assiette, multiplicateur) => Object(_trancheUtils__WEBPACK_IMPORTED_MODULE_7__[\"evaluatePlafondUntilActiveTranche\"])(evaluate, {\n    parsedTranches: node.explanation.tranches,\n    assiette,\n    multiplicateur\n  }, cache), Object(_temporal__WEBPACK_IMPORTED_MODULE_5__[\"liftTemporalNode\"])(assiette), Object(_temporal__WEBPACK_IMPORTED_MODULE_5__[\"liftTemporalNode\"])(multiplicateur));\n  var temporalTranches = Object(_temporal__WEBPACK_IMPORTED_MODULE_5__[\"mapTemporal\"])(tranches => evaluateGrille(tranches, evaluate), temporalTranchesPlafond);\n  var activeTranches = Object(_temporal__WEBPACK_IMPORTED_MODULE_5__[\"mapTemporal\"])(tranches => {\n    var activeTranche = tranches.find(tranche => tranche.isActive);\n\n    if (activeTranche) {\n      return [activeTranche];\n    }\n\n    var lastTranche = tranches[tranches.length - 1];\n\n    if (lastTranche.isAfterActive === false) {\n      return [{\n        nodeValue: false\n      }];\n    }\n\n    return tranches.filter(tranche => tranche.isActive === null);\n  }, temporalTranches);\n  var temporalValue = Object(_temporal__WEBPACK_IMPORTED_MODULE_5__[\"mapTemporal\"])(tranches => tranches[0].isActive === null ? null : tranches[0].nodeValue, activeTranches);\n  return _objectSpread(_objectSpread(_objectSpread({}, node), {}, {\n    nodeValue: Object(_temporal__WEBPACK_IMPORTED_MODULE_5__[\"temporalAverage\"])(temporalValue)\n  }, temporalValue.length > 1 ? {\n    temporalValue\n  } : {\n    missingVariables: Object(_evaluation__WEBPACK_IMPORTED_MODULE_2__[\"mergeAllMissing\"])(activeTranches[0].value)\n  }), {}, {\n    explanation: _objectSpread({\n      assiette,\n      multiplicateur\n    }, temporalTranches.length > 1 ? {\n      temporalTranches\n    } : {\n      tranches: temporalTranches[0].value\n    }),\n    unit: (_activeTranches$0$val = (_activeTranches$0$val2 = activeTranches[0].value[0]) === null || _activeTranches$0$val2 === void 0 ? void 0 : _activeTranches$0$val2.unit) !== null && _activeTranches$0$val !== void 0 ? _activeTranches$0$val : node.unit\n  });\n};\n\n//# sourceURL=webpack://publicodes/./source/mecanisms/grille.ts?");

/***/ }),

/***/ "./source/mecanisms/operation.js":
/*!***************************************!*\
  !*** ./source/mecanisms/operation.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _date__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../date */ \"./source/date.ts\");\n/* harmony import */ var _error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../error */ \"./source/error.ts\");\n/* harmony import */ var _evaluation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../evaluation */ \"./source/evaluation.tsx\");\n/* harmony import */ var _components_mecanisms_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/mecanisms/common */ \"./source/components/mecanisms/common.tsx\");\n/* harmony import */ var _nodeUnits__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../nodeUnits */ \"./source/nodeUnits.ts\");\n/* harmony import */ var _temporal__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../temporal */ \"./source/temporal.ts\");\n/* harmony import */ var _units__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../units */ \"./source/units.ts\");\n/* harmony import */ var ramda__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ramda */ \"ramda\");\n/* harmony import */ var ramda__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(ramda__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__);\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ((k, operatorFunction, symbol) => (recurse, k, v) => {\n  var evaluate = (cache, situation, parsedRules, node) => {\n    var _node1$temporalValue, _node2$temporalValue;\n\n    var explanation = Object(ramda__WEBPACK_IMPORTED_MODULE_7__[\"map\"])(Object(ramda__WEBPACK_IMPORTED_MODULE_7__[\"curry\"])(_evaluation__WEBPACK_IMPORTED_MODULE_2__[\"evaluateNode\"])(cache, situation, parsedRules), node.explanation);\n    var [node1, node2] = explanation;\n    var missingVariables = Object(_evaluation__WEBPACK_IMPORTED_MODULE_2__[\"mergeMissing\"])(node1.missingVariables, node2.missingVariables);\n\n    if (node1.nodeValue == null || node2.nodeValue == null) {\n      return _objectSpread(_objectSpread({}, node), {}, {\n        nodeValue: null,\n        explanation,\n        missingVariables\n      });\n    }\n\n    if (!['∕', '×'].includes(node.operator)) {\n      try {\n        if (node1.unit) {\n          node2 = Object(_nodeUnits__WEBPACK_IMPORTED_MODULE_4__[\"convertNodeToUnit\"])(node1.unit, node2);\n        } else if (node2.unit) {\n          node1 = Object(_nodeUnits__WEBPACK_IMPORTED_MODULE_4__[\"convertNodeToUnit\"])(node2.unit, node1);\n        }\n      } catch (e) {\n        Object(_error__WEBPACK_IMPORTED_MODULE_1__[\"typeWarning\"])(cache._meta.contextRule, \"Dans l'expression '\".concat(node.operator, \"', la partie gauche (unit\\xE9: \").concat(Object(_units__WEBPACK_IMPORTED_MODULE_6__[\"serializeUnit\"])(node1.unit), \") n'est pas compatible avec la partie droite (unit\\xE9: \").concat(Object(_units__WEBPACK_IMPORTED_MODULE_6__[\"serializeUnit\"])(node2.unit), \")\"), e);\n      }\n    }\n\n    var baseNode = _objectSpread(_objectSpread({}, node), {}, {\n      explanation,\n      unit: Object(_units__WEBPACK_IMPORTED_MODULE_6__[\"inferUnit\"])(k, [node1.unit, node2.unit]),\n      missingVariables\n    });\n\n    var temporalValue = Object(_temporal__WEBPACK_IMPORTED_MODULE_5__[\"liftTemporal2\"])((a, b) => {\n      if (!['≠', '='].includes(node.operator) && a === false && b === false) {\n        return false;\n      }\n\n      if (['<', '>', '≤', '≥', '∕', '×'].includes(node.operator) && (a === false || b === false)) {\n        return false;\n      }\n\n      if (['≠', '=', '<', '>', '≤', '≥'].includes(node.operator) && [a, b].every(value => {\n        var _value$match;\n\n        return (_value$match = value.match) === null || _value$match === void 0 ? void 0 : _value$match.call(value, /[\\d]{2}\\/[\\d]{2}\\/[\\d]{4}/);\n      })) {\n        return operatorFunction(Object(_date__WEBPACK_IMPORTED_MODULE_0__[\"convertToDate\"])(a), Object(_date__WEBPACK_IMPORTED_MODULE_0__[\"convertToDate\"])(b));\n      }\n\n      return operatorFunction(a, b);\n    }, (_node1$temporalValue = node1.temporalValue) !== null && _node1$temporalValue !== void 0 ? _node1$temporalValue : Object(_temporal__WEBPACK_IMPORTED_MODULE_5__[\"pureTemporal\"])(node1.nodeValue), (_node2$temporalValue = node2.temporalValue) !== null && _node2$temporalValue !== void 0 ? _node2$temporalValue : Object(_temporal__WEBPACK_IMPORTED_MODULE_5__[\"pureTemporal\"])(node2.nodeValue));\n    var nodeValue = Object(_temporal__WEBPACK_IMPORTED_MODULE_5__[\"temporalAverage\"])(temporalValue, baseNode.unit);\n    return _objectSpread(_objectSpread({}, baseNode), {}, {\n      nodeValue\n    }, temporalValue.length > 1 && {\n      temporalValue\n    });\n  };\n\n  var explanation = v.explanation.map(recurse);\n  var [node1, node2] = explanation;\n  var unit = Object(_units__WEBPACK_IMPORTED_MODULE_6__[\"inferUnit\"])(k, [node1.unit, node2.unit]);\n\n  var jsx = (_ref) => {\n    var {\n      nodeValue,\n      explanation,\n      unit\n    } = _ref;\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_components_mecanisms_common__WEBPACK_IMPORTED_MODULE_3__[\"Node\"], {\n      classes: 'inlineExpression ' + k,\n      value: nodeValue,\n      unit: unit\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(\"span\", {\n      className: \"nodeContent\"\n    }, (explanation[0].nodeValue !== 0 || symbol !== '−' || !v.explanation[0].constant) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_8___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(\"span\", {\n      className: \"fa fa\"\n    }), Object(_evaluation__WEBPACK_IMPORTED_MODULE_2__[\"makeJsx\"])(explanation[0])), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(\"span\", {\n      className: \"operator\"\n    }, symbol || k), Object(_evaluation__WEBPACK_IMPORTED_MODULE_2__[\"makeJsx\"])(explanation[1])));\n  };\n\n  return _objectSpread(_objectSpread({}, v), {}, {\n    evaluate,\n    jsx,\n    operator: symbol || k,\n    explanation,\n    unit\n  });\n});\n\n//# sourceURL=webpack://publicodes/./source/mecanisms/operation.js?");

/***/ }),

/***/ "./source/mecanisms/régularisation.ts":
/*!********************************************!*\
  !*** ./source/mecanisms/régularisation.ts ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return parse; });\n/* harmony import */ var ramda__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ramda */ \"ramda\");\n/* harmony import */ var ramda__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(ramda__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _date__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../date */ \"./source/date.ts\");\n/* harmony import */ var _error__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../error */ \"./source/error.ts\");\n/* harmony import */ var _evaluation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../evaluation */ \"./source/evaluation.tsx\");\n/* harmony import */ var _temporal__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../temporal */ \"./source/temporal.ts\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils */ \"./source/utils.ts\");\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n\n\n\n\nfunction stripTemporalTransform(node) {\n  var _node$explanation;\n\n  if (!(node === null || node === void 0 ? void 0 : (_node$explanation = node.explanation) === null || _node$explanation === void 0 ? void 0 : _node$explanation.period)) {\n    return node;\n  }\n\n  return stripTemporalTransform(node.explanation.value);\n}\n\nfunction parse(parse, k, v) {\n  var rule = parse(v.règle);\n\n  if (!v['valeurs cumulées']) {\n    throw new Error('Il manque la clé `valeurs cumulées` dans le mécanisme régularisation');\n  }\n\n  var variables = Object(_utils__WEBPACK_IMPORTED_MODULE_5__[\"coerceArray\"])(v['valeurs cumulées']).map(variable => {\n    if (typeof variable !== 'string') {\n      throw new Error('Les `valeurs cumulées` du mécanisme de régularisation doivent être des noms de règles existantes');\n    }\n\n    var value = parse(variable);\n    var reference = stripTemporalTransform(value);\n\n    if (reference.category !== 'reference') {\n      throw new Error('Le mécanisme régularisation attend des noms de règles existantes dans les `valeurs cumulées`');\n    }\n\n    return {\n      value,\n      dottedName: reference.dottedName\n    };\n  });\n  return {\n    evaluate,\n    explanation: {\n      rule,\n      variables\n    },\n    category: 'mecanism',\n    name: 'taux progressif',\n    type: 'numeric',\n    unit: rule.unit\n  };\n}\n\nfunction getMonthlyCumulatedValuesOverYear(year, variable, unit) {\n  var start = Object(_date__WEBPACK_IMPORTED_MODULE_1__[\"convertToString\"])(new Date(year, 0, 1));\n  var cumulatedPeriods = [...Array(12).keys()].map(monthNumber => ({\n    start,\n    end: Object(_date__WEBPACK_IMPORTED_MODULE_1__[\"convertToString\"])(new Date(year, monthNumber + 1, 0))\n  })).map(period => {\n    var temporal = Object(_temporal__WEBPACK_IMPORTED_MODULE_4__[\"liftTemporal2\"])((filter, value) => filter && value, Object(_temporal__WEBPACK_IMPORTED_MODULE_4__[\"createTemporalEvaluation\"])(true, period), variable);\n    return _objectSpread(_objectSpread({}, period), {}, {\n      value: Object(_temporal__WEBPACK_IMPORTED_MODULE_4__[\"temporalCumul\"])(temporal, unit)\n    });\n  });\n  return cumulatedPeriods;\n}\n\nfunction evaluate(cache, situation, parsedRules, node) {\n  var evaluate = _evaluation__WEBPACK_IMPORTED_MODULE_3__[\"evaluateNode\"].bind(null, cache, situation, parsedRules);\n\n  function recalculWith(newSituation, node) {\n    return Object(_evaluation__WEBPACK_IMPORTED_MODULE_3__[\"evaluateNode\"])({\n      _meta: cache._meta\n    }, _objectSpread(_objectSpread({}, situation), newSituation), parsedRules, node);\n  }\n\n  function regulariseYear(temporalEvaluation) {\n    if (temporalEvaluation.filter((_ref) => {\n      var {\n        value\n      } = _ref;\n      return value !== false;\n    }).length <= 1) {\n      return temporalEvaluation;\n    }\n\n    var currentYear = Object(_date__WEBPACK_IMPORTED_MODULE_1__[\"getYear\"])(temporalEvaluation[0].start);\n    var cumulatedVariables = node.explanation.variables.reduce((acc, _ref2) => {\n      var _evaluation$temporalV;\n\n      var {\n        dottedName,\n        value\n      } = _ref2;\n      var evaluation = evaluate(value);\n\n      if (!evaluation.unit.denominators.some(unit => unit === 'mois')) {\n        Object(_error__WEBPACK_IMPORTED_MODULE_2__[\"evaluationError\"])(cache._meta.contextRule, \"Dans le m\\xE9canisme r\\xE9gularisation, la valeur cumul\\xE9e '\".concat(dottedName, \"' n'est pas une variable num\\xE9rique d\\xE9finie sur le mois\"));\n      }\n\n      return _objectSpread(_objectSpread({}, acc), {}, {\n        [dottedName]: getMonthlyCumulatedValuesOverYear(currentYear, (_evaluation$temporalV = evaluation.temporalValue) !== null && _evaluation$temporalV !== void 0 ? _evaluation$temporalV : Object(_temporal__WEBPACK_IMPORTED_MODULE_4__[\"pureTemporal\"])(evaluation.nodeValue), evaluation.unit)\n      });\n    }, {});\n    var cumulatedMonthlyEvaluations = [...Array(12).keys()].map(i => ({\n      start: Object(_date__WEBPACK_IMPORTED_MODULE_1__[\"convertToString\"])(new Date(currentYear, i, 1)),\n      end: Object(_date__WEBPACK_IMPORTED_MODULE_1__[\"convertToString\"])(new Date(currentYear, i + 1, 0)),\n      value: recalculWith(Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"map\"])(cumulatedVariable => cumulatedVariable === null || cumulatedVariable === void 0 ? void 0 : cumulatedVariable[i].value, cumulatedVariables), node.explanation.rule).nodeValue\n    }));\n    var temporalRégularisée = cumulatedMonthlyEvaluations.map((period, i) => {\n      var _cumulatedMonthlyEval, _cumulatedMonthlyEval2;\n\n      return _objectSpread(_objectSpread({}, period), {}, {\n        value: period.value - ((_cumulatedMonthlyEval = (_cumulatedMonthlyEval2 = cumulatedMonthlyEvaluations[i - 1]) === null || _cumulatedMonthlyEval2 === void 0 ? void 0 : _cumulatedMonthlyEval2.value) !== null && _cumulatedMonthlyEval !== void 0 ? _cumulatedMonthlyEval : 0)\n      });\n    });\n    return temporalRégularisée;\n  }\n\n  var evaluation = evaluate(node.explanation.rule);\n  var temporalValue = evaluation.temporalValue;\n  var evaluationWithRegularisation = Object(_temporal__WEBPACK_IMPORTED_MODULE_4__[\"groupByYear\"])(temporalValue).map(regulariseYear).flat();\n  return _objectSpread(_objectSpread({}, node), {}, {\n    temporalValue: evaluationWithRegularisation,\n    explanation: evaluation,\n    nodeValue: Object(_temporal__WEBPACK_IMPORTED_MODULE_4__[\"temporalAverage\"])(evaluationWithRegularisation, evaluation.unit),\n    missingVariables: evaluation.missingVariables,\n    unit: evaluation.unit\n  });\n}\n\n//# sourceURL=webpack://publicodes/./source/mecanisms/r%C3%A9gularisation.ts?");

/***/ }),

/***/ "./source/mecanisms/tauxProgressif.ts":
/*!********************************************!*\
  !*** ./source/mecanisms/tauxProgressif.ts ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return parse; });\n/* harmony import */ var _evaluation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../evaluation */ \"./source/evaluation.tsx\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils */ \"./source/mecanisms/utils.js\");\n/* harmony import */ var _variations__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./variations */ \"./source/mecanisms/variations.ts\");\n/* harmony import */ var _components_mecanisms_TauxProgressif__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/mecanisms/TauxProgressif */ \"./source/components/mecanisms/TauxProgressif.tsx\");\n/* harmony import */ var _nodeUnits__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../nodeUnits */ \"./source/nodeUnits.ts\");\n/* harmony import */ var _units__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../units */ \"./source/units.ts\");\n/* harmony import */ var _trancheUtils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./trancheUtils */ \"./source/mecanisms/trancheUtils.ts\");\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n\n\n\n\nfunction parse(parse, k, v) {\n  if (v.composantes) {\n    //mécanisme de composantes. Voir mécanismes.md/composantes\n    return Object(_utils__WEBPACK_IMPORTED_MODULE_1__[\"decompose\"])(parse, k, v);\n  }\n\n  if (v.variations) {\n    return Object(_variations__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(parse, k, v, true);\n  }\n\n  var explanation = {\n    assiette: parse(v.assiette),\n    multiplicateur: v.multiplicateur ? parse(v.multiplicateur) : Object(_evaluation__WEBPACK_IMPORTED_MODULE_0__[\"defaultNode\"])(1),\n    tranches: Object(_trancheUtils__WEBPACK_IMPORTED_MODULE_6__[\"parseTranches\"])(parse, v.tranches)\n  };\n  return {\n    evaluate,\n    jsx: _components_mecanisms_TauxProgressif__WEBPACK_IMPORTED_MODULE_3__[\"default\"],\n    explanation,\n    category: 'mecanism',\n    name: 'taux progressif',\n    type: 'numeric',\n    unit: Object(_units__WEBPACK_IMPORTED_MODULE_5__[\"parseUnit\"])('%')\n  };\n}\n\nvar evaluate = (cache, situation, parsedRules, node) => {\n  var evaluate = _evaluation__WEBPACK_IMPORTED_MODULE_0__[\"evaluateNode\"].bind(null, cache, situation, parsedRules);\n  var assiette = evaluate(node.explanation.assiette);\n  var multiplicateur = evaluate(node.explanation.multiplicateur);\n  var tranches = Object(_trancheUtils__WEBPACK_IMPORTED_MODULE_6__[\"evaluatePlafondUntilActiveTranche\"])(evaluate, {\n    parsedTranches: node.explanation.tranches,\n    assiette,\n    multiplicateur\n  }, cache);\n\n  var evaluatedNode = _objectSpread(_objectSpread({}, node), {}, {\n    explanation: {\n      tranches,\n      assiette,\n      multiplicateur\n    },\n    unit: Object(_units__WEBPACK_IMPORTED_MODULE_5__[\"parseUnit\"])('%')\n  });\n\n  var lastTranche = tranches[tranches.length - 1];\n\n  if (tranches.every((_ref) => {\n    var {\n      isActive\n    } = _ref;\n    return isActive === false;\n  }) || lastTranche.isActive && lastTranche.plafond.nodeValue === Infinity) {\n    var taux = Object(_nodeUnits__WEBPACK_IMPORTED_MODULE_4__[\"convertNodeToUnit\"])(Object(_units__WEBPACK_IMPORTED_MODULE_5__[\"parseUnit\"])('%'), evaluate(lastTranche.taux));\n    var {\n      nodeValue: _nodeValue,\n      missingVariables\n    } = taux;\n    lastTranche.taux = taux;\n    lastTranche.nodeValue = _nodeValue;\n    lastTranche.missingVariables = missingVariables;\n    return _objectSpread(_objectSpread({}, evaluatedNode), {}, {\n      nodeValue: _nodeValue,\n      missingVariables\n    });\n  }\n\n  if (tranches.every((_ref2) => {\n    var {\n      isActive\n    } = _ref2;\n    return isActive !== true;\n  })) {\n    return _objectSpread(_objectSpread({}, evaluatedNode), {}, {\n      nodeValue: null,\n      missingVariables: Object(_evaluation__WEBPACK_IMPORTED_MODULE_0__[\"mergeAllMissing\"])(tranches)\n    });\n  }\n\n  var activeTrancheIndex = tranches.findIndex((_ref3) => {\n    var {\n      isActive\n    } = _ref3;\n    return isActive === true;\n  });\n  var activeTranche = tranches[activeTrancheIndex];\n  activeTranche.taux = Object(_nodeUnits__WEBPACK_IMPORTED_MODULE_4__[\"convertNodeToUnit\"])(Object(_units__WEBPACK_IMPORTED_MODULE_5__[\"parseUnit\"])('%'), evaluate(activeTranche.taux));\n  var previousTranche = tranches[activeTrancheIndex - 1];\n\n  if (previousTranche) {\n    previousTranche.taux = Object(_nodeUnits__WEBPACK_IMPORTED_MODULE_4__[\"convertNodeToUnit\"])(Object(_units__WEBPACK_IMPORTED_MODULE_5__[\"parseUnit\"])('%'), evaluate(previousTranche.taux));\n    previousTranche.isActive = true;\n  }\n\n  var previousTaux = previousTranche ? previousTranche.taux : activeTranche.taux;\n  var calculationValues = [previousTaux, activeTranche.taux, activeTranche];\n\n  if (calculationValues.some(n => n.nodeValue === null)) {\n    activeTranche.nodeValue = null;\n    activeTranche.missingVariables = Object(_evaluation__WEBPACK_IMPORTED_MODULE_0__[\"mergeAllMissing\"])(calculationValues);\n    return _objectSpread(_objectSpread({}, evaluatedNode), {}, {\n      nodeValue: null,\n      activeTranche: activeTranche.missingVariables\n    });\n  }\n\n  var lowerTaux = previousTaux.nodeValue;\n  var upperTaux = activeTranche.taux.nodeValue;\n  var plancher = activeTranche.plancherValue;\n  var plafond = activeTranche.plafondValue;\n  var coeff = (upperTaux - lowerTaux) / (plafond - plancher);\n  var nodeValue = lowerTaux + (assiette.nodeValue - plancher) * coeff;\n  activeTranche.nodeValue = nodeValue;\n  return _objectSpread(_objectSpread({}, evaluatedNode), {}, {\n    nodeValue\n  });\n};\n\n//# sourceURL=webpack://publicodes/./source/mecanisms/tauxProgressif.ts?");

/***/ }),

/***/ "./source/mecanisms/trancheUtils.ts":
/*!******************************************!*\
  !*** ./source/mecanisms/trancheUtils.ts ***!
  \******************************************/
/*! exports provided: parseTranches, evaluatePlafondUntilActiveTranche */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"parseTranches\", function() { return parseTranches; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"evaluatePlafondUntilActiveTranche\", function() { return evaluatePlafondUntilActiveTranche; });\n/* harmony import */ var ramda__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ramda */ \"ramda\");\n/* harmony import */ var ramda__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(ramda__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../error */ \"./source/error.ts\");\n/* harmony import */ var _evaluation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../evaluation */ \"./source/evaluation.tsx\");\n/* harmony import */ var _units__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../units */ \"./source/units.ts\");\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n\nvar parseTranches = (parse, tranches) => {\n  return tranches.map((t, i) => {\n    var _t$plafond;\n\n    if (!t.plafond && i > tranches.length) {\n      throw new SyntaxError(\"La tranche n\\xB0\".concat(i, \" du bar\\xE8me n'a pas de plafond pr\\xE9cis\\xE9. Seule la derni\\xE8re tranche peut ne pas \\xEAtre plafonn\\xE9e\"));\n    }\n\n    return _objectSpread(_objectSpread({}, t), {}, {\n      plafond: (_t$plafond = t.plafond) !== null && _t$plafond !== void 0 ? _t$plafond : Infinity\n    });\n  }).map(Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"evolve\"])({\n    taux: parse,\n    montant: parse,\n    plafond: parse\n  }));\n};\nfunction evaluatePlafondUntilActiveTranche(evaluate, _ref, cache) {\n  var {\n    multiplicateur,\n    assiette,\n    parsedTranches\n  } = _ref;\n  return parsedTranches.reduce((_ref2, parsedTranche, i) => {\n    var [tranches, activeTrancheFound] = _ref2;\n\n    if (activeTrancheFound) {\n      return [[...tranches, _objectSpread(_objectSpread({}, parsedTranche), {}, {\n        isAfterActive: true\n      })], activeTrancheFound];\n    }\n\n    var plafond = evaluate(parsedTranche.plafond);\n\n    if (plafond.temporalValue) {\n      Object(_error__WEBPACK_IMPORTED_MODULE_1__[\"evaluationError\"])(cache._meta.contextRule, 'Les valeurs temporelles ne sont pas acceptées pour un plafond de tranche');\n    }\n\n    var plancher = tranches[i - 1] ? tranches[i - 1].plafond : {\n      nodeValue: 0\n    };\n    var plafondValue = plafond.nodeValue === null || multiplicateur.nodeValue === null ? null : plafond.nodeValue * multiplicateur.nodeValue;\n\n    try {\n      plafondValue = plafondValue === Infinity || plafondValue === 0 ? plafondValue : Object(_units__WEBPACK_IMPORTED_MODULE_3__[\"convertUnit\"])(Object(_units__WEBPACK_IMPORTED_MODULE_3__[\"inferUnit\"])('*', [plafond.unit, multiplicateur.unit]), assiette.unit, plafondValue);\n    } catch (e) {\n      Object(_error__WEBPACK_IMPORTED_MODULE_1__[\"typeWarning\"])(cache._meta.contextRule, \"L'unit\\xE9 du plafond de la tranche n\\xB0\".concat(i + 1, \"  n'est pas compatible avec celle l'assiette\"), e);\n    }\n\n    var plancherValue = tranches[i - 1] ? tranches[i - 1].plafondValue : 0;\n    var isAfterActive = plancherValue === null || assiette.nodeValue === null ? null : plancherValue > assiette.nodeValue;\n    var calculationValues = [plafond, assiette, multiplicateur, plancher];\n\n    if (calculationValues.some(node => node.nodeValue === null)) {\n      return [[...tranches, _objectSpread(_objectSpread({}, parsedTranche), {}, {\n        plafond,\n        plafondValue,\n        plancherValue,\n        nodeValue: null,\n        isActive: null,\n        isAfterActive,\n        missingVariables: Object(_evaluation__WEBPACK_IMPORTED_MODULE_2__[\"mergeAllMissing\"])(calculationValues)\n      })], false];\n    }\n\n    if (!!tranches[i - 1] && !!plancherValue && plafondValue <= plancherValue) {\n      Object(_error__WEBPACK_IMPORTED_MODULE_1__[\"evaluationError\"])(cache._meta.contextRule, \"Le plafond de la tranche n\\xB0\".concat(i + 1, \" a une valeur inf\\xE9rieure \\xE0 celui de la tranche pr\\xE9c\\xE9dente\"));\n    }\n\n    var tranche = _objectSpread(_objectSpread({}, parsedTranche), {}, {\n      plafond,\n      plancherValue,\n      plafondValue,\n      isAfterActive,\n      isActive: assiette.nodeValue >= plancherValue && assiette.nodeValue < plafondValue\n    });\n\n    return [[...tranches, tranche], tranche.isActive];\n  }, [[], false])[0];\n}\n\n//# sourceURL=webpack://publicodes/./source/mecanisms/trancheUtils.ts?");

/***/ }),

/***/ "./source/mecanisms/utils.js":
/*!***********************************!*\
  !*** ./source/mecanisms/utils.js ***!
  \***********************************/
/*! exports provided: decompose */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"decompose\", function() { return decompose; });\n/* harmony import */ var ramda__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ramda */ \"ramda\");\n/* harmony import */ var ramda__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(ramda__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _evaluation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../evaluation */ \"./source/evaluation.tsx\");\n/* harmony import */ var _units__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../units */ \"./source/units.ts\");\n/* harmony import */ var _components_mecanisms_Composantes__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/mecanisms/Composantes */ \"./source/components/mecanisms/Composantes.js\");\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n\nvar decompose = (recurse, k, v) => {\n  var subProps = Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"dissoc\"])('composantes')(v),\n      explanation = v.composantes.map(c => _objectSpread(_objectSpread({}, recurse(Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"objOf\"])(k, _objectSpread(_objectSpread({}, subProps), Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"dissoc\"])('attributs')(c))))), {}, {\n    composante: c.nom ? {\n      nom: c.nom\n    } : c.attributs\n  }));\n\n  var filter = situation => c => !situation['sys.filter'] || !c.composante || (!c.composante['dû par'] || !['employeur', 'salarié'].includes(situation['sys.filter']) || c.composante['dû par'] == situation['sys.filter']) && (!c.composante['impôt sur le revenu'] || !['déductible', 'non déductible'].includes(situation['sys.filter']) || c.composante['impôt sur le revenu'] == situation['sys.filter']);\n\n  return {\n    explanation,\n    jsx: _components_mecanisms_Composantes__WEBPACK_IMPORTED_MODULE_3__[\"default\"],\n    evaluate: Object(_evaluation__WEBPACK_IMPORTED_MODULE_1__[\"evaluateArrayWithFilter\"])(filter, ramda__WEBPACK_IMPORTED_MODULE_0__[\"add\"], 0),\n    category: 'mecanism',\n    name: 'composantes',\n    type: 'numeric',\n    unit: Object(_units__WEBPACK_IMPORTED_MODULE_2__[\"inferUnit\"])('+', explanation.map(e => e.unit))\n  };\n};\n\n//# sourceURL=webpack://publicodes/./source/mecanisms/utils.js?");

/***/ }),

/***/ "./source/mecanisms/variableTemporelle.ts":
/*!************************************************!*\
  !*** ./source/mecanisms/variableTemporelle.ts ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return parseVariableTemporelle; });\n/* harmony import */ var _evaluation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../evaluation */ \"./source/evaluation.tsx\");\n/* harmony import */ var _temporal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../temporal */ \"./source/temporal.ts\");\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\nfunction evaluate(cache, situation, parsedRules, node) {\n  var evaluateAttribute = _evaluation__WEBPACK_IMPORTED_MODULE_0__[\"evaluateNode\"].bind(null, cache, situation, parsedRules);\n  var start = node.explanation.period.start && evaluateAttribute(node.explanation.period.start);\n  var end = node.explanation.period.end && evaluateAttribute(node.explanation.period.end);\n  var value = evaluateAttribute(node.explanation.value);\n  var period = {\n    start: (start === null || start === void 0 ? void 0 : start.nodeValue) || null,\n    end: (end === null || end === void 0 ? void 0 : end.nodeValue) || null\n  };\n  var temporalValue = value.temporalValue ? Object(_temporal__WEBPACK_IMPORTED_MODULE_1__[\"narrowTemporalValue\"])(period, value.temporalValue) : Object(_temporal__WEBPACK_IMPORTED_MODULE_1__[\"createTemporalEvaluation\"])(value.nodeValue, period); // TODO explanation missingVariables / period missing variables\n\n  return _objectSpread(_objectSpread({}, node), {}, {\n    nodeValue: Object(_temporal__WEBPACK_IMPORTED_MODULE_1__[\"temporalAverage\"])(temporalValue, value.unit),\n    temporalValue,\n    explanation: {\n      period: {\n        start,\n        end\n      },\n      value\n    },\n    unit: value.unit\n  });\n}\n\nfunction parseVariableTemporelle(parse, __, v) {\n  var explanation = parse(v.explanation);\n  return {\n    evaluate,\n    explanation: {\n      period: {\n        start: v.period.start && parse(v.period.start),\n        end: v.period.end && parse(v.period.end)\n      },\n      value: explanation\n    },\n    unit: explanation.unit\n  };\n}\n\n//# sourceURL=webpack://publicodes/./source/mecanisms/variableTemporelle.ts?");

/***/ }),

/***/ "./source/mecanisms/variations.ts":
/*!****************************************!*\
  !*** ./source/mecanisms/variations.ts ***!
  \****************************************/
/*! exports provided: default, devariateExplanation */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return parse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"devariateExplanation\", function() { return devariateExplanation; });\n/* harmony import */ var ramda__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ramda */ \"ramda\");\n/* harmony import */ var ramda__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(ramda__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _components_mecanisms_Variations__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/mecanisms/Variations */ \"./source/components/mecanisms/Variations.js\");\n/* harmony import */ var _error__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../error */ \"./source/error.ts\");\n/* harmony import */ var _evaluation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../evaluation */ \"./source/evaluation.tsx\");\n/* harmony import */ var _nodeUnits__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../nodeUnits */ \"./source/nodeUnits.ts\");\n/* harmony import */ var _temporal__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../temporal */ \"./source/temporal.ts\");\n/* harmony import */ var _units__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../units */ \"./source/units.ts\");\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n\n\n\n\n\n\n\n\n/* @devariate = true => This function will produce variations of a same mecanism (e.g. product) that share some common properties */\n\nfunction parse(recurse, k, v, devariate) {\n  var explanation = devariate ? devariateExplanation(recurse, k, v) : v.map((_ref) => {\n    var {\n      si,\n      alors,\n      sinon\n    } = _ref;\n    return sinon !== undefined ? {\n      consequence: recurse(sinon),\n      condition: Object(_evaluation__WEBPACK_IMPORTED_MODULE_3__[\"defaultNode\"])(true)\n    } : {\n      consequence: recurse(alors),\n      condition: recurse(si)\n    };\n  }); // TODO - find an appropriate representation\n\n  return {\n    explanation,\n    evaluate,\n    jsx: _components_mecanisms_Variations__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n    category: 'mecanism',\n    name: 'variations',\n    type: 'numeric',\n    unit: Object(_units__WEBPACK_IMPORTED_MODULE_6__[\"inferUnit\"])('+', explanation.map(r => r.consequence.unit))\n  };\n}\nvar devariateExplanation = (recurse, mecanismKey, v) => {\n  var {\n    variations\n  } = v,\n      fixedProps = _objectWithoutProperties(v, [\"variations\"]);\n\n  var explanation = variations.map(variation => ({\n    condition: 'sinon' in variation ? Object(_evaluation__WEBPACK_IMPORTED_MODULE_3__[\"defaultNode\"])(true) : recurse(variation.si),\n    consequence: recurse({\n      [mecanismKey]: _objectSpread(_objectSpread({}, fixedProps), 'sinon' in variation ? variation.sinon : variation.alors)\n    })\n  }));\n  return explanation;\n};\n\nfunction evaluate(cache, situation, parsedRules, node) {\n  var evaluate = _evaluation__WEBPACK_IMPORTED_MODULE_3__[\"evaluateNode\"].bind(null, cache, situation, parsedRules);\n  var [temporalValue, explanation, unit] = node.explanation.reduce((_ref2, _ref3, i) => {\n    var _evaluatedCondition$t, _evaluatedConsequence;\n\n    var [evaluation, explanations, unit, previousConditions] = _ref2;\n    var {\n      condition,\n      consequence\n    } = _ref3;\n    var previousConditionsAlwaysTrue = !Object(_temporal__WEBPACK_IMPORTED_MODULE_5__[\"sometime\"])(value => value !== true, previousConditions);\n\n    if (previousConditionsAlwaysTrue) {\n      return [evaluation, [...explanations, {\n        condition,\n        consequence\n      }], unit, previousConditions];\n    }\n\n    var evaluatedCondition = evaluate(condition);\n    var currentCondition = Object(_temporal__WEBPACK_IMPORTED_MODULE_5__[\"liftTemporal2\"])((previousCond, currentCond) => previousCond === null ? previousCond : !previousCond && currentCond, previousConditions, (_evaluatedCondition$t = evaluatedCondition.temporalValue) !== null && _evaluatedCondition$t !== void 0 ? _evaluatedCondition$t : Object(_temporal__WEBPACK_IMPORTED_MODULE_5__[\"pureTemporal\"])(evaluatedCondition.nodeValue));\n    evaluatedCondition.missingVariables = Object(_evaluation__WEBPACK_IMPORTED_MODULE_3__[\"bonus\"])(evaluatedCondition.missingVariables, true);\n    var currentConditionAlwaysFalse = !Object(_temporal__WEBPACK_IMPORTED_MODULE_5__[\"sometime\"])(x => x !== false, currentCondition);\n\n    if (currentConditionAlwaysFalse) {\n      return [evaluation, [...explanations, {\n        condition: evaluatedCondition,\n        consequence\n      }], unit, previousConditions];\n    }\n\n    var evaluatedConsequence = evaluate(consequence);\n\n    try {\n      evaluatedConsequence = Object(_nodeUnits__WEBPACK_IMPORTED_MODULE_4__[\"convertNodeToUnit\"])(unit, evaluatedConsequence);\n    } catch (e) {\n      return Object(_error__WEBPACK_IMPORTED_MODULE_2__[\"typeWarning\"])(cache._meta.contexRule, \"L'unit\\xE9 de la branche n\\xB0 \".concat(i, \" du m\\xE9canisme 'variations' n'est pas compatible avec celle d'une branche pr\\xE9c\\xE9dente\"), e);\n    }\n\n    var currentValue = Object(_temporal__WEBPACK_IMPORTED_MODULE_5__[\"liftTemporal2\"])((cond, value) => cond && value, currentCondition, (_evaluatedConsequence = evaluatedConsequence.temporalValue) !== null && _evaluatedConsequence !== void 0 ? _evaluatedConsequence : Object(_temporal__WEBPACK_IMPORTED_MODULE_5__[\"pureTemporal\"])(evaluatedConsequence.nodeValue));\n    return [Object(_temporal__WEBPACK_IMPORTED_MODULE_5__[\"liftTemporal2\"])(ramda__WEBPACK_IMPORTED_MODULE_0__[\"or\"], evaluation, currentValue), [...explanations, {\n      condition: evaluatedCondition,\n      satisfied: !!evaluatedCondition.nodeValue,\n      consequence: evaluatedConsequence\n    }], unit || evaluatedConsequence.unit, Object(_temporal__WEBPACK_IMPORTED_MODULE_5__[\"liftTemporal2\"])(ramda__WEBPACK_IMPORTED_MODULE_0__[\"or\"], previousConditions, currentCondition)];\n  }, [Object(_temporal__WEBPACK_IMPORTED_MODULE_5__[\"pureTemporal\"])(false), [], node.unit, Object(_temporal__WEBPACK_IMPORTED_MODULE_5__[\"pureTemporal\"])(false)]);\n  var nodeValue = Object(_temporal__WEBPACK_IMPORTED_MODULE_5__[\"temporalAverage\"])(temporalValue, unit);\n  var missingVariables = Object(_evaluation__WEBPACK_IMPORTED_MODULE_3__[\"mergeAllMissing\"])(explanation.reduce((values, _ref4) => {\n    var {\n      condition,\n      consequence\n    } = _ref4;\n    return [...values, condition, consequence];\n  }, []));\n  return _objectSpread(_objectSpread({}, node), {}, {\n    nodeValue,\n    unit,\n    explanation,\n    missingVariables\n  }, temporalValue.length > 1 && {\n    temporalValue\n  });\n}\n\n//# sourceURL=webpack://publicodes/./source/mecanisms/variations.ts?");

/***/ }),

/***/ "./source/nodeUnits.ts":
/*!*****************************!*\
  !*** ./source/nodeUnits.ts ***!
  \*****************************/
/*! exports provided: simplifyNodeUnit, convertNodeToUnit */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"simplifyNodeUnit\", function() { return simplifyNodeUnit; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"convertNodeToUnit\", function() { return convertNodeToUnit; });\n/* harmony import */ var _temporal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./temporal */ \"./source/temporal.ts\");\n/* harmony import */ var _units__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./units */ \"./source/units.ts\");\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\nfunction simplifyNodeUnit(node) {\n  if (!node.unit) {\n    return node;\n  }\n\n  var unit = Object(_units__WEBPACK_IMPORTED_MODULE_1__[\"simplifyUnit\"])(node.unit);\n  return convertNodeToUnit(unit, node);\n}\nfunction convertNodeToUnit(to, node) {\n  var temporalValue = node.temporalValue && node.unit ? Object(_temporal__WEBPACK_IMPORTED_MODULE_0__[\"mapTemporal\"])(value => Object(_units__WEBPACK_IMPORTED_MODULE_1__[\"convertUnit\"])(node.unit, to, value), node.temporalValue) : node.temporalValue;\n  return _objectSpread(_objectSpread(_objectSpread({}, node), {}, {\n    nodeValue: node.unit ? Object(_units__WEBPACK_IMPORTED_MODULE_1__[\"convertUnit\"])(node.unit, to, node.nodeValue) : node.nodeValue\n  }, temporalValue && {\n    temporalValue\n  }), {}, {\n    unit: to\n  });\n}\n\n//# sourceURL=webpack://publicodes/./source/nodeUnits.ts?");

/***/ }),

/***/ "./source/parse.tsx":
/*!**************************!*\
  !*** ./source/parse.tsx ***!
  \**************************/
/*! exports provided: parse */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"parse\", function() { return parse; });\n/* harmony import */ var _mecanisms_arrondi__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./mecanisms/arrondi */ \"./source/mecanisms/arrondi.tsx\");\n/* harmony import */ var _mecanisms_bar_me__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./mecanisms/barème */ \"./source/mecanisms/barème.ts\");\n/* harmony import */ var _mecanisms_dur_e__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./mecanisms/durée */ \"./source/mecanisms/durée.tsx\");\n/* harmony import */ var _mecanisms_encadrement__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./mecanisms/encadrement */ \"./source/mecanisms/encadrement.tsx\");\n/* harmony import */ var _mecanisms_grille__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./mecanisms/grille */ \"./source/mecanisms/grille.ts\");\n/* harmony import */ var _mecanisms_operation__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./mecanisms/operation */ \"./source/mecanisms/operation.js\");\n/* harmony import */ var _mecanisms_r_gularisation__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./mecanisms/régularisation */ \"./source/mecanisms/régularisation.ts\");\n/* harmony import */ var _mecanisms_tauxProgressif__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./mecanisms/tauxProgressif */ \"./source/mecanisms/tauxProgressif.ts\");\n/* harmony import */ var _mecanisms_variableTemporelle__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./mecanisms/variableTemporelle */ \"./source/mecanisms/variableTemporelle.ts\");\n/* harmony import */ var _mecanisms_variations__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./mecanisms/variations */ \"./source/mecanisms/variations.ts\");\n/* harmony import */ var nearley__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! nearley */ \"nearley\");\n/* harmony import */ var nearley__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(nearley__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var ramda__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ramda */ \"ramda\");\n/* harmony import */ var ramda__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(ramda__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _error__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./error */ \"./source/error.ts\");\n/* harmony import */ var _format__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./format */ \"./source/format.ts\");\n/* harmony import */ var _grammar_ne__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./grammar.ne */ \"./source/grammar.ne\");\n/* harmony import */ var _grammar_ne__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(_grammar_ne__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var _mecanisms__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./mecanisms */ \"./source/mecanisms.tsx\");\n/* harmony import */ var _parseReference__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./parseReference */ \"./source/parseReference.js\");\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n// This should be the new way to implement mecanisms\n// In a specific file\n// TODO import them automatically\n// TODO convert the legacy functions to new files\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar parse = (rules, rule, parsedRules) => rawNode => {\n  var _parsedNode$evaluate;\n\n  if (rawNode == null) {\n    Object(_error__WEBPACK_IMPORTED_MODULE_13__[\"syntaxError\"])(rule.dottedName, \"\\nUne des valeurs de la formule est vide.\\nV\\xE9rifiez que tous les champs \\xE0 droite des deux points sont remplis\");\n  }\n\n  if (typeof rawNode === 'boolean') {\n    Object(_error__WEBPACK_IMPORTED_MODULE_13__[\"syntaxError\"])(rule.dottedName, \"\\nLes valeure bool\\xE9enes true / false ne sont accept\\xE9e.\\nUtilisez leur contrepartie fran\\xE7aise : 'oui' / 'non'\");\n  }\n\n  var node = typeof rawNode === 'object' ? rawNode : parseExpression(rule, '' + rawNode);\n  var parsedNode = parseMecanism(rules, rule, parsedRules)(node);\n  parsedNode.evaluate = (_parsedNode$evaluate = parsedNode.evaluate) !== null && _parsedNode$evaluate !== void 0 ? _parsedNode$evaluate : (_, __, ___, node) => node;\n  return parsedNode;\n};\nvar compiledGrammar = nearley__WEBPACK_IMPORTED_MODULE_10__[\"Grammar\"].fromCompiled(_grammar_ne__WEBPACK_IMPORTED_MODULE_15___default.a);\n\nvar parseExpression = (rule, rawNode) => {\n  /* Strings correspond to infix expressions.\n   * Indeed, a subset of expressions like simple arithmetic operations `3 + (quantity * 2)` or like `salary [month]` are more explicit that their prefixed counterparts.\n   * This function makes them prefixed operations. */\n  try {\n    var [parseResult] = new nearley__WEBPACK_IMPORTED_MODULE_10__[\"Parser\"](compiledGrammar).feed(rawNode).results;\n    return parseResult;\n  } catch (e) {\n    Object(_error__WEBPACK_IMPORTED_MODULE_13__[\"syntaxError\"])(rule.dottedName, \"`\".concat(rawNode, \"` n'est pas une expression valide\"), e);\n  }\n};\n\nvar parseMecanism = (rules, rule, parsedRules) => rawNode => {\n  if (Array.isArray(rawNode)) {\n    Object(_error__WEBPACK_IMPORTED_MODULE_13__[\"syntaxError\"])(rule.dottedName, \"\\nIl manque le nom du m\\xE9canisme pour le tableau : [\".concat(rawNode.map(x => \"'\".concat(x, \"'\")).join(', '), \"]\\nLes m\\xE9canisme possibles sont : 'somme', 'le maximum de', 'le minimum de', 'toutes ces conditions', 'une de ces conditions'.\\n\\t\\t\"));\n  }\n\n  var keys = Object.keys(rawNode);\n  var unchainableMecanisms = Object(ramda__WEBPACK_IMPORTED_MODULE_11__[\"difference\"])(keys, chainableMecanisms);\n\n  if (keys.length > 1) {\n    if (unchainableMecanisms.length > 1) {\n      Object(_error__WEBPACK_IMPORTED_MODULE_13__[\"syntaxError\"])(rule.dottedName, \"\\nLes m\\xE9canismes suivants se situent au m\\xEAme niveau : \".concat(unchainableMecanisms.map(x => \"'\".concat(x, \"'\")).join(', '), \"\\nCela vient probablement d'une erreur dans l'indentation\\n\\t\\t\"));\n    }\n\n    return parseChainedMecanisms(rules, rule, parsedRules, rawNode);\n  }\n\n  var mecanismName = Object.keys(rawNode)[0];\n  var values = rawNode[mecanismName];\n\n  var parseFunctions = _objectSpread(_objectSpread({}, statelessParseFunction), {}, {\n    'une possibilité': Object(_mecanisms__WEBPACK_IMPORTED_MODULE_16__[\"mecanismOnePossibility\"])(rule.dottedName),\n    'inversion numérique': Object(_mecanisms__WEBPACK_IMPORTED_MODULE_16__[\"mecanismInversion\"])(rule.dottedName),\n    recalcul: Object(_mecanisms__WEBPACK_IMPORTED_MODULE_16__[\"mecanismRecalcul\"])(rule.dottedName),\n    filter: () => Object(_parseReference__WEBPACK_IMPORTED_MODULE_17__[\"parseReferenceTransforms\"])(rules, rule, parsedRules)({\n      filter: values.filter,\n      variable: values.explanation\n    }),\n    variable: () => Object(_parseReference__WEBPACK_IMPORTED_MODULE_17__[\"parseReferenceTransforms\"])(rules, rule, parsedRules)({\n      variable: values\n    }),\n    unitConversion: () => Object(_parseReference__WEBPACK_IMPORTED_MODULE_17__[\"parseReferenceTransforms\"])(rules, rule, parsedRules)({\n      variable: values.explanation,\n      unit: values.unit\n    })\n  });\n\n  var parseFn = parseFunctions[mecanismName];\n\n  if (!parseFn) {\n    Object(_error__WEBPACK_IMPORTED_MODULE_13__[\"syntaxError\"])(rule.dottedName, \"\\nLe m\\xE9canisme \".concat(mecanismName, \" est inconnu.\\nV\\xE9rifiez qu'il n'y ait pas d'erreur dans l'orthographe du nom.\"));\n  }\n\n  try {\n    return parseFn(parse(rules, rule, parsedRules), mecanismName, values);\n  } catch (e) {\n    if (e instanceof _error__WEBPACK_IMPORTED_MODULE_13__[\"EngineError\"]) {\n      throw e;\n    }\n\n    Object(_error__WEBPACK_IMPORTED_MODULE_13__[\"syntaxError\"])(rule.dottedName, e.message);\n  }\n};\n\nvar chainableMecanisms = ['arrondi', 'plancher', 'plafond'];\n\nfunction parseChainedMecanisms(rules, rule, parsedRules, rawNode) {\n  var keys = Object.keys(rawNode);\n  var recurse = parseMecanism(rules, rule, parsedRules);\n\n  if (keys.includes('arrondi')) {\n    return recurse(Object(_mecanisms_arrondi__WEBPACK_IMPORTED_MODULE_0__[\"unchainRoundMecanism\"])(parse(rules, rule, parsedRules), rawNode));\n  } else if (keys.includes('plancher')) {\n    var {\n      plancher\n    } = rawNode,\n        valeur = _objectWithoutProperties(rawNode, [\"plancher\"]);\n\n    return recurse({\n      encadrement: {\n        valeur,\n        plancher\n      }\n    });\n  } else if (keys.includes('plafond')) {\n    var {\n      plafond\n    } = rawNode,\n        valeur = _objectWithoutProperties(rawNode, [\"plafond\"]);\n\n    return recurse({\n      encadrement: {\n        valeur,\n        plafond\n      }\n    });\n  }\n}\n\nvar knownOperations = {\n  '*': [ramda__WEBPACK_IMPORTED_MODULE_11__[\"multiply\"], '×'],\n  '/': [ramda__WEBPACK_IMPORTED_MODULE_11__[\"divide\"], '∕'],\n  '+': [ramda__WEBPACK_IMPORTED_MODULE_11__[\"add\"]],\n  '-': [ramda__WEBPACK_IMPORTED_MODULE_11__[\"subtract\"], '−'],\n  '<': [ramda__WEBPACK_IMPORTED_MODULE_11__[\"lt\"]],\n  '<=': [ramda__WEBPACK_IMPORTED_MODULE_11__[\"lte\"], '≤'],\n  '>': [ramda__WEBPACK_IMPORTED_MODULE_11__[\"gt\"]],\n  '>=': [ramda__WEBPACK_IMPORTED_MODULE_11__[\"gte\"], '≥'],\n  '=': [ramda__WEBPACK_IMPORTED_MODULE_11__[\"equals\"]],\n  '!=': [(a, b) => !Object(ramda__WEBPACK_IMPORTED_MODULE_11__[\"equals\"])(a, b), '≠']\n};\nvar operationDispatch = Object(ramda__WEBPACK_IMPORTED_MODULE_11__[\"fromPairs\"])(Object.entries(knownOperations).map((_ref) => {\n  var [k, [f, symbol]] = _ref;\n  return [k, Object(_mecanisms_operation__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(k, f, symbol)];\n}));\n\nvar statelessParseFunction = _objectSpread(_objectSpread({}, operationDispatch), {}, {\n  'une de ces conditions': _mecanisms__WEBPACK_IMPORTED_MODULE_16__[\"mecanismOneOf\"],\n  'toutes ces conditions': _mecanisms__WEBPACK_IMPORTED_MODULE_16__[\"mecanismAllOf\"],\n  somme: _mecanisms__WEBPACK_IMPORTED_MODULE_16__[\"mecanismSum\"],\n  régularisation: _mecanisms_r_gularisation__WEBPACK_IMPORTED_MODULE_6__[\"default\"],\n  multiplication: _mecanisms__WEBPACK_IMPORTED_MODULE_16__[\"mecanismProduct\"],\n  produit: _mecanisms__WEBPACK_IMPORTED_MODULE_16__[\"mecanismProduct\"],\n  temporalValue: _mecanisms_variableTemporelle__WEBPACK_IMPORTED_MODULE_8__[\"default\"],\n  arrondi: _mecanisms_arrondi__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n  barème: _mecanisms_bar_me__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n  grille: _mecanisms_grille__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\n  'taux progressif': _mecanisms_tauxProgressif__WEBPACK_IMPORTED_MODULE_7__[\"default\"],\n  encadrement: _mecanisms_encadrement__WEBPACK_IMPORTED_MODULE_3__[\"default\"],\n  durée: _mecanisms_dur_e__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\n  'le maximum de': _mecanisms__WEBPACK_IMPORTED_MODULE_16__[\"mecanismMax\"],\n  'le minimum de': _mecanisms__WEBPACK_IMPORTED_MODULE_16__[\"mecanismMin\"],\n  allègement: _mecanisms__WEBPACK_IMPORTED_MODULE_16__[\"mecanismReduction\"],\n  variations: _mecanisms_variations__WEBPACK_IMPORTED_MODULE_9__[\"default\"],\n  synchronisation: _mecanisms__WEBPACK_IMPORTED_MODULE_16__[\"mecanismSynchronisation\"],\n  valeur: (recurse, __, v) => recurse(v),\n  constant: (_, __, v) => ({\n    type: v.type,\n    constant: true,\n    nodeValue: v.nodeValue,\n    unit: v.unit,\n    // eslint-disable-next-line\n    jsx: (_ref2) => {\n      var {\n        nodeValue,\n        unit\n      } = _ref2;\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(\"span\", {\n        className: v.type\n      }, Object(_format__WEBPACK_IMPORTED_MODULE_14__[\"formatValue\"])({\n        unit,\n        nodeValue,\n        language: 'fr',\n        // We want to display constants with full precision,\n        // espacilly for percentages like APEC 0,036 %\n        precision: 5\n      }));\n    }\n  })\n});\n\n//# sourceURL=webpack://publicodes/./source/parse.tsx?");

/***/ }),

/***/ "./source/parseReference.js":
/*!**********************************!*\
  !*** ./source/parseReference.js ***!
  \**********************************/
/*! exports provided: parseReference, parseReferenceTransforms */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"parseReference\", function() { return parseReference; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"parseReferenceTransforms\", function() { return parseReferenceTransforms; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _components_mecanisms_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./components/mecanisms/common */ \"./source/components/mecanisms/common.tsx\");\n/* harmony import */ var _error__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./error */ \"./source/error.ts\");\n/* harmony import */ var _evaluateRule__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./evaluateRule */ \"./source/evaluateRule.ts\");\n/* harmony import */ var _evaluation__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./evaluation */ \"./source/evaluation.tsx\");\n/* harmony import */ var _getSituationValue__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./getSituationValue */ \"./source/getSituationValue.js\");\n/* harmony import */ var _nodeUnits__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./nodeUnits */ \"./source/nodeUnits.ts\");\n/* harmony import */ var _parseRule__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./parseRule */ \"./source/parseRule.tsx\");\n/* harmony import */ var _ruleUtils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./ruleUtils */ \"./source/ruleUtils.ts\");\n/* harmony import */ var _units__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./units */ \"./source/units.ts\");\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n\n\n\n\n\n\n\n\nvar getApplicableReplacements = (filter, contextRuleName, cache, situation, rules, rule) => {\n  var missingVariableList = [];\n  var applicableReplacements = rule.replacedBy.sort((replacement1, replacement2) => !!replacement2.whiteListedNames - !!replacement1.whiteListedNames) // Remove remplacement not in whitelist\n  .filter((_ref) => {\n    var {\n      whiteListedNames\n    } = _ref;\n    return !whiteListedNames || whiteListedNames.some(name => contextRuleName.startsWith(name));\n  }).filter((_ref2) => {\n    var {\n      blackListedNames\n    } = _ref2;\n    return !blackListedNames || blackListedNames.every(name => !contextRuleName.startsWith(name));\n  }).filter((_ref3) => {\n    var {\n      referenceNode\n    } = _ref3;\n    return contextRuleName !== referenceNode.dottedName;\n  }) // Remove remplacement defined in a not applicable node\n  .filter((_ref4) => {\n    var {\n      referenceNode\n    } = _ref4;\n    var referenceRule = rules[referenceNode.dottedName];\n    var {\n      nodeValue: isApplicable,\n      missingVariables\n    } = Object(_evaluateRule__WEBPACK_IMPORTED_MODULE_3__[\"evaluateApplicability\"])(cache, situation, rules, referenceRule);\n    missingVariableList.push(missingVariables);\n    return isApplicable;\n  }) // Remove remplacement defined in a node whose situation value is false\n  .filter((_ref5) => {\n    var {\n      referenceNode\n    } = _ref5;\n    var referenceRule = rules[referenceNode.dottedName];\n    var situationValue = Object(_getSituationValue__WEBPACK_IMPORTED_MODULE_5__[\"getSituationValue\"])(situation, referenceRule.dottedName, referenceRule);\n\n    if (referenceNode.question && situationValue == null) {\n      missingVariableList.push({\n        [referenceNode.dottedName]: 1\n      });\n    }\n\n    return (situationValue === null || situationValue === void 0 ? void 0 : situationValue.nodeValue) !== false;\n  }) // Remove remplacement defined in a boolean node whose evaluated value is false\n  .filter((_ref6) => {\n    var _referenceRule$formul, _referenceRule$formul2;\n\n    var {\n      referenceNode\n    } = _ref6;\n    var referenceRule = rules[referenceNode.dottedName];\n\n    if (((_referenceRule$formul = referenceRule.formule) === null || _referenceRule$formul === void 0 ? void 0 : (_referenceRule$formul2 = _referenceRule$formul.explanation) === null || _referenceRule$formul2 === void 0 ? void 0 : _referenceRule$formul2.operationType) !== 'comparison') {\n      return true;\n    }\n\n    var {\n      nodeValue: isApplicable,\n      missingVariables\n    } = Object(_evaluation__WEBPACK_IMPORTED_MODULE_4__[\"evaluateNode\"])(cache, situation, rules, referenceRule);\n    missingVariableList.push(missingVariables);\n    return isApplicable;\n  }).map((_ref7) => {\n    var {\n      referenceNode,\n      replacementNode\n    } = _ref7;\n    return replacementNode != null ? Object(_evaluation__WEBPACK_IMPORTED_MODULE_4__[\"evaluateNode\"])(cache, situation, rules, replacementNode) : evaluateReference(filter)(cache, situation, rules, referenceNode);\n  }).map(replacementNode => {\n    var replacedRuleUnit = rule.unit;\n\n    if (!Object(_units__WEBPACK_IMPORTED_MODULE_9__[\"areUnitConvertible\"])(replacementNode.unit, replacedRuleUnit)) {\n      Object(_error__WEBPACK_IMPORTED_MODULE_2__[\"typeWarning\"])(contextRuleName, \"L'unit\\xE9 de la r\\xE8gle de remplacement n'est pas compatible avec celle de la r\\xE8gle remplac\\xE9e \".concat(rule.dottedName));\n    }\n\n    return _objectSpread(_objectSpread({}, replacementNode), {}, {\n      unit: replacementNode.unit || replacedRuleUnit\n    });\n  });\n  missingVariableList = missingVariableList.filter(missingVariables => !!Object.keys(missingVariables).length);\n  return [applicableReplacements, missingVariableList];\n};\n\nvar evaluateReference = (filter, contextRuleName) => (cache, situation, rules, node) => {\n  var rule = rules[node.dottedName]; // When a rule exists in different version (created using the `replace` mecanism), we add\n  // a redirection in the evaluation of references to use a potential active replacement\n\n  var [applicableReplacements, replacementMissingVariableList] = getApplicableReplacements(filter, contextRuleName, cache, situation, rules, rule);\n\n  if (applicableReplacements.length) {\n    if (applicableReplacements.length > 1) {\n      console.warn(\"\\nR\\xE8gle \".concat(rule.dottedName, \": plusieurs remplacements valides ont \\xE9t\\xE9 trouv\\xE9s : \\n\\n\\t\").concat(applicableReplacements.map(node => node.rawNode).join('\\n\\t'), \" \\n\\nPar d\\xE9faut, seul le premier s'applique. Si vous voulez un autre comportement, vous pouvez : \\n\\t- Restreindre son applicabilit\\xE9 via \\\"applicable si\\\" sur la r\\xE8gle de d\\xE9finition\\n\\t- Restreindre sa port\\xE9e en ajoutant une liste blanche (via le mot cl\\xE9 \\\"dans\\\") ou une liste noire (via le mot cl\\xE9 \\\"sauf dans\\\")\\n\"));\n    }\n\n    return applicableReplacements[0];\n  }\n\n  var addReplacementMissingVariable = node => _objectSpread(_objectSpread({}, node), {}, {\n    missingVariables: replacementMissingVariableList.reduce(_evaluation__WEBPACK_IMPORTED_MODULE_4__[\"mergeMissing\"], node.missingVariables)\n  });\n\n  var dottedName = node.dottedName,\n      // On va vérifier dans le cache courant, dict, si la variable n'a pas été déjà évaluée\n  // En effet, l'évaluation dans le cas d'une variable qui a une formule, est coûteuse !\n  cacheName = dottedName + (filter ? ' .' + filter : ''),\n      cached = cache[cacheName];\n  if (cached) return addReplacementMissingVariable(cached);\n\n  var cacheNode = (nodeValue, missingVariables, explanation) => {\n    cache[cacheName] = _objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({}, node), {}, {\n      nodeValue\n    }, explanation && {\n      explanation\n    }), (explanation === null || explanation === void 0 ? void 0 : explanation.temporalValue) && {\n      temporalValue: explanation.temporalValue\n    }), (explanation === null || explanation === void 0 ? void 0 : explanation.unit) && {\n      unit: explanation.unit\n    }), {}, {\n      missingVariables\n    });\n    return addReplacementMissingVariable(cache[cacheName]);\n  };\n\n  var applicabilityEvaluation = Object(_evaluateRule__WEBPACK_IMPORTED_MODULE_3__[\"evaluateApplicability\"])(cache, situation, rules, rule);\n\n  if (!applicabilityEvaluation.nodeValue) {\n    return cacheNode(applicabilityEvaluation.nodeValue, applicabilityEvaluation.missingVariables, applicabilityEvaluation);\n  }\n\n  var situationValue = Object(_getSituationValue__WEBPACK_IMPORTED_MODULE_5__[\"getSituationValue\"])(situation, dottedName, rule);\n\n  if (situationValue != null) {\n    var unit = !situationValue.unit || Object(_units__WEBPACK_IMPORTED_MODULE_9__[\"serializeUnit\"])(situationValue.unit) === '' ? rule.unit : situationValue.unit;\n    return cacheNode((situationValue === null || situationValue === void 0 ? void 0 : situationValue.nodeValue) !== undefined ? situationValue.nodeValue : situationValue, applicabilityEvaluation.missingVariables, _objectSpread(_objectSpread(_objectSpread({}, rule), (situationValue === null || situationValue === void 0 ? void 0 : situationValue.nodeValue) !== undefined && situationValue), {}, {\n      unit\n    }));\n  }\n\n  if (rule.formule != null) {\n    var evaluation = Object(_evaluation__WEBPACK_IMPORTED_MODULE_4__[\"evaluateNode\"])(cache, situation, rules, rule);\n    return cacheNode(evaluation.nodeValue, evaluation.missingVariables, evaluation, evaluation.temporalValue);\n  }\n\n  return cacheNode(null, {\n    [dottedName]: rule.defaultValue ? 1 : 2\n  });\n};\n\nvar parseReference = (rules, rule, parsedRules, filter) => partialReference => {\n  var _rule$formule;\n\n  var dottedName = Object(_ruleUtils__WEBPACK_IMPORTED_MODULE_8__[\"disambiguateRuleReference\"])(rules, rule.dottedName, partialReference);\n  var inInversionFormula = (_rule$formule = rule.formule) === null || _rule$formule === void 0 ? void 0 : _rule$formule['inversion numérique'];\n  var parsedRule = parsedRules[dottedName] || // the 'inversion numérique' formula should not exist. The instructions to the evaluation should be enough to infer that an inversion is necessary (assuming it is possible, the client decides this)\n  !inInversionFormula && Object(_parseRule__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(rules, dottedName, parsedRules);\n  var unit = parsedRule.unit;\n  return {\n    evaluate: evaluateReference(filter, rule.dottedName),\n    //eslint-disable-next-line react/display-name\n    jsx: (_ref8) => {\n      var _parsedRules$dottedNa;\n\n      var {\n        nodeValue,\n        unit: nodeUnit\n      } = _ref8;\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_mecanisms_common__WEBPACK_IMPORTED_MODULE_1__[\"Leaf\"], {\n        className: \"variable filtered\",\n        rule: parsedRules[dottedName],\n        nodeValue: nodeValue,\n        unit: nodeUnit || ((_parsedRules$dottedNa = parsedRules[dottedName]) === null || _parsedRules$dottedNa === void 0 ? void 0 : _parsedRules$dottedNa.unit) || unit\n      });\n    },\n    name: partialReference,\n    category: 'reference',\n    partialReference,\n    dottedName,\n    explanation: parsedRule,\n    unit\n  };\n}; // This function is a wrapper that can apply :\n// - unit transformations to the value of the variable.\n// See the unité-temporelle.yaml test suite for details\n// - filters on the variable to select one part of the variable's 'composantes'\n\nvar evaluateTransforms = (originalEval, rule, parseResult) => (cache, situation, parsedRules, node) => {\n  // Filter transformation\n  var filteringSituation = _objectSpread(_objectSpread({}, situation), {}, {\n    'sys.filter': parseResult.filter\n  });\n\n  var filteredNode = originalEval(cache, parseResult.filter ? filteringSituation : situation, parsedRules, node);\n  var {\n    explanation,\n    nodeValue\n  } = filteredNode;\n\n  if (!explanation || nodeValue === null) {\n    return filteredNode;\n  }\n\n  var unit = parseResult.unit;\n\n  if (unit) {\n    try {\n      return Object(_nodeUnits__WEBPACK_IMPORTED_MODULE_6__[\"convertNodeToUnit\"])(unit, filteredNode);\n    } catch (e) {\n      Object(_error__WEBPACK_IMPORTED_MODULE_2__[\"typeWarning\"])(cache._meta.contextRule, \"Impossible de convertir la reference '\".concat(filteredNode.name, \"'\"), e);\n    }\n  }\n\n  return filteredNode;\n};\n\nvar parseReferenceTransforms = (rules, rule, parsedRules) => parseResult => {\n  var referenceName = parseResult.variable.fragments.join(' . ');\n  var node = parseReference(rules, rule, parsedRules, parseResult.filter)(referenceName);\n  return _objectSpread(_objectSpread(_objectSpread({}, node), parseResult.filter ? {\n    cotisation: _objectSpread(_objectSpread({}, node.cotisation), {}, {\n      'dû par': parseResult.filter,\n      'impôt sur le revenu': parseResult.filter\n    })\n  } : {}), {}, {\n    evaluate: evaluateTransforms(node.evaluate, rule, parseResult),\n    unit: parseResult.unit || node.unit\n  });\n};\n\n//# sourceURL=webpack://publicodes/./source/parseReference.js?");

/***/ }),

/***/ "./source/parseRule.tsx":
/*!******************************!*\
  !*** ./source/parseRule.tsx ***!
  \******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var ramda__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ramda */ \"ramda\");\n/* harmony import */ var ramda__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(ramda__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-i18next */ \"react-i18next\");\n/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_i18next__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _components_mecanisms_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./components/mecanisms/common */ \"./source/components/mecanisms/common.tsx\");\n/* harmony import */ var _components_RuleLink__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./components/RuleLink */ \"./source/components/RuleLink.tsx\");\n/* harmony import */ var _error__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./error */ \"./source/error.ts\");\n/* harmony import */ var _evaluateRule__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./evaluateRule */ \"./source/evaluateRule.ts\");\n/* harmony import */ var _evaluation__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./evaluation */ \"./source/evaluation.tsx\");\n/* harmony import */ var _parse__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./parse */ \"./source/parse.tsx\");\n/* harmony import */ var _ruleUtils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./ruleUtils */ \"./source/ruleUtils.ts\");\n/* harmony import */ var _units__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./units */ \"./source/units.ts\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./utils */ \"./source/utils.ts\");\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (rules, dottedName, parsedRules) {\n  var _ref3, _parsedRule$unit, _parsedRule$formule, _parsedRule$defaultVa;\n\n  if (parsedRules[dottedName]) return parsedRules[dottedName];\n  parsedRules[dottedName] = 'being parsed';\n  /*\n  \tThe parseRule function will traverse the tree of the `rule` and produce an\n  \tAST, an object containing other objects containing other objects... Some of\n  \tthe attributes of the rule are dynamic, they need to be parsed. It is the\n  \tcase of  `non applicable si`, `applicable si`, `formule`. These attributes'\n  \tvalues themselves may have  mechanism properties (e. g. `barème`) or inline\n  \texpressions (e. g. `maVariable + 3`). These mechanisms or variables are in\n  \tturn traversed by `parse()`. During this processing, 'evaluate' and'jsx'\n  \tfunctions are attached to the objects of the AST. They will be evaluated\n  \tduring the evaluation phase, called \"analyse\".\n  */\n\n  var parentDependencies = Object(_ruleUtils__WEBPACK_IMPORTED_MODULE_9__[\"findParentDependencies\"])(rules, dottedName);\n  var rawRule = rules[dottedName];\n\n  if (rawRule == null) {\n    rawRule = {};\n  }\n\n  if (typeof rawRule === 'string') {\n    rawRule = {\n      formule: rawRule\n    };\n  }\n\n  rawRule;\n\n  if (rawRule['par défaut'] && rawRule['formule'] && !rawRule.formule['une possibilité']) {\n    throw new _error__WEBPACK_IMPORTED_MODULE_5__[\"warning\"](dottedName, 'Une règle ne peut pas avoir à la fois une formule ET une valeur par défaut.');\n  }\n\n  var name = Object(_ruleUtils__WEBPACK_IMPORTED_MODULE_9__[\"nameLeaf\"])(dottedName);\n  var unit = rawRule.unité != null ? Object(_units__WEBPACK_IMPORTED_MODULE_10__[\"parseUnit\"])(rawRule.unité) : undefined;\n\n  var rule = _objectSpread(_objectSpread({}, rawRule), {}, {\n    name,\n    dottedName,\n    type: rawRule.type,\n    title: Object(_utils__WEBPACK_IMPORTED_MODULE_11__[\"capitalise0\"])(rawRule['titre'] || name),\n    examples: rawRule['exemples'],\n    icons: rawRule['icônes'],\n    summary: rawRule['résumé'],\n    unit,\n    parentDependencies,\n    defaultValue: rawRule['par défaut']\n  });\n\n  var parsedRule = Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"evolve\"])({\n    // Voilà les attributs d'une règle qui sont aujourd'hui dynamiques, donc à traiter\n    // Les métadonnées d'une règle n'en font pas aujourd'hui partie\n    // condition d'applicabilité de la règle\n    parentDependencies: parents => parents.map(parent => {\n      var node = Object(_parse__WEBPACK_IMPORTED_MODULE_8__[\"parse\"])(rules, rule, parsedRules)(parent);\n\n      var jsx = (_ref) => {\n        var {\n          nodeValue,\n          explanation\n        } = _ref;\n        return nodeValue === null ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", null, \"Active seulement si \", Object(_evaluation__WEBPACK_IMPORTED_MODULE_7__[\"makeJsx\"])(explanation)) : nodeValue === true ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", null, \"Active car \", Object(_evaluation__WEBPACK_IMPORTED_MODULE_7__[\"makeJsx\"])(explanation)) : nodeValue === false ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", null, \"Non active car \", Object(_evaluation__WEBPACK_IMPORTED_MODULE_7__[\"makeJsx\"])(explanation)) : null;\n      };\n\n      return {\n        evaluate: (cache, situation, parsedRules) => node.evaluate(cache, situation, parsedRules, node),\n        jsx,\n        category: 'ruleProp',\n        rulePropType: 'cond',\n        name: 'parentDependencies',\n        type: 'numeric',\n        explanation: node\n      };\n    }),\n    'non applicable si': evolveCond('non applicable si', rule, rules, parsedRules),\n    'applicable si': evolveCond('applicable si', rule, rules, parsedRules),\n    'rend non applicable': nonApplicableRules => Object(_utils__WEBPACK_IMPORTED_MODULE_11__[\"coerceArray\"])(nonApplicableRules).map(referenceName => {\n      return Object(_ruleUtils__WEBPACK_IMPORTED_MODULE_9__[\"disambiguateRuleReference\"])(rules, dottedName, referenceName);\n    }),\n    remplace: evolveReplacement(rules, rule, parsedRules),\n    defaultValue: value => typeof value === 'string' ? Object(_parse__WEBPACK_IMPORTED_MODULE_8__[\"parse\"])(rules, rule, parsedRules)(value) : value,\n    formule: value => {\n      var evaluate = (cache, situation, parsedRules, node) => {\n        var explanation = Object(_evaluation__WEBPACK_IMPORTED_MODULE_7__[\"evaluateNode\"])(cache, situation, parsedRules, node.explanation),\n            {\n          nodeValue,\n          unit,\n          missingVariables,\n          temporalValue\n        } = explanation;\n        return _objectSpread(_objectSpread({}, node), {}, {\n          nodeValue,\n          unit,\n          missingVariables,\n          explanation,\n          temporalValue\n        });\n      };\n\n      var child = Object(_parse__WEBPACK_IMPORTED_MODULE_8__[\"parse\"])(rules, rule, parsedRules)(value);\n\n      var jsx = (_ref2) => {\n        var {\n          explanation\n        } = _ref2;\n        return Object(_evaluation__WEBPACK_IMPORTED_MODULE_7__[\"makeJsx\"])(explanation);\n      };\n\n      return {\n        evaluate,\n        jsx,\n        category: 'ruleProp',\n        rulePropType: 'formula',\n        name: 'formule',\n        unit: child.unit,\n        explanation: child\n      };\n    },\n    contrôles: Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"map\"])(control => {\n      var testExpression = Object(_parse__WEBPACK_IMPORTED_MODULE_8__[\"parse\"])(rules, rule, parsedRules)(control.si);\n      if (!testExpression.explanation && !(testExpression.category === 'reference')) throw new Error('Ce contrôle ne semble pas être compris :' + control['si']);\n      return {\n        dottedName: dottedName,\n        level: control['niveau'],\n        test: control['si'],\n        message: control['message'],\n        testExpression,\n        solution: control['solution']\n      };\n    })\n  })(rule);\n  parsedRules[dottedName] = _objectSpread(_objectSpread({}, parsedRule), {}, {\n    evaluate: _evaluateRule__WEBPACK_IMPORTED_MODULE_6__[\"default\"],\n    parsed: true,\n    unit: (_ref3 = (_parsedRule$unit = parsedRule.unit) !== null && _parsedRule$unit !== void 0 ? _parsedRule$unit : ((_parsedRule$formule = parsedRule.formule) === null || _parsedRule$formule === void 0 ? void 0 : _parsedRule$formule.unit) && Object(_units__WEBPACK_IMPORTED_MODULE_10__[\"simplifyUnit\"])(parsedRule.formule.unit)) !== null && _ref3 !== void 0 ? _ref3 : (_parsedRule$defaultVa = parsedRule.defaultValue) === null || _parsedRule$defaultVa === void 0 ? void 0 : _parsedRule$defaultVa.unit,\n    isDisabledBy: [],\n    replacedBy: []\n  });\n  parsedRules[dottedName]['rendu non applicable'] = {\n    evaluate: (cache, situation, parsedRules, node) => {\n      var isDisabledBy = node.explanation.isDisabledBy.map(disablerNode => Object(_evaluation__WEBPACK_IMPORTED_MODULE_7__[\"evaluateNode\"])(cache, situation, parsedRules, disablerNode));\n      var nodeValue = isDisabledBy.some(x => !!x.nodeValue);\n\n      var explanation = _objectSpread(_objectSpread({}, node.explanation), {}, {\n        isDisabledBy\n      });\n\n      return _objectSpread(_objectSpread({}, node), {}, {\n        explanation,\n        nodeValue,\n        missingVariables: Object(_evaluation__WEBPACK_IMPORTED_MODULE_7__[\"mergeAllMissing\"])(isDisabledBy)\n      });\n    },\n    jsx: (_ref4) => {\n      var {\n        explanation: {\n          isDisabledBy\n        }\n      } = _ref4;\n      return isDisabledBy.length > 0 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"h3\", null, \"Exception\", isDisabledBy.length > 1 && 's'), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"p\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react_i18next__WEBPACK_IMPORTED_MODULE_2__[\"Trans\"], null, \"Cette r\\xE8gle ne s'applique pas pour\"), \" :\", ' ', isDisabledBy.map((rule, i) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment, {\n        key: i\n      }, i > 0 && ', ', /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_RuleLink__WEBPACK_IMPORTED_MODULE_4__[\"RuleLinkWithContext\"], {\n        dottedName: dottedName\n      })))));\n    },\n    category: 'ruleProp',\n    rulePropType: 'cond',\n    name: 'rendu non applicable',\n    type: 'boolean',\n    explanation: parsedRules[dottedName]\n  };\n  return parsedRules[dottedName];\n});\n\nvar evolveCond = (dottedName, rule, rules, parsedRules) => value => {\n  var evaluate = (cache, situation, parsedRules, node) => {\n    var explanation = Object(_evaluation__WEBPACK_IMPORTED_MODULE_7__[\"evaluateNode\"])(cache, situation, parsedRules, node.explanation),\n        nodeValue = explanation.nodeValue,\n        missingVariables = explanation.missingVariables;\n    return _objectSpread(_objectSpread({}, node), {}, {\n      nodeValue,\n      explanation,\n      missingVariables\n    });\n  };\n\n  var child = Object(_parse__WEBPACK_IMPORTED_MODULE_8__[\"parse\"])(rules, rule, parsedRules)(value);\n\n  var jsx = (_ref5) => {\n    var {\n      nodeValue,\n      explanation,\n      unit\n    } = _ref5;\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components_mecanisms_common__WEBPACK_IMPORTED_MODULE_3__[\"Node\"], {\n      classes: \"ruleProp mecanism cond\",\n      name: dottedName,\n      value: nodeValue,\n      unit: unit\n    }, explanation.category === 'variable' ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(\"div\", {\n      className: \"node\"\n    }, Object(_evaluation__WEBPACK_IMPORTED_MODULE_7__[\"makeJsx\"])(explanation)) : Object(_evaluation__WEBPACK_IMPORTED_MODULE_7__[\"makeJsx\"])(explanation));\n  };\n\n  return {\n    evaluate,\n    jsx,\n    category: 'ruleProp',\n    rulePropType: 'cond',\n    dottedName,\n    type: 'boolean',\n    explanation: child\n  };\n};\n\nvar evolveReplacement = (rules, rule, parsedRules) => replacements => Object(_utils__WEBPACK_IMPORTED_MODULE_11__[\"coerceArray\"])(replacements).map(reference => {\n  var referenceName = typeof reference === 'string' ? reference : reference.règle;\n  var replacementNode = reference.par;\n\n  if (replacementNode != null) {\n    replacementNode = Object(_parse__WEBPACK_IMPORTED_MODULE_8__[\"parse\"])(rules, rule, parsedRules)(replacementNode);\n  }\n\n  var [whiteListedNames, blackListedNames] = [reference.dans, reference['sauf dans']].map(dottedName => dottedName && Object(_utils__WEBPACK_IMPORTED_MODULE_11__[\"coerceArray\"])(dottedName)).map(names => names && names.map(dottedName => Object(_ruleUtils__WEBPACK_IMPORTED_MODULE_9__[\"disambiguateRuleReference\"])(rules, rule.dottedName, dottedName)));\n  return {\n    referenceName: Object(_ruleUtils__WEBPACK_IMPORTED_MODULE_9__[\"disambiguateRuleReference\"])(rules, rule.dottedName, referenceName),\n    replacementNode,\n    whiteListedNames,\n    blackListedNames\n  };\n});\n\n//# sourceURL=webpack://publicodes/./source/parseRule.tsx?");

/***/ }),

/***/ "./source/parseRules.ts":
/*!******************************!*\
  !*** ./source/parseRules.ts ***!
  \******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return parseRules; });\n/* harmony import */ var _parseRule__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./parseRule */ \"./source/parseRule.tsx\");\n/* harmony import */ var yaml__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! yaml */ \"yaml\");\n/* harmony import */ var yaml__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(yaml__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var ramda__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ramda */ \"ramda\");\n/* harmony import */ var ramda__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(ramda__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _error__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./error */ \"./source/error.ts\");\n/* harmony import */ var _parseReference__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./parseReference */ \"./source/parseReference.js\");\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n\n\nfunction parseRules(rawRules) {\n  var rules = typeof rawRules === 'string' ? yaml__WEBPACK_IMPORTED_MODULE_1___default.a.parse(rawRules.replace(/\\t/g, '  ')) : _objectSpread({}, rawRules);\n  extractInlinedNames(rules);\n  /* First we parse each rule one by one. When a mechanism is encountered, it is\n  recursively parsed. When a reference to a variable is encountered, a\n  'variable' node is created, we don't parse variables recursively. */\n\n  var parsedRules = {};\n  /* A rule `A` can disable a rule `B` using the rule `rend non applicable: B`\n  in the definition of `A`. We need to map these exonerations to be able to\n  retreive them from `B` */\n\n  var nonApplicableMapping = {};\n  var replacedByMapping = {};\n  Object.keys(rules).map(dottedName => {\n    var parsedRule = Object(_parseRule__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(rules, dottedName, parsedRules);\n\n    if (parsedRule['rend non applicable']) {\n      nonApplicableMapping[parsedRule.dottedName] = parsedRule['rend non applicable'];\n    }\n\n    var replaceDescriptors = parsedRule['remplace'];\n\n    if (replaceDescriptors) {\n      replaceDescriptors.forEach(descriptor => {\n        var _replacedByMapping$de;\n\n        return replacedByMapping[descriptor.referenceName] = [...((_replacedByMapping$de = replacedByMapping[descriptor.referenceName]) !== null && _replacedByMapping$de !== void 0 ? _replacedByMapping$de : []), _objectSpread(_objectSpread({}, descriptor), {}, {\n          referenceName: parsedRule.dottedName\n        })];\n      });\n    }\n  });\n  Object.entries(nonApplicableMapping).forEach((_ref) => {\n    var [a, b] = _ref;\n    b.forEach(ruleName => {\n      parsedRules[ruleName].isDisabledBy.push(Object(_parseReference__WEBPACK_IMPORTED_MODULE_4__[\"parseReference\"])(rules, parsedRules[ruleName], parsedRules)(a));\n    });\n  });\n  Object.entries(replacedByMapping).forEach((_ref2) => {\n    var [a, b] = _ref2;\n    parsedRules[a].replacedBy = b.map((_ref3) => {\n      var {\n        referenceName\n      } = _ref3,\n          other = _objectWithoutProperties(_ref3, [\"referenceName\"]);\n\n      return _objectSpread({\n        referenceNode: Object(_parseReference__WEBPACK_IMPORTED_MODULE_4__[\"parseReference\"])(rules, parsedRules[referenceName], parsedRules)(referenceName)\n      }, other);\n    });\n  });\n  return parsedRules;\n} // We recursively traverse the YAML tree in order to extract named parameters\n// into their own dedicated rules, and replace the inline definition with a\n// reference to the newly created rule.\n\nfunction extractInlinedNames(rules) {\n  var extractNamesInRule = dottedName => {\n    rules[dottedName] !== null && Object.entries(rules[dottedName]).forEach(extractNamesInObject(dottedName));\n  };\n\n  var extractNamesInObject = function extractNamesInObject(dottedName) {\n    var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n    return (_ref4) => {\n      var [key, value] = _ref4;\n      var match = /\\[ref( (.+))?\\]$/.exec(key);\n\n      if (match) {\n        var _match$;\n\n        var argumentType = key.replace(match[0], '').trim();\n        var argumentName = ((_match$ = match[2]) === null || _match$ === void 0 ? void 0 : _match$.trim()) || argumentType;\n        var extractedReferenceName = \"\".concat(dottedName, \" . \").concat(argumentName);\n\n        if (typeof rules[extractedReferenceName] !== 'undefined') {\n          Object(_error__WEBPACK_IMPORTED_MODULE_3__[\"compilationError\"])(dottedName, \"Le param\\xE8tre [ref] \".concat(argumentName, \" entre en conflit avec la r\\xE8gle d\\xE9j\\xE0 existante \").concat(extractedReferenceName));\n        }\n\n        rules[extractedReferenceName] = {\n          formule: value,\n          // TODO: The `virtualRule` parameter should be used to avoid creating a\n          // dedicated documentation page.\n          virtualRule: true\n        };\n        rules[dottedName] = Object(ramda__WEBPACK_IMPORTED_MODULE_2__[\"set\"])(Object(ramda__WEBPACK_IMPORTED_MODULE_2__[\"lensPath\"])([...context, argumentType]), extractedReferenceName, rules[dottedName]);\n        extractNamesInRule(extractedReferenceName);\n      } else if (Array.isArray(value)) {\n        value.forEach((content, i) => Object.entries(content).forEach(extractNamesInObject(dottedName, [...context, key, i])));\n      } else if (value && typeof value === 'object') {\n        Object.entries(value).forEach(extractNamesInObject(dottedName, [...context, key]));\n      }\n    };\n  };\n\n  Object.keys(rules).forEach(extractNamesInRule);\n}\n\n//# sourceURL=webpack://publicodes/./source/parseRules.ts?");

/***/ }),

/***/ "./source/ruleUtils.ts":
/*!*****************************!*\
  !*** ./source/ruleUtils.ts ***!
  \*****************************/
/*! exports provided: splitName, joinName, parentName, nameLeaf, encodeRuleName, decodeRuleName, ruleParents, disambiguateRuleReference, findParentDependencies */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"splitName\", function() { return splitName; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"joinName\", function() { return joinName; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"parentName\", function() { return parentName; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"nameLeaf\", function() { return nameLeaf; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"encodeRuleName\", function() { return encodeRuleName; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"decodeRuleName\", function() { return decodeRuleName; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ruleParents\", function() { return ruleParents; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"disambiguateRuleReference\", function() { return disambiguateRuleReference; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"findParentDependencies\", function() { return findParentDependencies; });\n/* harmony import */ var ramda__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ramda */ \"ramda\");\n/* harmony import */ var ramda__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(ramda__WEBPACK_IMPORTED_MODULE_0__);\n\nvar splitName = str => str.split(' . ');\nvar joinName = strs => strs.join(' . ');\nvar parentName = Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"pipe\"])(splitName, Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"dropLast\"])(1), joinName);\nvar nameLeaf = Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"pipe\"])(splitName, ramda__WEBPACK_IMPORTED_MODULE_0__[\"last\"]);\nvar encodeRuleName = name => name.replace(/\\s\\.\\s/g, '/').replace(/-/g, '\\u2011') // replace with a insecable tiret to differenciate from space\n.replace(/\\s/g, '-');\nvar decodeRuleName = name => name.replace(/\\//g, ' . ').replace(/-/g, ' ').replace(/\\u2011/g, '-');\nfunction ruleParents(dottedName) {\n  var fragments = splitName(dottedName); // dottedName ex. [CDD . événements . rupture]\n\n  return Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"range\"])(1, fragments.length).map(nbEl => Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"take\"])(nbEl, fragments)).map(joinName) //  -> [ [CDD . événements . rupture], [CDD . événements], [CDD\n  .reverse();\n}\nfunction disambiguateRuleReference(rules, contextName, partialName) {\n  var possibleDottedName = [contextName, ...ruleParents(contextName), ''].map(x => x ? x + ' . ' + partialName : partialName);\n  var dottedName = possibleDottedName.find(name => name in rules);\n\n  if (!dottedName) {\n    throw new Error(\"La r\\xE9f\\xE9rence '\".concat(partialName, \"' est introuvable.\\n\\tV\\xE9rifiez que l'orthographe et l'espace de nom sont corrects\"));\n  }\n\n  return dottedName;\n}\n/*********************************\n Autres \n */\n\nfunction findParentDependencies(rules, name) {\n  // A parent dependency means that one of a rule's parents is not just a namespace holder, it is a boolean question. E.g. is it a fixed-term contract, yes / no\n  // When it is resolved to false, then the whole branch under it is disactivated (non applicable)\n  // It lets those children omit obvious and repetitive parent applicability tests\n  return ruleParents(name).map(parent => [parent, rules[parent]]).filter((_ref) => {\n    var [_, rule] = _ref;\n    return !!rule;\n  }).filter((_ref2) => {\n    var [_, {\n      question,\n      unité,\n      formule\n    }] = _ref2;\n    return (//Find the first \"calculable\" parent\n      question && !unité && !formule || question && (formule === null || formule === void 0 ? void 0 : formule['une possibilité']) !== undefined || typeof formule === 'string' && formule.includes(' = ') || formule === 'oui' || formule === 'non' || (formule === null || formule === void 0 ? void 0 : formule['une de ces conditions']) || (formule === null || formule === void 0 ? void 0 : formule['toutes ces conditions'])\n    );\n  }).map((_ref3) => {\n    var [name, _] = _ref3;\n    return name;\n  });\n}\n\n//# sourceURL=webpack://publicodes/./source/ruleUtils.ts?");

/***/ }),

/***/ "./source/temporal.ts":
/*!****************************!*\
  !*** ./source/temporal.ts ***!
  \****************************/
/*! exports provided: parsePeriod, narrowTemporalValue, createTemporalEvaluation, pureTemporal, mapTemporal, sometime, liftTemporal2, concatTemporals, liftTemporalNode, zipTemporals, groupByYear, temporalAverage, temporalCumul */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"parsePeriod\", function() { return parsePeriod; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"narrowTemporalValue\", function() { return narrowTemporalValue; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createTemporalEvaluation\", function() { return createTemporalEvaluation; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"pureTemporal\", function() { return pureTemporal; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"mapTemporal\", function() { return mapTemporal; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"sometime\", function() { return sometime; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"liftTemporal2\", function() { return liftTemporal2; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"concatTemporals\", function() { return concatTemporals; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"liftTemporalNode\", function() { return liftTemporalNode; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"zipTemporals\", function() { return zipTemporals; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"groupByYear\", function() { return groupByYear; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"temporalAverage\", function() { return temporalAverage; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"temporalCumul\", function() { return temporalCumul; });\n/* harmony import */ var _date__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./date */ \"./source/date.ts\");\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\nfunction parsePeriod(word, date) {\n  var startWords = ['depuis', 'depuis le', 'depuis la', 'à partir de', 'à partir du', 'du'];\n  var endWords = [\"jusqu'à\", \"jusqu'au\", \"jusqu'à la\", 'avant', 'avant le', 'avant la', 'au'];\n  var intervalWords = ['le', 'en'];\n\n  if (!startWords.concat(endWords, intervalWords).includes(word)) {\n    throw new SyntaxError(\"Le mot cl\\xE9 '\".concat(word, \"' n'est pas valide. Les mots cl\\xE9s possible sont les suivants :\\n\\t \").concat(startWords.join(', ')));\n  }\n\n  if (word === 'le') {\n    return {\n      start: date,\n      end: date\n    };\n  }\n\n  if (word === 'en') {\n    return {\n      start: null,\n      end: null\n    };\n  }\n\n  if (startWords.includes(word)) {\n    return {\n      start: date,\n      end: null\n    };\n  }\n\n  if (endWords.includes(word)) {\n    return {\n      start: null,\n      end: date\n    };\n  }\n\n  throw new Error('Non implémenté');\n}\nfunction narrowTemporalValue(period, temporalValue) {\n  return liftTemporal2((value, filter) => filter && value, temporalValue, createTemporalEvaluation(true, period));\n} // Returns a temporal value that's true for the given period and false otherwise.\n\nfunction createTemporalEvaluation(value) {\n  var period = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n    start: null,\n    end: null\n  };\n  var temporalValue = [_objectSpread(_objectSpread({}, period), {}, {\n    value\n  })];\n\n  if (period.start != null) {\n    temporalValue.unshift({\n      start: null,\n      end: Object(_date__WEBPACK_IMPORTED_MODULE_0__[\"getRelativeDate\"])(period.start, -1),\n      value: false\n    });\n  }\n\n  if (period.end != null) {\n    temporalValue.push({\n      start: Object(_date__WEBPACK_IMPORTED_MODULE_0__[\"getRelativeDate\"])(period.end, 1),\n      end: null,\n      value: false\n    });\n  }\n\n  return temporalValue;\n}\nfunction pureTemporal(value) {\n  return [{\n    start: null,\n    end: null,\n    value\n  }];\n}\nfunction mapTemporal(fn, temporalValue) {\n  return temporalValue.map((_ref) => {\n    var {\n      start,\n      end,\n      value\n    } = _ref;\n    return {\n      start,\n      end,\n      value: fn(value)\n    };\n  });\n}\nfunction sometime(fn, temporalValue) {\n  return temporalValue.some((_ref2) => {\n    var {\n      start,\n      end,\n      value\n    } = _ref2;\n    return fn(value);\n  });\n}\nfunction liftTemporal2(fn, temporalValue1, temporalValue2) {\n  return mapTemporal((_ref3) => {\n    var [a, b] = _ref3;\n    return fn(a, b);\n  }, zipTemporals(temporalValue1, temporalValue2));\n}\nfunction concatTemporals(temporalValues) {\n  return temporalValues.reduce((values, value) => liftTemporal2((a, b) => [...a, b], values, value), pureTemporal([]));\n}\nfunction liftTemporalNode(node) {\n  if (!('temporalValue' in node)) {\n    return pureTemporal(node);\n  }\n\n  var _ref4 = node,\n      {\n    temporalValue\n  } = _ref4,\n      baseNode = _objectWithoutProperties(_ref4, [\"temporalValue\"]);\n\n  return mapTemporal(nodeValue => _objectSpread(_objectSpread({}, baseNode), {}, {\n    nodeValue\n  }), temporalValue);\n}\nfunction zipTemporals(temporalValue1, temporalValue2) {\n  var acc = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n\n  if (!temporalValue1.length && !temporalValue2.length) {\n    return acc;\n  }\n\n  var [value1, ...rest1] = temporalValue1;\n  var [value2, ...rest2] = temporalValue2;\n  console.assert(value1.start === value2.start);\n  var endDateComparison = compareEndDate(value1.end, value2.end); // End dates are equals\n\n  if (endDateComparison === 0) {\n    return zipTemporals(rest1, rest2, [...acc, _objectSpread(_objectSpread({}, value1), {}, {\n      value: [value1.value, value2.value]\n    })]);\n  } // Value1 lasts longuer than value1\n\n\n  if (endDateComparison > 0) {\n    console.assert(value2.end !== null);\n    return zipTemporals([_objectSpread(_objectSpread({}, value1), {}, {\n      start: Object(_date__WEBPACK_IMPORTED_MODULE_0__[\"getRelativeDate\"])(value2.end, 1)\n    }), ...rest1], rest2, [...acc, _objectSpread(_objectSpread({}, value2), {}, {\n      value: [value1.value, value2.value]\n    })]);\n  } // Value2 lasts longuer than value1\n\n\n  if (endDateComparison < 0) {\n    console.assert(value1.end !== null);\n    return zipTemporals(rest1, [_objectSpread(_objectSpread({}, value2), {}, {\n      start: Object(_date__WEBPACK_IMPORTED_MODULE_0__[\"getRelativeDate\"])(value1.end, 1)\n    }), ...rest2], [...acc, _objectSpread(_objectSpread({}, value1), {}, {\n      value: [value1.value, value2.value]\n    })]);\n  }\n\n  throw new EvalError('All case should have been covered');\n}\n\nfunction beginningOfNextYear(date) {\n  return \"01/01/\".concat(Object(_date__WEBPACK_IMPORTED_MODULE_0__[\"getYear\"])(date) + 1);\n}\n\nfunction endsOfPreviousYear(date) {\n  return \"31/12/\".concat(Object(_date__WEBPACK_IMPORTED_MODULE_0__[\"getYear\"])(date) - 1);\n}\n\nfunction splitStartsAt(fn, temporal) {\n  return temporal.reduce((acc, period) => {\n    var {\n      start,\n      end\n    } = period;\n    var newStart = start === null ? start : fn(start);\n\n    if (compareEndDate(newStart, end) !== -1) {\n      return [...acc, period];\n    }\n\n    console.assert(newStart !== null);\n    return [...acc, _objectSpread(_objectSpread({}, period), {}, {\n      end: Object(_date__WEBPACK_IMPORTED_MODULE_0__[\"getRelativeDate\"])(newStart, -1)\n    }), _objectSpread(_objectSpread({}, period), {}, {\n      start: newStart\n    })];\n  }, []);\n}\n\nfunction splitEndsAt(fn, temporal) {\n  return temporal.reduce((acc, period) => {\n    var {\n      start,\n      end\n    } = period;\n    var newEnd = end === null ? end : fn(end);\n\n    if (compareStartDate(start, newEnd) !== -1) {\n      return [...acc, period];\n    }\n\n    console.assert(newEnd !== null);\n    return [...acc, _objectSpread(_objectSpread({}, period), {}, {\n      end: newEnd\n    }), _objectSpread(_objectSpread({}, period), {}, {\n      start: Object(_date__WEBPACK_IMPORTED_MODULE_0__[\"getRelativeDate\"])(newEnd, 1)\n    })];\n  }, []);\n}\n\nfunction groupByYear(temporalValue) {\n  return (// First step: split period by year if needed\n    splitEndsAt(endsOfPreviousYear, splitStartsAt(beginningOfNextYear, temporalValue)) // Second step: group period by year\n    .reduce((acc, period) => {\n      var [currentTemporal, ...otherTemporal] = acc;\n\n      if (currentTemporal === undefined) {\n        return [[period]];\n      }\n\n      var firstPeriod = currentTemporal[0];\n      console.assert(firstPeriod !== undefined && firstPeriod.end !== null && period.start !== null, 'invariant non verifié');\n\n      if (firstPeriod.end.slice(-4) !== period.start.slice(-4)) {\n        return [[period], ...acc];\n      }\n\n      return [[...currentTemporal, period], ...otherTemporal];\n    }, []).reverse()\n  );\n}\n\nfunction simplify(temporalValue) {\n  return temporalValue;\n}\n\nfunction compareStartDate(dateA, dateB) {\n  if (dateA == dateB) {\n    return 0;\n  }\n\n  if (dateA == null) {\n    return -1;\n  }\n\n  if (dateB == null) {\n    return 1;\n  }\n\n  return Object(_date__WEBPACK_IMPORTED_MODULE_0__[\"convertToDate\"])(dateA) < Object(_date__WEBPACK_IMPORTED_MODULE_0__[\"convertToDate\"])(dateB) ? -1 : 1;\n}\n\nfunction compareEndDate(dateA, dateB) {\n  if (dateA == dateB) {\n    return 0;\n  }\n\n  if (dateA == null) {\n    return 1;\n  }\n\n  if (dateB == null) {\n    return -1;\n  }\n\n  return Object(_date__WEBPACK_IMPORTED_MODULE_0__[\"convertToDate\"])(dateA) < Object(_date__WEBPACK_IMPORTED_MODULE_0__[\"convertToDate\"])(dateB) ? -1 : 1;\n}\n\nfunction temporalAverage(temporalValue, unit) {\n  temporalValue = temporalValue.filter((_ref5) => {\n    var {\n      value\n    } = _ref5;\n    return value !== false;\n  });\n\n  if (!temporalValue.length) {\n    return false;\n  }\n\n  if (temporalValue.length === 1) {\n    return temporalValue[0].value;\n  }\n\n  if (temporalValue.some((_ref6) => {\n    var {\n      value\n    } = _ref6;\n    return value == null;\n  })) {\n    return null;\n  }\n\n  var temporalNumber = temporalValue;\n  var first = temporalNumber[0];\n  var last = temporalNumber[temporalNumber.length - 1]; // La variable est définie sur un interval infini\n\n  if (first.start == null || last.end == null) {\n    if (first.start != null) {\n      return last.value;\n    }\n\n    if (last.end != null) {\n      return first.value;\n    }\n\n    return (first.value + last.value) / 2;\n  }\n\n  var totalWeight = 0;\n  var weights = temporalNumber.map((_ref7) => {\n    var {\n      start,\n      end,\n      value\n    } = _ref7;\n    ;\n    [start, end] = [start, end];\n    var weight = 0;\n\n    if (unit === null || unit === void 0 ? void 0 : unit.denominators.includes('mois')) {\n      weight = Object(_date__WEBPACK_IMPORTED_MODULE_0__[\"getDifferenceInMonths\"])(start, end);\n    } else if (unit === null || unit === void 0 ? void 0 : unit.denominators.includes('année')) {\n      weight = Object(_date__WEBPACK_IMPORTED_MODULE_0__[\"getDifferenceInYears\"])(start, end);\n    } else {\n      weight = Object(_date__WEBPACK_IMPORTED_MODULE_0__[\"getDifferenceInDays\"])(start, end);\n    }\n\n    totalWeight += weight;\n    return value * weight;\n  });\n  return weights.reduce((average, weightedValue) => average + weightedValue / totalWeight, 0);\n}\nfunction temporalCumul(temporalValue, unit) {\n  temporalValue = temporalValue.filter((_ref8) => {\n    var {\n      value\n    } = _ref8;\n    return value !== false;\n  });\n\n  if (!temporalValue.length) {\n    return false;\n  }\n\n  if (temporalValue.some((_ref9) => {\n    var {\n      value\n    } = _ref9;\n    return value == null;\n  })) {\n    return null;\n  }\n\n  var temporalNumber = temporalValue;\n  var first = temporalNumber[0];\n  var last = temporalNumber[temporalNumber.length - 1]; // La variable est définie sur un interval infini\n\n  if (first.start == null || last.end == null) {\n    if (first.start != null) {\n      return !last.value ? last.value : last.value > 0 ? Infinity : -Infinity;\n    }\n\n    if (last.end != null) {\n      return !last.value ? last.value : last.value > 0 ? Infinity : -Infinity;\n    }\n\n    return null;\n  }\n\n  if (temporalNumber.some((_ref10) => {\n    var {\n      value\n    } = _ref10;\n    return value == null;\n  })) {\n    return null;\n  }\n\n  return temporalNumber.reduce((acc, _ref11) => {\n    var {\n      start,\n      end,\n      value\n    } = _ref11;\n    ;\n    [start, end] = [start, end];\n    var weight = 1;\n\n    if (unit === null || unit === void 0 ? void 0 : unit.denominators.includes('mois')) {\n      weight = Object(_date__WEBPACK_IMPORTED_MODULE_0__[\"getDifferenceInMonths\"])(start, end);\n    } else if (unit === null || unit === void 0 ? void 0 : unit.denominators.includes('année')) {\n      weight = Object(_date__WEBPACK_IMPORTED_MODULE_0__[\"getDifferenceInYears\"])(start, end);\n    } else if (unit === null || unit === void 0 ? void 0 : unit.denominators.includes('jour')) {\n      weight = Object(_date__WEBPACK_IMPORTED_MODULE_0__[\"getDifferenceInDays\"])(start, end);\n    }\n\n    return value * weight + acc;\n  }, 0);\n}\n\n//# sourceURL=webpack://publicodes/./source/temporal.ts?");

/***/ }),

/***/ "./source/translateRules.ts":
/*!**********************************!*\
  !*** ./source/translateRules.ts ***!
  \**********************************/
/*! exports provided: attributesToTranslate, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"attributesToTranslate\", function() { return attributesToTranslate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return translateRules; });\n/* harmony import */ var ramda__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ramda */ \"ramda\");\n/* harmony import */ var ramda__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(ramda__WEBPACK_IMPORTED_MODULE_0__);\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n/* Traduction */\nvar translateContrôle = (prop, rule, translation, lang) => Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"assoc\"])('contrôles', rule.contrôles.map((control, i) => {\n  var _translation$;\n\n  return _objectSpread(_objectSpread({}, control), {}, {\n    message: (_translation$ = translation[\"\".concat(prop, \".\").concat(i, \".\").concat(lang)]) === null || _translation$ === void 0 ? void 0 : _translation$.replace(/^\\[automatic\\] /, '')\n  });\n}), rule);\n\nvar translateSuggestion = (prop, rule, translation, lang) => Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"assoc\"])('suggestions', Object.entries(rule.suggestions).reduce((acc, _ref) => {\n  var _translation$2;\n\n  var [name, value] = _ref;\n  return _objectSpread(_objectSpread({}, acc), {}, {\n    [(_translation$2 = translation[\"\".concat(prop, \".\").concat(name, \".\").concat(lang)]) === null || _translation$2 === void 0 ? void 0 : _translation$2.replace(/^\\[automatic\\] /, '')]: value\n  });\n}, {}), rule);\n\nvar attributesToTranslate = ['titre', 'description', 'question', 'résumé', 'suggestions', 'contrôles', 'note'];\n\nvar translateProp = (lang, translation) => (rule, prop) => {\n  var _propTrans;\n\n  if (prop === 'contrôles' && (rule === null || rule === void 0 ? void 0 : rule.contrôles)) {\n    return translateContrôle(prop, rule, translation, lang);\n  }\n\n  if (prop === 'suggestions' && (rule === null || rule === void 0 ? void 0 : rule.suggestions)) {\n    return translateSuggestion(prop, rule, translation, lang);\n  }\n\n  var propTrans = translation[prop + '.' + lang];\n  propTrans = (_propTrans = propTrans) === null || _propTrans === void 0 ? void 0 : _propTrans.replace(/^\\[automatic\\] /, '');\n  return propTrans ? Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"assoc\"])(prop, propTrans, rule) : rule;\n};\n\nfunction translateRule(lang, translations, name, rule) {\n  var ruleTrans = translations[name];\n\n  if (!ruleTrans) {\n    return rule;\n  }\n\n  return attributesToTranslate.reduce(translateProp(lang, ruleTrans), rule !== null && rule !== void 0 ? rule : {});\n}\n\nfunction translateRules(lang, translations, rules) {\n  var translatedRules = Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"mapObjIndexed\"])((rule, name) => translateRule(lang, translations, name, rule), rules);\n  return translatedRules;\n}\n\n//# sourceURL=webpack://publicodes/./source/translateRules.ts?");

/***/ }),

/***/ "./source/types/index.ts":
/*!*******************************!*\
  !*** ./source/types/index.ts ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("\n\n//# sourceURL=webpack://publicodes/./source/types/index.ts?");

/***/ }),

/***/ "./source/uniroot.ts":
/*!***************************!*\
  !*** ./source/uniroot.ts ***!
  \***************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return uniroot; });\n/**\n * Copied from https://gist.github.com/borgar/3317728\n *\n * Searches the interval from <tt>lowerLimit</tt> to <tt>upperLimit</tt>\n * for a root (i.e., zero) of the function <tt>func</tt> with respect to\n * its first argument using Brent's method root-finding algorithm.\n *\n * Translated from zeroin.c in http://www.netlib.org/c/brent.shar.\n *\n * Copyright (c) 2012 Borgar Thorsteinsson <borgar@borgar.net>\n * MIT License, http://www.opensource.org/licenses/mit-license.php\n *\n * @param {function} func function for which the root is sought.\n * @param {number} lowerLimit the lower point of the interval to be searched.\n * @param {number} upperLimit the upper point of the interval to be searched.\n * @param {number} errorTol the desired accuracy (convergence tolerance).\n * @param {number} maxIter the maximum number of iterations.\n * @returns an estimate for the root within accuracy.\n *\n */\nfunction uniroot(func, lowerLimit, upperLimit, errorTol, maxIter) {\n  var a = lowerLimit,\n      b = upperLimit,\n      c = a,\n      fa = func(a),\n      fb = func(b),\n      fc = fa,\n      actualTolerance,\n      newStep,\n      // Step at this iteration\n  prevStep,\n      // Distance from the last but one to the last approximation\n  p,\n      // Interpolation step is calculated in the form p/q; division is delayed until the last moment\n  q;\n  errorTol = errorTol || 0;\n  maxIter = maxIter || 1000;\n\n  while (maxIter-- > 0) {\n    prevStep = b - a;\n\n    if (Math.abs(fc) < Math.abs(fb)) {\n      // Swap data for b to be the best approximation\n      ;\n      a = b, b = c, c = a;\n      fa = fb, fb = fc, fc = fa;\n    }\n\n    actualTolerance = 1e-15 * Math.abs(b) + errorTol / 2;\n    newStep = (c - b) / 2;\n\n    if (Math.abs(newStep) <= actualTolerance || fb === 0) {\n      return b; // Acceptable approx. is found\n    } // Decide if the interpolation can be tried\n\n\n    if (Math.abs(prevStep) >= actualTolerance && Math.abs(fa) > Math.abs(fb)) {\n      // If prevStep was large enough and was in true direction, Interpolatiom may be tried\n      var t1 = void 0,\n          t2 = void 0;\n      var cb = c - b;\n\n      if (a === c) {\n        // If we have only two distinct points linear interpolation can only be applied\n        t1 = fb / fa;\n        p = cb * t1;\n        q = 1.0 - t1;\n      } else {\n        // Quadric inverse interpolation\n        ;\n        q = fa / fc, t1 = fb / fc, t2 = fb / fa;\n        p = t2 * (cb * q * (q - t1) - (b - a) * (t1 - 1));\n        q = (q - 1) * (t1 - 1) * (t2 - 1);\n      }\n\n      if (p > 0) {\n        q = -q; // p was calculated with the opposite sign; make p positive\n      } else {\n        p = -p; // and assign possible minus to q\n      }\n\n      if (p < 0.75 * cb * q - Math.abs(actualTolerance * q) / 2 && p < Math.abs(prevStep * q / 2)) {\n        // If (b + p / q) falls in [b,c] and isn't too large it is accepted\n        newStep = p / q;\n      } // If p/q is too large then the bissection procedure can reduce [b,c] range to more extent\n\n    }\n\n    if (Math.abs(newStep) < actualTolerance) {\n      // Adjust the step to be not less than tolerance\n      newStep = newStep > 0 ? actualTolerance : -actualTolerance;\n    }\n\n    ;\n    a = b, fa = fb // Save the previous approx.\n    ;\n    b += newStep, fb = func(b); // Do step to a new approxim.\n\n    if (fb > 0 && fc > 0 || fb < 0 && fc < 0) {\n      ;\n      c = a, fc = fa; // Adjust c for it to have a sign opposite to that of b\n    }\n  }\n}\n\n//# sourceURL=webpack://publicodes/./source/uniroot.ts?");

/***/ }),

/***/ "./source/units.ts":
/*!*************************!*\
  !*** ./source/units.ts ***!
  \*************************/
/*! exports provided: parseUnit, serializeUnit, inferUnit, removeOnce, convertUnit, simplifyUnit, areUnitConvertible */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"parseUnit\", function() { return parseUnit; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"serializeUnit\", function() { return serializeUnit; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"inferUnit\", function() { return inferUnit; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeOnce\", function() { return removeOnce; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"convertUnit\", function() { return convertUnit; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"simplifyUnit\", function() { return simplifyUnit; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"areUnitConvertible\", function() { return areUnitConvertible; });\n/* harmony import */ var ramda__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ramda */ \"ramda\");\n/* harmony import */ var ramda__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(ramda__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _i18n__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./i18n */ \"./source/i18n.ts\");\n\n\n//TODO this function does not handle complex units like passenger-kilometer/flight\nvar parseUnit = function parseUnit(string) {\n  var lng = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'fr';\n  var [a, ...b] = string.split('/'),\n      result = {\n    numerators: a.split('.').filter(Boolean).map(unit => getUnitKey(unit, lng)),\n    denominators: b.map(unit => getUnitKey(unit, lng))\n  };\n  return result;\n};\n\nvar translations = lng => Object.entries(_i18n__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getResourceBundle(lng, 'units'));\n\nfunction getUnitKey(unit, lng) {\n  var _translations$find;\n\n  var key = (_translations$find = translations(lng).find((_ref) => {\n    var [, trans] = _ref;\n    return trans === unit;\n  })) === null || _translations$find === void 0 ? void 0 : _translations$find[0].replace(/_plural$/, '');\n  return key || unit;\n}\n\nvar printUnits = (units, count, lng) => units.filter(unit => unit !== '%').map(unit => _i18n__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t(\"units:\".concat(unit), {\n  count,\n  lng\n})).join('.');\n\nvar plural = 2;\nvar serializeUnit = function serializeUnit(rawUnit) {\n  var count = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : plural;\n  var lng = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'fr';\n\n  if (rawUnit === null || typeof rawUnit !== 'object') {\n    return typeof rawUnit === 'string' ? _i18n__WEBPACK_IMPORTED_MODULE_1__[\"default\"].t(\"units:\".concat(rawUnit), {\n      count,\n      lng\n    }) : rawUnit;\n  }\n\n  var unit = simplify(rawUnit),\n      {\n    numerators = [],\n    denominators = []\n  } = unit; // the unit '%' is only displayed when it is the only unit\n\n  var merge = [...numerators, ...denominators];\n  if (merge.length === 1 && merge[0] === '%') return '%';\n  var n = !Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"isEmpty\"])(numerators);\n  var d = !Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"isEmpty\"])(denominators);\n  var string = !n && !d ? '' : n && !d ? printUnits(numerators, count, lng) : !n && d ? \"/\".concat(printUnits(denominators, 1, lng)) : \"\".concat(printUnits(numerators, plural, lng), \" / \").concat(printUnits(denominators, 1, lng));\n  return string;\n};\nvar noUnit = {\n  numerators: [],\n  denominators: []\n};\nvar inferUnit = (operator, rawUnits) => {\n  var units = rawUnits.map(u => u || noUnit);\n  if (operator === '*') return simplify({\n    numerators: Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"unnest\"])(units.map(u => u.numerators)),\n    denominators: Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"unnest\"])(units.map(u => u.denominators))\n  });\n\n  if (operator === '/') {\n    if (units.length !== 2) throw new Error('Infer units of a division with units.length !== 2)');\n    return inferUnit('*', [units[0], {\n      numerators: units[1].denominators,\n      denominators: units[1].numerators\n    }]);\n  }\n\n  if (operator === '-' || operator === '+') {\n    return rawUnits.find(u => u);\n  }\n\n  return undefined;\n};\nvar removeOnce = function removeOnce(element) {\n  var eqFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : ramda__WEBPACK_IMPORTED_MODULE_0__[\"equals\"];\n  return list => {\n    var index = list.findIndex(e => eqFn(e, element));\n    if (index > -1) return Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"remove\"])(index, 1)(list);else return list;\n  };\n};\n\nvar simplify = function simplify(unit) {\n  var eqFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : ramda__WEBPACK_IMPORTED_MODULE_0__[\"equals\"];\n  return [...unit.numerators, ...unit.denominators].reduce((_ref2, next) => {\n    var {\n      numerators,\n      denominators\n    } = _ref2;\n    return numerators.find(u => eqFn(next, u)) && denominators.find(u => eqFn(next, u)) ? {\n      numerators: removeOnce(next, eqFn)(numerators),\n      denominators: removeOnce(next, eqFn)(denominators)\n    } : {\n      numerators,\n      denominators\n    };\n  }, unit);\n};\n\nvar convertTable = {\n  'mois/an': 12,\n  'jour/an': 365,\n  'jour/mois': 365 / 12,\n  'trimestre/an': 4,\n  'mois/trimestre': 3,\n  'jour/trimestre': 365 / 12 * 3,\n  '€/k€': 10 ** 3,\n  'g/kg': 10 ** 3,\n  'mg/g': 10 ** 3,\n  'mg/kg': 10 ** 6\n};\n\nfunction singleUnitConversionFactor(from, to) {\n  return convertTable[\"\".concat(to, \"/\").concat(from)] || convertTable[\"\".concat(from, \"/\").concat(to)] && 1 / convertTable[\"\".concat(from, \"/\").concat(to)];\n}\n\nfunction unitsConversionFactor(from, to) {\n  var factor = 100 ** ( // Factor is mutliplied or divided 100 for each '%' in units\n  to.filter(unit => unit === '%').length - from.filter(unit => unit === '%').length);\n  [factor] = from.reduce((_ref3, fromUnit) => {\n    var [value, toUnits] = _ref3;\n    var index = toUnits.findIndex(toUnit => !!singleUnitConversionFactor(fromUnit, toUnit));\n    var factor = singleUnitConversionFactor(fromUnit, toUnits[index]) || 1;\n    return [value * factor, [...toUnits.slice(0, index + 1), ...toUnits.slice(index + 1)]];\n  }, [factor, to]);\n  return factor;\n}\n\nfunction convertUnit(from, to, value) {\n  if (!areUnitConvertible(from, to)) {\n    throw new Error(\"Impossible de convertir l'unit\\xE9 '\".concat(serializeUnit(from), \"' en '\").concat(serializeUnit(to), \"'\"));\n  }\n\n  if (!value) {\n    return value;\n  }\n\n  var [fromSimplified, factorTo] = simplifyUnitWithValue(from || noUnit);\n  var [toSimplified, factorFrom] = simplifyUnitWithValue(to || noUnit);\n  return round(value * factorTo / factorFrom * unitsConversionFactor(fromSimplified.numerators, toSimplified.numerators) * unitsConversionFactor(toSimplified.denominators, fromSimplified.denominators));\n}\nvar convertibleUnitClasses = [['mois', 'an', 'jour', 'trimestre'], ['€', 'k€'], ['g', 'kg', 'mg']];\n\nfunction areSameClass(a, b) {\n  return a === b || convertibleUnitClasses.some(units => units.includes(a) && units.includes(b));\n}\n\nfunction round(value) {\n  return +value.toFixed(16);\n}\n\nfunction simplifyUnit(unit) {\n  var {\n    numerators,\n    denominators\n  } = simplify(unit, areSameClass);\n\n  if (numerators.length && numerators.every(symb => symb === '%')) {\n    return {\n      numerators: ['%'],\n      denominators\n    };\n  }\n\n  return {\n    numerators: Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"without\"])(['%'], numerators),\n    denominators: Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"without\"])(['%'], denominators)\n  };\n}\n\nfunction simplifyUnitWithValue(unit) {\n  var value = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n  var {\n    denominators,\n    numerators\n  } = unit;\n  var factor = unitsConversionFactor(numerators, denominators);\n  return [simplify({\n    numerators: Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"without\"])(['%'], numerators),\n    denominators: Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"without\"])(['%'], denominators)\n  }, areSameClass), value ? round(value * factor) : value];\n}\n\nfunction areUnitConvertible(a, b) {\n  if (a == null || b == null) {\n    return true;\n  }\n\n  var countByUnitClass = Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"countBy\"])(unit => {\n    var classIndex = convertibleUnitClasses.findIndex(unitClass => unitClass.includes(unit));\n    return classIndex === -1 ? unit : '' + classIndex;\n  });\n  var [numA, denomA, numB, denomB] = [a.numerators, a.denominators, b.numerators, b.denominators].map(countByUnitClass);\n  var unitClasses = Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"pipe\"])(Object(ramda__WEBPACK_IMPORTED_MODULE_0__[\"map\"])(ramda__WEBPACK_IMPORTED_MODULE_0__[\"keys\"]), ramda__WEBPACK_IMPORTED_MODULE_0__[\"flatten\"], ramda__WEBPACK_IMPORTED_MODULE_0__[\"uniq\"])([numA, denomA, numB, denomB]);\n  return unitClasses.every(unitClass => (numA[unitClass] || 0) - (denomA[unitClass] || 0) === (numB[unitClass] || 0) - (denomB[unitClass] || 0) || unitClass === '%');\n}\n\n//# sourceURL=webpack://publicodes/./source/units.ts?");

/***/ }),

/***/ "./source/utils.ts":
/*!*************************!*\
  !*** ./source/utils.ts ***!
  \*************************/
/*! exports provided: coerceArray, capitalise0 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"coerceArray\", function() { return coerceArray; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"capitalise0\", function() { return capitalise0; });\nfunction coerceArray(x) {\n  return Array.isArray(x) ? x : [x];\n}\nfunction capitalise0(name) {\n  return name && name[0].toUpperCase() + name.slice(1);\n}\n\n//# sourceURL=webpack://publicodes/./source/utils.ts?");

/***/ }),

/***/ "classnames":
/*!*****************************!*\
  !*** external "classnames" ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = __WEBPACK_EXTERNAL_MODULE_classnames__;\n\n//# sourceURL=webpack://publicodes/external_%22classnames%22?");

/***/ }),

/***/ "i18next":
/*!**************************!*\
  !*** external "i18next" ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = __WEBPACK_EXTERNAL_MODULE_i18next__;\n\n//# sourceURL=webpack://publicodes/external_%22i18next%22?");

/***/ }),

/***/ "moo":
/*!**********************!*\
  !*** external "moo" ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = __WEBPACK_EXTERNAL_MODULE_moo__;\n\n//# sourceURL=webpack://publicodes/external_%22moo%22?");

/***/ }),

/***/ "nearley":
/*!**************************!*\
  !*** external "nearley" ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = __WEBPACK_EXTERNAL_MODULE_nearley__;\n\n//# sourceURL=webpack://publicodes/external_%22nearley%22?");

/***/ }),

/***/ "ramda":
/*!************************!*\
  !*** external "ramda" ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = __WEBPACK_EXTERNAL_MODULE_ramda__;\n\n//# sourceURL=webpack://publicodes/external_%22ramda%22?");

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "react" ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = __WEBPACK_EXTERNAL_MODULE_react__;\n\n//# sourceURL=webpack://publicodes/external_%22react%22?");

/***/ }),

/***/ "react-easy-emoji":
/*!***********************************!*\
  !*** external "react-easy-emoji" ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = __WEBPACK_EXTERNAL_MODULE_react_easy_emoji__;\n\n//# sourceURL=webpack://publicodes/external_%22react-easy-emoji%22?");

/***/ }),

/***/ "react-i18next":
/*!********************************!*\
  !*** external "react-i18next" ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = __WEBPACK_EXTERNAL_MODULE_react_i18next__;\n\n//# sourceURL=webpack://publicodes/external_%22react-i18next%22?");

/***/ }),

/***/ "react-markdown":
/*!*********************************!*\
  !*** external "react-markdown" ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = __WEBPACK_EXTERNAL_MODULE_react_markdown__;\n\n//# sourceURL=webpack://publicodes/external_%22react-markdown%22?");

/***/ }),

/***/ "react-router-dom":
/*!***********************************!*\
  !*** external "react-router-dom" ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = __WEBPACK_EXTERNAL_MODULE_react_router_dom__;\n\n//# sourceURL=webpack://publicodes/external_%22react-router-dom%22?");

/***/ }),

/***/ "react-router-hash-link":
/*!*****************************************!*\
  !*** external "react-router-hash-link" ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = __WEBPACK_EXTERNAL_MODULE_react_router_hash_link__;\n\n//# sourceURL=webpack://publicodes/external_%22react-router-hash-link%22?");

/***/ }),

/***/ "yaml":
/*!***********************!*\
  !*** external "yaml" ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = __WEBPACK_EXTERNAL_MODULE_yaml__;\n\n//# sourceURL=webpack://publicodes/external_%22yaml%22?");

/***/ })

/******/ });
});